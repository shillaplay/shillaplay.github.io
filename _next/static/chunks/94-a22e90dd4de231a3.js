"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{61454:function(e,n,t){var r=t(85893),i=t(20949),o=t(26723);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}n.Z=function(e){var n=e.as,t=e.children,l=e.variant,c=a(e,["as","children","variant"]),u=(0,i.ff)("colorAccent.light","colorAccent.dark"),f=(0,i.ff)("colorAccentDestination.light","colorAccentDestination.dark");return(0,r.jsx)(o.zx,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}({as:n||"button",d:"inline-flex",justifyContent:"center",alignItems:"center",p:"0px 24px",h:"48px",letterSpacing:"0.03em",textAlign:"center",borderRadius:"16px",bg:"outline"==l?"transparent":u,border:"outline"==l?"2px solid":"none",borderColor:"outline"==l?f:"transparent",color:"outline"==l?f:"#fff",boxShadow:"ghost"==l||"outline"==l?"none":"rgb(14 14 44 / 40%) 0px -1px 0px 0px inset",opacity:"ghost"==l?"0.8":"1",transition:"background-color 0.2s ease 0s, opacity 0.2s ease 0s",_hover:{opacity:"0.65",bg:u,color:"#fff",border:"none !important"},_disabled:{opacity:"0.65",cursor:"not-allowed"}},c,{children:t}))}},90599:function(e,n,t){t.d(n,{J0:function(){return S},xP:function(){return $},l0:function(){return E},YH:function(){return P},Ev:function(){return k},UI:function(){return b},Zu:function(){return I},V:function(){return q}});var r,i=t(92667),o=t(82138),s=t(92432),a=t(67294),l=t(37423),c=t(81961),u=t(94045),f=t(2593),g=t(16813),d=t(34515),m=t(85480),y=(t(47451),t(27));t(98450);function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){h(e,n,t[n])}))}return e}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function w(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var S=function(e,n,t){var l=(0,o.Z)("common").t,c=(0,i.pm)(),u=(0,a.useMemo)((function(){return{url:e}}),[e]),f=v((0,s.aM)(p({},n,{context:u})),2),g=f[0],d=f[1],m=g.data,y=g.fetching,w=g.error,S=[5e3,1e4,2e4,2e4,2e4],$=(0,a.useState)(0),E=$[0],P=$[1];return(0,a.useEffect)((function(){w&&w.message.toLowerCase().includes("network")&&(c({description:l("network-error"),status:"error",duration:4e3,isClosable:!0}),setTimeout((function(){d({requestPolicy:"cache-first"})}),S[E]),P(E+1>=S.length?0:E+1))}),[w]),t?[p({},g,(r={},h(r,t.data,m),h(r,t.fetching,y),h(r,t.error,w),r)),d]:[g,d]},$=function(e,n,t){var r=(0,a.useState)([]),i=r[0],o=r[1],s=(0,a.useState)(),d=s[0],m=s[1],h=(0,a.useState)(),p=(h[0],h[1]),$=(0,a.useState)(),E=$[0],P=$[1],k=(0,a.useState)(),b=(k[0],k[1]),I=(0,a.useState)(),q=I[0],O=I[1],F=(0,a.useState)(),x=(F[0],F[1]),D=(0,a.useState)("0"),W=D[0],j=D[1],T=(0,a.useState)("0"),B=T[0],H=T[1],_=v(S(c.jd.games,{query:"query($id: String!, $sid: String!, $limit: Int!) {\n        plays(where: {gameId: $id, sessionId: $sid}, first: $limit, orderBy: playPos, orderDirection: desc) {\n            playPos\n            player\n            txHash\n        }\n    }",variables:{id:e,sid:n,limit:t},pause:!0}),2),L=_[0],G=_[1],Q=L.data,C=L.fetching,N=L.error;(0,a.useEffect)((function(){O(C)}),[C]),(0,a.useEffect)((function(){x(N)}),[N]),(0,a.useEffect)((function(){var e;(null===Q||void 0===Q?void 0:Q.plays)&&(null===Q||void 0===Q||null===(e=Q.plays)||void 0===e?void 0:e.length)>0&&(o(Q.plays),j(Q.plays[Q.plays.length-1].playPos),H(Q.plays[0].playPos))}),[Q]),console.log("useDappQuery.data.first",Q,"fetching",C,"error",N,"gameId",e,"limit",t);var A=v(S(c.jd.games,{query:"query($id: String!, $sid: String!, $pos: String!, $limit: Int!) {\n        plays(where: {gameId: $id, sessionId: $sid, playPos_lt: $pos}, first: $limit, orderBy: playPos, orderDirection: desc) {\n            playPos\n            player\n            txHash\n        }\n    }",variables:{id:e,sid:n,pos:W,limit:t},pause:!0},{data:"moreData",fetching:"moreFetching",error:"moreError"}),2),U=A[0],z=A[1],M=U.moreData,J=U.moreFetching,Z=U.moreError;(0,a.useEffect)((function(){m(J)}),[J]),(0,a.useEffect)((function(){p(Z)}),[Z]),(0,a.useEffect)((function(){var e;(null===M||void 0===M?void 0:M.plays)&&(null===M||void 0===M||null===(e=M.plays)||void 0===e?void 0:e.length)>0&&(o(w(i).concat(w(M.plays))),j(M.plays[M.plays.length-1].playPos))}),[M]),console.log("useDappQuery.data.more",M,"fetching",J,"error",Z);var R=(0,a.useState)(),V=R[0],Y=R[1],K=(0,l.Z)(V,"useDappSubscription.filter",y.abi);console.log("cEvent:",K);(0,a.useEffect)((function(){if(K){var e={player:K.parsedLog.args[1],playPos:K.parsedLog.args[5].toString(),txHash:K.transactionHash};console.log("ran:","playInfo",e),f.O$.from(B).lt(f.O$.from(e.playPos))&&(o([e].concat(w(i))),H(e.playPos))}}),[K]);return(0,a.useEffect)((function(){j("0"),H("0"),o([]),O(!1),x(null),m(!1),p(null),P(!1),b(null),e&&f.O$.from(e)>g.HW&&n&&f.O$.from(n)>g.HW&&t>0&&(e&&!V&&Y((0,u.Nt)(e)),G({requestPolicy:"cache-first"}))}),[e,n,t]),{players:i,playersFirstFetching:q,playersNextFetching:d,playersSubcribeFetching:E,nextPlayers:function(){f.O$.from(W).gt(g.HW)&&z({requestPolicy:"cache-first"})},minPlayPos:W}},E=function(e,n){var t=(0,a.useState)([]),r=t[0],i=t[1],o=(0,a.useState)(),s=o[0],d=o[1],m=(0,a.useState)(),h=(m[0],m[1]),p=(0,a.useState)(),$=p[0],E=p[1],P=(0,a.useState)(),k=(P[0],P[1]),b=(0,a.useState)(),I=b[0],q=b[1],O=(0,a.useState)(),F=(O[0],O[1]),x=(0,a.useState)("0"),D=x[0],W=x[1],j=(0,a.useState)("0"),T=j[0],B=j[1],H=v(S(c.jd.games,{query:"query($id: String!, $limit: Int!) {\n        sessions(where: {gameId: $id}, first: $limit, orderBy: sessionId, orderDirection: desc) {\n            sessionId\n            txHash\n            primaryWinner\n            primaryWinnerPrize\n            secondaryWinner\n            secondaryWinnerPrize\n            totalPlayers\n            paymentTime\n        }\n    }",variables:{id:e,limit:n},pause:!0}),2),_=H[0],L=H[1],G=_.data,Q=_.fetching,C=_.error;(0,a.useEffect)((function(){E(Q)}),[Q]),(0,a.useEffect)((function(){k(C)}),[C]),(0,a.useEffect)((function(){var e;(null===G||void 0===G?void 0:G.sessions)&&(null===G||void 0===G||null===(e=G.sessions)||void 0===e?void 0:e.length)>0&&(i(G.sessions),W(G.sessions[G.sessions.length-1].sessionId),B(G.sessions[0].sessionId))}),[G]),console.log("useDappQuery.data.first",G,"fetching",Q,"error",C,"gameId",e,"limit",n);var N=v(S(c.jd.games,{query:"query($id: String!, $pos: String!, $limit: Int!) {\n        sessions(where: {gameId: $id, sessionId_lt: $pos}, first: $limit, orderBy: sessionId, orderDirection: desc) {\n            sessionId\n            txHash\n            primaryWinner\n            primaryWinnerPrize\n            secondaryWinner\n            secondaryWinnerPrize\n            totalPlayers\n            paymentTime\n        }\n    }",variables:{id:e,pos:D,limit:n},pause:!0},{data:"moreData",fetching:"moreFetching",error:"moreError"}),2),A=N[0],U=N[1],z=A.moreData,M=A.moreFetching,J=A.moreError;(0,a.useEffect)((function(){d(M)}),[M]),(0,a.useEffect)((function(){h(J)}),[J]),(0,a.useEffect)((function(){var e;(null===z||void 0===z?void 0:z.sessions)&&(null===z||void 0===z||null===(e=z.sessions)||void 0===e?void 0:e.length)>0&&(i(w(r).concat(w(z.sessions))),W(z.sessions[z.sessions.length-1].sessionId))}),[z]),console.log("useDappQuery.data.more",z,"fetching",M,"error",J);var Z=(0,a.useState)(),R=Z[0],V=Z[1],Y=(0,l.Z)(R,"useDappSubscription.filter",y.abi);console.log("cEvent:",Y),(0,a.useEffect)((function(){if(Y){var e={gameId:Y.parsedLog.args[0].toString(),primaryWinner:Y.parsedLog.args[1],secondaryWinner:Y.parsedLog.args[2],sessionId:Y.parsedLog.args[3].toString(),primaryWinnerPrize:Y.parsedLog.args[4].toString(),secondaryWinnerPrize:Y.parsedLog.args[5].toString(),totalPlayers:Y.parsedLog.args[6].toString(),txHash:Y.transactionHash};console.log("ran:","playInfo",e),f.O$.from(T).lt(f.O$.from(e.sessionId))&&(i([e].concat(w(r))),B(e.sessionId))}}),[Y]);return(0,a.useEffect)((function(){W("0"),B("0"),i([]),E(!1),k(null),d(!1),h(null),q(!1),F(null),e&&f.O$.from(e)>g.HW&&n>0&&(V((0,u.D_)(parseInt(e))),L({requestPolicy:"cache-first"}))}),[e,n]),{recentGames:r,recentGamesFirstFetching:$,recentGamesNextFetching:s,recentGamesSubscribeFetching:I,nextRecentGames:function(){f.O$.from(D).gt(g.HW)&&U({requestPolicy:"cache-first"})},minGameSession:D}},P=function(e,n,t){var r=(0,a.useState)([]),i=r[0],o=r[1],s=(0,a.useState)(),l=s[0],u=s[1],m=(0,a.useState)(),y=(m[0],m[1]),h=(0,a.useState)(),p=h[0],$=h[1],E=(0,a.useState)(),P=(E[0],E[1]),k=(0,a.useState)(),b=k[0],I=k[1],q=(0,a.useState)(),O=(q[0],q[1]),F=(0,a.useState)("".concat(c.n1)),x=F[0],D=F[1],W=v(S(c.jd.games,{query:"query($owner: String!, $limit: Int!) {\n        games(where: {owner: $owner}, first: $limit, orderBy: id, orderDirection: desc) {\n            id\n            allTimeTotalPlayers\n            startBlock\n            endBlock\n            playBlock\n            awaitingPlayers\n            totalHouseFeesPaid\n            totalHouseFeesPending\n            firstToEndBlockMargin\n            lastPaymentTime\n            lastPaymentTx\n        }\n    }",variables:{owner:(e||c.je).toLowerCase(),limit:t},pause:!0}),2),j=W[0],T=W[1],B=j.data,H=j.fetching,_=j.error;(0,a.useEffect)((function(){I(H)}),[H]),(0,a.useEffect)((function(){O(_)}),[_]),(0,a.useEffect)((function(){var e;(null===B||void 0===B?void 0:B.games)&&(null===B||void 0===B||null===(e=B.games)||void 0===e?void 0:e.length)>0&&(o(B.games),D(B.games[B.games.length-1].id))}),[B]),console.log("useUserGamesQuery.data.first",B,"fetching",H,"error",_,"owner",e,"limit",t);var L=v(S(c.jd.games,{query:"query($owner: String!, $pos: String!, $limit: Int!) {\n        games(where: {owner: $owner, id_lt: $pos}, first: $limit, orderBy: id, orderDirection: desc) {\n            id\n            allTimeTotalPlayers\n            startBlock\n            endBlock\n            playBlock\n            awaitingPlayers\n            totalHouseFeesPaid\n            totalHouseFeesPending\n            firstToEndBlockMargin\n            lastPaymentTime\n            lastPaymentTx\n        }\n    }",variables:{owner:(e||c.je).toLowerCase(),pos:x,limit:t},pause:!0},{data:"moreData",fetching:"moreFetching",error:"moreError"}),2),G=L[0],Q=L[1],C=G.moreData,N=G.moreFetching,A=G.moreError;(0,a.useEffect)((function(){u(N)}),[N]),(0,a.useEffect)((function(){y(A)}),[A]),(0,a.useEffect)((function(){var e;(null===C||void 0===C?void 0:C.games)&&(null===C||void 0===C||null===(e=C.games)||void 0===e?void 0:e.length)>0&&(o(w(i).concat(w(C.games))),D(C.games[C.games.length-1].id))}),[C]),console.log("useUserGamesQuery.data.more",C,"fetching",N,"error",A);var U=v(S(c.jd.games,{query:"query($owner: String!, $gameId: String!, $limit: Int!) {\n        games(where: {owner: $owner, id: $gameId}, first: $limit, orderBy: id, orderDirection: desc) {\n            id\n            allTimeTotalPlayers\n            startBlock\n            endBlock\n            playBlock\n            awaitingPlayers\n            totalHouseFeesPaid\n            totalHouseFeesPending\n            firstToEndBlockMargin\n            lastPaymentTime\n            lastPaymentTx\n        }\n    }",variables:{owner:(e||c.je).toLowerCase(),gameId:n,limit:t},pause:!0},{data:"searchData",fetching:"searchFetching",error:"searchError"}),2),z=U[0],M=U[1],J=z.searchData,Z=z.searchFetching,R=z.searchError;(0,a.useEffect)((function(){$(Z)}),[Z]),(0,a.useEffect)((function(){P(R)}),[R]),(0,a.useEffect)((function(){var e;(null===J||void 0===J?void 0:J.games)&&(null===J||void 0===J||null===(e=J.games)||void 0===e?void 0:e.length)>0&&(o(J.games),D(J.games[J.games.length-1].id))}),[J]),console.log("useUserGamesQuery.data.search",J,"fetching",Z,"error",R,"gameId",n,"limit",t);var V=function(){M({requestPolicy:"cache-first"})};return(0,a.useEffect)((function(){D("".concat(c.n1)),o([]),I(!1),O(null),u(!1),y(null),$(!1),P(null),n&&f.O$.from(n)>g.HW?V():e&&(0,d.UJ)(e)&&t>0&&T({requestPolicy:"cache-first"})}),[e,n,t]),{userGames:i,userGamesFirstFetching:b,userGamesNextFetching:l,userGamesSearchFetching:p,nextUserGames:function(){Q({requestPolicy:"cache-first"})},searchUserGame:V,minIdPos:x}},k=function(e,n,t){var r=(0,a.useState)([]),i=r[0],o=r[1],s=(0,a.useState)(),l=s[0],u=s[1],m=(0,a.useState)(),y=(m[0],m[1]),h=(0,a.useState)(),p=h[0],$=h[1],E=(0,a.useState)(),P=(E[0],E[1]),k=(0,a.useState)(),b=k[0],I=k[1],q=(0,a.useState)(),O=(q[0],q[1]),F=(0,a.useState)("0"),x=F[0],D=F[1],W=(0,a.useState)("0"),j=W[0],T=W[1],B=v(S(c.jd.games,{query:"query($owner: String!, $limit: Int!) {\n        winnings(where: {winner: $owner}, first: $limit, orderBy: payTime, orderDirection: desc) {\n            id\n            gameId\n            sessionId\n            txHash\n            winPos\n            payTime\n            amount\n        }\n    }",variables:{owner:(e||c.je).toLowerCase(),limit:t},pause:!0}),2),H=B[0],_=B[1],L=H.data,G=H.fetching,Q=H.error;(0,a.useEffect)((function(){I(G)}),[G]),(0,a.useEffect)((function(){O(Q)}),[Q]),(0,a.useEffect)((function(){var e;if((null===L||void 0===L?void 0:L.winnings)&&(null===L||void 0===L||null===(e=L.winnings)||void 0===e?void 0:e.length)>0){o(L.winnings);var n="0";L.winnings.length>=2&&(n=L.winnings[L.winnings.length-2].payTime);var t=L.winnings[L.winnings.length-1].payTime;(f.O$.from(t).eq(f.O$.from(x))||f.O$.from(t).eq(f.O$.from(n)))&&(t=f.O$.from(t).sub(g.cQ).toString()),D(t),T(L.winnings[L.winnings.length-1].id)}}),[L]),console.log("useGameWinnings.data.first",L,"fetching",G,"error",Q,"owner",e,"limit",t);var C=v(S(c.jd.games,{query:"query($owner: String!, $pos: String!, $id: String!, $limit: Int!) {\n        winnings(where: {winner: $owner, payTime_lte: $pos, id_not: $id}, first: $limit, orderBy: payTime, orderDirection: desc) {\n            id\n            gameId\n            sessionId\n            txHash\n            winPos\n            payTime\n            amount\n        }\n    }",variables:{owner:(e||c.je).toLowerCase(),pos:x,id:j,limit:t},pause:!0},{data:"moreData",fetching:"moreFetching",error:"moreError"}),2),N=C[0],A=C[1],U=N.moreData,z=N.moreFetching,M=N.moreError;(0,a.useEffect)((function(){u(z)}),[z]),(0,a.useEffect)((function(){y(M)}),[M]),(0,a.useEffect)((function(){var e;if((null===U||void 0===U?void 0:U.winnings)&&(null===U||void 0===U||null===(e=U.winnings)||void 0===e?void 0:e.length)>0){o(w(i).concat(w(U.winnings)));var n="0";U.winnings.length>=2&&(n=U.winnings[U.winnings.length-2].payTime);var t=U.winnings[U.winnings.length-1].payTime;(f.O$.from(t).eq(f.O$.from(x))||f.O$.from(t).eq(f.O$.from(n)))&&(t=f.O$.from(t).sub(g.cQ).toString()),D(t),T(U.winnings[U.winnings.length-1].id)}}),[U]),console.log("useGameWinnings.data.more",U,"fetching",z,"error",M);var J=v(S(c.jd.games,{query:"query($owner: String!, $gameId: BigInt!, $pos: BigInt!, $id: BigInt!, $limit: Int!) {\n        winnings(where: {winner: $owner, gameId: $gameId, payTime_lte: $pos, id_not: $id}, first: $limit, orderBy: payTime, orderDirection: desc) {\n            id\n            gameId\n            sessionId\n            txHash\n            winPos\n            payTime\n            amount\n        }\n    }",variables:{owner:(e||c.je).toLowerCase(),gameId:n,pos:x,id:j,limit:t},pause:!0},{data:"searchData",fetching:"searchFetching",error:"searchError"}),2),Z=J[0],R=J[1],V=Z.searchData,Y=Z.searchFetching,K=Z.searchError;(0,a.useEffect)((function(){I(Y)}),[Y]),(0,a.useEffect)((function(){O(K)}),[K]),(0,a.useEffect)((function(){var e;if((null===V||void 0===V?void 0:V.winnings)&&(null===V||void 0===V||null===(e=V.winnings)||void 0===e?void 0:e.length)>0){o(w(i).concat(w(V.winnings)));var n="0";V.winnings.length>=2&&(n=V.winnings[V.winnings.length-2].payTime);var t=V.winnings[V.winnings.length-1].payTime;(f.O$.from(t).eq(f.O$.from(x))||f.O$.from(t).eq(f.O$.from(n)))&&(t=f.O$.from(t).sub(g.cQ).toString()),D(t),T(V.winnings[V.winnings.length-1].id)}}),[V]),console.log("useUserWinningsQuery.data.search",V,"fetching",Y,"error",K,"gameId",n,"limit",t);var X=function(){R({requestPolicy:"cache-first"}),console.log("useUserWinningsQuery.data.SSS")};return(0,a.useEffect)((function(){I(!1),O(null),u(!1),y(null),$(!1),P(null),T("0"),o([]),n&&f.O$.from(n)>g.HW?D("164625939400000"):e&&(0,d.UJ)(e)&&t>0&&(D("0"),_({requestPolicy:"cache-first"}))}),[e,n,t]),(0,a.useEffect)((function(){n&&f.O$.from(n)>g.HW&&"164625939400000"==x&&"0"==j&&X()}),[x,j,n]),{gameWinnings:i,gameWinningsFirstFetching:b,gameWinningsNextFetching:l,gameWinningsSearchFetching:p,nextGameWinnings:function(){n&&f.O$.from(n)>g.HW?X():A({requestPolicy:"cache-first"})},minPayTime:x}},b=function(e,n){var t=(0,a.useState)([]),r=t[0],i=t[1],o=(0,a.useState)(),s=o[0],l=o[1],u=(0,a.useState)(),f=u[0],g=u[1],m=(0,a.useState)(),y=m[0],h=m[1],p=(0,a.useState)(),$=p[0],E=p[1],P=(0,a.useState)("".concat(c.n1)),k=P[0],b=P[1],I=v(S(c.jd.shills,{query:"query($owner: String!, $limit: Int!) {\n        shillWages(where: { shiller: $owner }, first: $limit, orderBy: pos, orderDirection: desc) {\n          id\n          shiller\n          referral\n          totalPayment\n          lastPayment\n          lastPaymentTime\n          lastPaymentHash\n          pos\n        }\n      }",variables:{owner:(e||c.je).toLowerCase(),limit:n},pause:!0}),2),q=I[0],O=I[1],F=q.data,x=q.fetching,D=q.error;(0,a.useEffect)((function(){h(x)}),[x]),(0,a.useEffect)((function(){E(D)}),[D]),(0,a.useEffect)((function(){var e;(null===F||void 0===F?void 0:F.shillWages)&&(null===F||void 0===F||null===(e=F.shillWages)||void 0===e?void 0:e.length)>0&&(i(F.shillWages),b(F.shillWages[F.shillWages.length-1].pos))}),[F]),console.log("useshillEarnings.data.first",F,"fetching",x,"error",D,"owner",e,"limit",n);var W=v(S(c.jd.shills,{query:"query($owner: String!, $pos: String!, $limit: Int!) {\n        shillWages(where: {shiller: $owner, pos_lt: $pos}, first: $limit, orderBy: pos, orderDirection: desc) {\n            id\n            shiller\n            referral\n            totalPayment\n            lastPayment\n            lastPaymentTime\n            lastPaymentHash\n            pos\n        }\n    }",variables:{owner:(e||c.je).toLowerCase(),pos:k,limit:n},pause:!0},{data:"moreData",fetching:"moreFetching",error:"moreError"}),2),j=W[0],T=W[1],B=j.moreData,H=j.moreFetching,_=j.moreError;(0,a.useEffect)((function(){l(H)}),[H]),(0,a.useEffect)((function(){g(_)}),[_]),(0,a.useEffect)((function(){var e;(null===B||void 0===B?void 0:B.shillWages)&&(null===B||void 0===B||null===(e=B.shillWages)||void 0===e?void 0:e.length)>0&&(i(w(r).concat(w(B.shillWages))),b(B.shillWages[B.shillWages.length-1].pos))}),[B]),console.log("useshillEarnings.data.more",B,"fetching",H,"error",_);return(0,a.useEffect)((function(){b("".concat(c.n1)),i([]),h(!1),E(null),l(!1),g(null),e&&(0,d.UJ)(e)&&n>0&&O({requestPolicy:"cache-first"})}),[e,n]),{shillEarnings:r,shillEarningsFirstFetching:y,shillEarningsNextFetching:s,shillEarningsFirstError:$,shillEarningsNextError:f,nextshillEarnings:function(){T({requestPolicy:"cache-first"})},restart:function(){b("".concat(c.n1)),i([]),h(!1),E(null),l(!1),g(null),O({requestPolicy:"cache-first"})},minWagePos:k}},I=function(e,n){var t=(0,a.useState)([]),r=t[0],i=t[1],o=(0,a.useState)(),s=o[0],l=o[1],u=(0,a.useState)(),f=u[0],g=u[1],m=(0,a.useState)(),y=m[0],h=m[1],p=(0,a.useState)(),$=p[0],E=p[1],P=(0,a.useState)("".concat(c.n1)),k=P[0],b=P[1],I=v(S(c.jd.stakes,{query:"query($owner: String!, $limit: Int!) {\n        stakes(where: { owner: $owner }, first: $limit, orderBy: stakeId, orderDirection: desc) {\n            id\n            owner\n            stakeId\n            lockId\n            amount\n            unlockTime\n            lastDividendPoints\n            stakeHash\n        }\n      }",variables:{owner:(e||c.je).toLowerCase(),limit:n},pause:!0}),2),q=I[0],O=I[1],F=q.data,x=q.fetching,D=q.error;(0,a.useEffect)((function(){h(x)}),[x]),(0,a.useEffect)((function(){E(D)}),[D]),(0,a.useEffect)((function(){var e;(null===F||void 0===F?void 0:F.stakes)&&(null===F||void 0===F||null===(e=F.stakes)||void 0===e?void 0:e.length)>0&&(i(F.stakes),b(F.stakes[F.stakes.length-1].stakeId))}),[F]),console.log("usemyStakes.data.first",F,"fetching",x,"error",D,"owner",e,"limit",n);var W=v(S(c.jd.stakes,{query:"query($owner: String!, $pos: String!, $limit: Int!) {\n        stakes(where: {owner: $owner, stakeId_lt: $pos}, first: $limit, orderBy: stakeId, orderDirection: desc) {\n            id\n            owner\n            stakeId\n            lockId\n            amount\n            unlockTime\n            lastDividendPoints\n            stakeHash\n        }\n    }",variables:{owner:(e||c.je).toLowerCase(),pos:k,limit:n},pause:!0},{data:"moreData",fetching:"moreFetching",error:"moreError"}),2),j=W[0],T=W[1],B=j.moreData,H=j.moreFetching,_=j.moreError;(0,a.useEffect)((function(){l(H)}),[H]),(0,a.useEffect)((function(){g(_)}),[_]),(0,a.useEffect)((function(){var e;(null===B||void 0===B?void 0:B.stakes)&&(null===B||void 0===B||null===(e=B.stakes)||void 0===e?void 0:e.length)>0&&(i(w(r).concat(w(B.stakes))),b(B.stakes[B.stakes.length-1].stakeId))}),[B]),console.log("usemyStakes.data.more",B,"fetching",H,"error",_);return(0,a.useEffect)((function(){b("".concat(c.n1)),i([]),h(!1),E(null),l(!1),g(null),e&&(0,d.UJ)(e)&&n>0&&O({requestPolicy:"cache-first"})}),[e,n]),{myStakes:r,myStakesFirstFetching:y,myStakesNextFetching:s,myStakesFirstError:$,myStakesNextError:f,nextMyStakes:function(){T({requestPolicy:"cache-first"})},removeStake:function(e){if(e<r.length){var n=w(r);n.splice(e,1),b(n[n.length-1].stakeId),i(n)}},minStakeId:k}},q=function(e,n,t,r,i){var o=(0,a.useState)([]),s=o[0],l=o[1],f=(0,a.useState)(),g=f[0],y=f[1],h=(0,a.useState)(),p=(h[0],h[1]),$=(0,m.Ov)(),E=function(){return{all:{key:"filter-all",query:function(){return null}},inActive:{key:"filter-inactive",query:function(){return"startBlock: 0, endBlock: 0"}},ended:{key:"filter-recently-ended",query:function(){return"endBlock_gt: 0, endBlock_lte: ".concat(($||0)+1)}},upcoming:{key:"filter-upcoming",query:function(){return"startBlock_gt: ".concat(($||0)+1)}},awaiting:{key:"filter-awaiting",query:function(){return"startBlock_lte: ".concat(($||0)+1,", awaitingPlayers: true")}},playing:{key:"filter-played",query:function(){return"startBlock_gt: 0, endBlock_gt: ".concat(($||0)+1)}}}},P=function(o){var a="";(0,u.N4)(e)||((0,d.UJ)(e.trim())?a='owner: "'.concat(e.trim().toLowerCase(),'"'):isNaN(e)||(a="id: ".concat(e))),E()[t||""]&&E()[t].query()&&(a="".concat(a.length>0?"".concat(a,", "):"").concat(E()[t].query()));var l="";r&&i&&(l="orderBy: ".concat(r,", orderDirection: ").concat(i)),a="\n        ".concat(a.length>0?"where: {".concat(a,"}"):"","\n        ").concat(l.length>0&&a.length>0?", ":"","\n        ").concat(l),a="\n        ".concat(a,"\n        ").concat(0==a.length?"first: ".concat(n,", skip: ").concat(o?0:s.length):", first: ".concat(n,", skip: ").concat(o?0:s.length));var c="\n        query {\n          games(".concat(a,") {\n            id\n            owner\n            entryPrice\n            countDownDuration\n            sessionId\n            allTimeTotalPlayers\n            sessionTotalPlayers\n            primaryWinnerPrize\n            secondaryWinnerPrize\n            startBlock\n            endBlock\n            playBlock\n            awaitingPlayers\n            firstToEndBlockMargin\n          }\n        }");return console.log("Query:",c,"F:",t,E()[t||""]),c},k=(0,a.useState)(P()),b=k[0],I=k[1],q=(0,a.useState)(!1),O=q[0],F=q[1],x=v(S(c.jd.games,{query:b,pause:!0}),2),D=x[0],W=x[1],j=D.data,T=D.fetching,B=D.error;(0,a.useEffect)((function(){y(T),console.log("Query:F",T)}),[T]),(0,a.useEffect)((function(){p(B),console.log("Query:E",B)}),[B]),(0,a.useEffect)((function(){var e,t;(null===j||void 0===j?void 0:j.games)&&(null===j||void 0===j||null===(e=j.games)||void 0===e?void 0:e.length)>0?(F(!((null===j||void 0===j||null===(t=j.games)||void 0===t?void 0:t.length)<n)),l(w(s).concat(w(j.games)))):B||F(!1);console.log("Query:D",j)}),[j]);return(0,a.useEffect)((function(){console.log("QQ:",g),b&&W({requestPolicy:"cache-first"})}),[b]),(0,a.useEffect)((function(){$&&r&&i&&n>0&&P(!0)!=b&&(l([]),y(!1),p(null),F(!1),I(P(!0)))}),[e,n,t,r,i,$]),{games:s,gamesFetching:g,nextGames:function(){I(P())},hasNext:O}}},16813:function(e,n,t){t.d(n,{HW:function(){return i},cQ:function(){return o},tf:function(){return s},rb:function(){return a}});var r=t(2593),i=r.O$.from(0),o=r.O$.from(1),s=(r.O$.from(9),r.O$.from(10),r.O$.from(100)),a=r.O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")}}]);