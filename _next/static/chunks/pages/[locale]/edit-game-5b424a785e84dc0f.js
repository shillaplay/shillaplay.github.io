(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[843],{20074:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/edit-game",function(){return t(45949)}])},94248:function(n,e,t){"use strict";t.d(e,{Z:function(){return l}});var a=t(85893),r=t(65988),i=t(68527);function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),a.forEach((function(e){o(n,e,t[e])}))}return n}function c(n,e){if(null==n)return{};var t,a,r=function(n,e){if(null==n)return{};var t,a,r={},i=Object.keys(n);for(a=0;a<i.length;a++)t=i[a],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)t=i[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}var s=function(n){n.duration,n.delay;return(0,a.jsx)(r.default,{id:"3a819cd25b408d8b",children:".floating-large-screen {-webkit-animation-name:floating;\nanimation-name:floating;\n-webkit-animation-iteration-count:infinite;\nanimation-iteration-count:infinite;\n-webkit-animation-timing-function:ease-in-out;\nanimation-timing-function:ease-in-out;\nanimation-play-state:running}\n@media (max-width:992px) {.floating-large-screen.mobile-pause {animation-play-state:paused}}\n@keyframes floating {from {transform:translate(0, 0px)}65% {transform:translate(0, 20px)}to {transform:translate(0, 0px)}}"})};function l(n){var e=n.as,t=n.children,r=n.mobilePause,o=n.className,l=n.duration,d=n.delay,f=c(n,["as","children","mobilePause","className","duration","delay"]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.xu,u({as:e||"div"},f,{className:"floating-large-screen ".concat(r?"mobile-pause":""," ").concat(o||""),style:{animationDuration:l||"3s",animationDelay:d||"0s"}},f,{children:t})),(0,a.jsx)(s,{duration:l,delay:d})]})}},45949:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSG:function(){return k},default:function(){return _}});var a=t(35666),r=t.n(a),i=t(85893),o=t(92667),u=t(68527),c=t(26723),s=t(82138),l=t(81961),d=(t(94045),t(32174)),f=t(37911);t(94248);t(14382);var m=t(4226),p=t(67294),g=t(86455),b=t.n(g),x=t(77044),h=t(57060),y=t(20149),w=t(80109),v=t(17618),j=(t(27),t(75276)),O=t(90387);function S(n,e,t,a,r,i,o){try{var u=n[i](o),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(a,r)}var k=!0,_=function(){var n=(0,s.Z)("edit-game"),e=n.t,t=n.lang,a=(0,o.pm)(),g=(0,O.useRouter)(),k=g.query.id,_=(0,x.Ge)().account,P=(0,h.Z)().onOpen,C=(0,v.s5)(),E=((0,v.Ib)(),(0,p.useState)()),N=E[0],T=E[1],D=(0,p.useState)(),Z=D[0],I=D[1],A=function(){return _?Z?"updating":"update":"common:connect-wallet"},B=(0,p.useState)(A()),G=B[0],H=B[1];(0,p.useEffect)((function(){H(A())}),[_]);var W,z,M=(W=r().mark((function n(t){var i,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("update:",t),!Z){n.next=3;break}return n.abrupt("return");case 3:return I(!0),H("updating"),n.prev=5,console.log("submitHandler:txStatus.111",Z,A()),n.next=9,C.updateGame(k,t.entryPrice,t.countDownDuration,t.ownerPercentage,t.primaryWinnerPercentage,t.secondaryWinnerPercentage);case 9:i=n.sent,T(i.hash),n.next=20;break;case 13:n.prev=13,n.t0=n.catch(5),o=n.t0.code,console.log("submitHandler:2",o,n.t0),I(!1),H("update"),o!=l.O1.META_MASK_TX_DECLINED?a({description:e("common:conn-error"),status:"error",duration:4e3,isClosable:!0}):a({description:e("common:tx-declined"),status:"error",duration:4e3,isClosable:!0});case 20:case"end":return n.stop()}}),n,null,[[5,13]])})),function(){var n=this,e=arguments;return new Promise((function(t,a){var r=W.apply(n,e);function i(n){S(r,t,a,i,o,"next",n)}function o(n){S(r,t,a,i,o,"throw",n)}i(void 0)}))}),X=((0,w.k)(N,(function(n){console.log("submitHandler:txStatus.2",n),I(!1),H("update"),b().fire({text:e("updating-ok"),icon:"info",showCancelButton:!0,showConfirmButton:!0,cancelButtonText:e("common:cancel"),confirmButtonText:e("mint-game:manage-nft")}).then((function(n){n.isConfirmed&&g.push(f.Z.localise("/game/?id=".concat(k),t))}))}),(function(){a({description:e("updating-failed"),status:"error",duration:4e3,isClosable:!0}),I(!1),H(A())})),(0,y.mM)()),R=(X.balance,X.fetchStatus,(0,p.useState)()),q=R[0],F=R[1],K=(0,p.useState)(),L=K[0],U=K[1],J=function(n){U(n),_?M(n):(F(!0),P())};(0,p.useEffect)((function(){q&&_&&(J(L),F(!1))}),[_]);return(0,i.jsx)(d.Z,{link:"/edit-game",title:e("title"),description:e("desc"),image:null,updatedTime:null,children:(0,i.jsx)(m.Z,{children:(0,i.jsx)(u.kC,{width:"full",align:"center",justifyContent:"center",alignItems:"center",children:(0,i.jsxs)(u.xu,{p:8,width:"550px",maxW:"100%",borderWidth:1,borderRadius:8,boxShadow:"lg",children:[(0,i.jsxs)(u.Ug,{textAlign:"center",justifyContent:"space-between",alignItems:"center",mb:"50px",children:[(0,i.jsx)(u.xv,{fontSize:"sm",children:e("game-id",[k])}),(0,i.jsx)(c.zx,{type:"submit",textTransform:"capitalize",onClick:z,children:e("reset")})]}),(0,i.jsx)(u.xu,{my:4,textAlign:"left",children:(0,i.jsx)(j.Z,{submitHandler:J,resetGetter:function(n){z=n},gameStyle:{"common:connect-wallet":"normal",update:"normal",updating:"italic"}[G],gameStatus:G,id:k})})]})})})})}}},function(n){n.O(0,[868,642,607,612,921,46,801,662,276,774,888,179],(function(){return e=20074,n(n.s=e);var e}));var e=n.O();_N_E=e}]);