(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{1008:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/game",function(){return t(17267)}])},93693:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(85893),o=t(68527);function a(e){var n=e.children,t=e.hideDivider;return(0,r.jsxs)(o.xu,{children:[(0,r.jsx)(o.xu,{w:"100%",d:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:n}),(0,r.jsx)(o.iz,{mt:"0.2rem",mb:"1rem",visibility:t?"hidden":"visible"})]})}},80028:function(e,n,t){"use strict";var r=t(85893),o=t(68527);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=function(e){var n=e.children,t=e.reverse,a=e.mobileReverse,l=s(e,["children","reverse","mobileReverse"]);return(0,r.jsx)(o.kC,i({w:"100%",flexDirection:{base:a?"column-reverse":"column",md:t?"row-reverse":"row"},justifyContent:{base:"flex-start",md:"space-between"},alignItems:{base:"flex-start",md:"flex-start"}},l,{children:n}))};l.First=function(e){var n=e.as,t=e.children,a=s(e,["as","children"]);return(0,r.jsx)(o.xu,i({as:n||"div",w:{base:"100%",md:"50%"},mb:{base:"25px",md:"0px"}},a,{children:t}))},l.Second=function(e){var n=e.as,t=e.children,a=s(e,["as","children"]);return(0,r.jsx)(o.xu,i({as:n||"div",w:{base:"100%",md:"50%"},p:{base:"0px",md:"25px"}},a,{children:t}))},n.Z=l},57277:function(e,n,t){"use strict";t.d(n,{$x:function(){return x},vk:function(){return g},qv:function(){return h}});var r=t(35666),o=t.n(r),a=t(67294),i=t(2593),s=t(16813),l=t(81961),c=t(17618),u=t(37423),f=t(94045);function d(e,n,t,r,o,a,i){try{var s=e[a](i),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,o)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){d(a,r,o,i,s,"next",e)}function s(e){d(a,r,o,i,s,"throw",e)}i(void 0)}))}}function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){p(e,n,t[n])}))}return e}var x=function(e){var n=l.J_.idle,t=l.J_.pending,r=l.J_.ok,d=l.J_.notOk,p=(0,a.useState)({owner:l.je,entryPrice:s.HW,countDownDuration:s.HW,primaryWinnerPercentage:s.HW,secondaryWinnerPercentage:s.HW,ownerPercentage:s.HW,totalSessions:s.HW,totalPlayers:s.HW,totalProfits:s.HW,bank:s.HW,gameInfoStatus:n}),x=p[0],g=p[1],h=(0,c.s5)(),b=(0,a.useState)(),v=b[0],j=b[1],w=(0,u.Z)(v,"useGameStarted");console.log("GameEvent.Started",w);var O=(0,a.useState)(),S=O[0],P=O[1],k=(0,u.Z)(S,"useGameCanceled"),W=(0,a.useState)(),C=W[0],N=W[1],Z=(0,u.Z)(C,"useGameFunded"),_=(0,a.useState)(),I=_[0],H=_[1],E=(0,u.Z)(I,"useGameEnded");return console.log("GameEvent.Ended",E),(0,a.useEffect)((function(){e&&(j((0,f.tz)(e)),P((0,f.ic)(e)),N((0,f.DQ)(e)),H((0,f.D_)(e)))}),[e]),(0,a.useEffect)((function(){var n=m(o().mark((function n(){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,g((function(e){return y({},e,{gameSessionInfoStatus:t})})),n.next=4,h.gameInfo(e);case 4:a=n.sent,g({owner:a.owner,entryPrice:i.O$.from(a.entryPrice.toString()),countDownDuration:i.O$.from(a.countDownDuration.toString()),primaryWinnerPercentage:i.O$.from(a.primaryWinnerPercentage.toString()),secondaryWinnerPercentage:i.O$.from(a.secondaryWinnerPercentage.toString()),ownerPercentage:i.O$.from(a.ownerPercentage.toString()),totalSessions:i.O$.from(a.totalSessions.toString()),totalPlayers:i.O$.from(a.totalPlayers.toString()),totalProfits:i.O$.from(a.totalProfits.toString()),bank:i.O$.from(a.bank.toString()),gameInfoStatus:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),g((function(e){return y({},e,{gameSessionInfoStatus:d})}));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));h&&e&&n()}),[r,d,h,e,w,k,Z,E]),x},g=function(e){var n=l.J_.idle,t=l.J_.pending,r=l.J_.ok,d=l.J_.notOk,p=(0,a.useState)({startBlock:s.HW,endBlock:s.HW,playBlock:s.HW,primaryWinnerPrize:s.HW,secondaryWinnerPrize:s.HW,ownerPrize:s.HW,vaultPrize:s.HW,sessionBank:s.HW,sessionTotalPlayers:s.HW,awaitingPlayers:!1,primaryWinner:l.je,secondaryWinner:l.je,gameSessionInfoStatus:n}),x=p[0],g=p[1],h=(0,c.s5)(),b=(0,a.useState)(),v=b[0],j=b[1],w=(0,u.Z)(v,"useGameStarted"),O=(0,a.useState)(),S=O[0],P=O[1],k=(0,u.Z)(S,"useGameCanceled"),W=(0,a.useState)(),C=W[0],N=W[1],Z=(0,u.Z)(C,"usePlayEvent"),_=(0,a.useState)(),I=_[0],H=_[1],E=(0,u.Z)(I,"useGameFunded"),B=(0,a.useState)(),$=B[0],D=B[1],T=(0,u.Z)($,"useGameEnded");return(0,a.useEffect)((function(){e&&(j((0,f.tz)(e)),P((0,f.ic)(e)),N((0,f.Nt)(e)),H((0,f.DQ)(e)),D((0,f.D_)(e)))}),[e]),(0,a.useEffect)((function(){var n=m(o().mark((function n(){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,g((function(e){return y({},e,{gameSessionInfoStatus:t})})),n.next=4,h.gameSessionInfo(e);case 4:a=n.sent,g({startBlock:i.O$.from(a.startBlock.toString()),endBlock:i.O$.from(a.endBlock.toString()),playBlock:i.O$.from(a.playBlock.toString()),primaryWinnerPrize:i.O$.from(a.primaryWinnerPrize.toString()),secondaryWinnerPrize:i.O$.from(a.secondaryWinnerPrize.toString()),ownerPrize:i.O$.from(a.ownerPrize.toString()),vaultPrize:i.O$.from(a.vaultPrize.toString()),sessionBank:i.O$.from(a.bank.toString()),sessionTotalPlayers:i.O$.from(a.totalPlayers.toString()),awaitingPlayers:a.awaitingPlayers,primaryWinner:a.primaryWinner,secondaryWinner:a.secondaryWinner,gameSessionInfoStatus:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),g((function(e){return y({},e,{gameSessionInfoStatus:d})}));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));h&&e&&n()}),[r,d,h,e,w,k,Z,E,T]),x},h=function(e){var n=l.J_.idle,t=(l.J_.pending,l.J_.ok),r=l.J_.notOk,d=(0,a.useState)({totalPlays:s.HW,totalPlaysStatus:n}),p=d[0],x=d[1],g=(0,c.s5)(),h=(0,a.useState)((0,f.sE)()),b=h[0],v=(h[1],(0,u.Z)(b));return(0,a.useEffect)((function(){var n=m(o().mark((function e(){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.currentGamePlays();case 3:n=e.sent,a=i.O$.from(n.toString()),x({totalPlays:a,totalPlaysStatus:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),x((function(e){return y({},e,{totalPlaysStatus:r})}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));!g||e&&p.totalPlaysStatus==t||n()}),[t,r,g,v]),p}},17267:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return oe},default:function(){return ae}});var r=t(35666),o=t.n(r),a=t(85893),i=t(92667),s=t(20949),l=t(68527),c=t(79762),u=t(82138),f=t(81961),d=t(62133),m=t(80028),p=t(37911),y=t(13365),x=t(412),g=t(67294);t(30710);var h=t(34515),b=t(83897);function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function j(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var w=function(e){e.id,e.gameId,e.sessionId;var n=e.playPos,t=e.player,r=e.txHash,o=(e.isPrimaryWinner,e.isSecondaryWinner,j(e,["id","gameId","sessionId","playPos","player","txHash","isPrimaryWinner","isSecondaryWinner"])),i=(0,u.Z)("common");i.t,i.lang;return(0,a.jsxs)(l.xu,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){v(e,n,t[n])}))}return e}({className:"player row",justifyContent:"flex-start",alignItems:"flex-start"},o,{children:[(0,a.jsxs)(l.Ug,{justifyContent:"space-between",w:"100%",children:[(0,a.jsx)(l.xu,{className:"text-trunc",as:"a",href:(0,h.s6)(t,h.il.address),d:"block",children:t})," ",(0,a.jsxs)(l.Ct,{borderRadius:"3px",children:["#",n]})]}),(0,a.jsx)(l.iz,{my:"5px"}),(0,a.jsx)(l.xu,{className:"text-trunc",as:"a",href:(0,h.s6)(r,h.il.transaction),d:"block",children:r})]}))},O=t(55154);function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){S(e,n,t[n])}))}return e}function k(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var W=function(e){var n=e.topChildren,t=e.bottomChildren,r=e.players,o=e.totalPlayers,i=e.primaryWinner,c=e.secondaryWinner,f=e.isHistory,d=k(e,["topChildren","bottomChildren","players","totalPlayers","primaryWinner","secondaryWinner","isHistory"]),m=(0,u.Z)("game"),p=m.t,y=m.lang,x=(0,s.ff)("elementBg.light","elementBg.dark"),g=(0,s.ff)("elementHeaderBg.light","elementHeaderBg.dark"),h=(0,s.ff)("elementTitleColor.light","elementTitleColor.dark"),v=(0,s.ff)("elementSubTitleColor.light","elementSubTitleColor.dark");return(0,a.jsx)(l.xu,P({w:"100%",className:"players mb-4"},d,{children:(0,a.jsxs)(l.xu,{className:"list m-auto",children:[(0,a.jsxs)(l.xu,{className:"head row m-0 align-items-center",bg:g,children:[(0,a.jsx)(l.xv,{as:"span",textTransform:"uppercase",className:"title",color:h,children:p(f?"players-prev":"players")})," ",(0,a.jsx)(l.xv,{as:"i",className:"far fa-fill-drip",d:"none"}),(0,a.jsxs)("div",{className:"ml-auto rs",children:[(0,a.jsx)(b.Z,{locale:y,children:o}),(0,a.jsx)(l.xu,{as:O.I$,color:h})]})]}),(0,a.jsxs)(l.xu,{className:"body",bg:x,children:[(0,a.jsxs)(l.Ug,{d:"none",p:"15px 20px 0px 20px",justifyContent:"space-between",alignItems:"center",children:[(0,a.jsx)(l.xv,{as:"div",textTransform:"uppercase",className:"title w-50",color:v,children:p("player")}),(0,a.jsx)(l.xv,{as:"div",textTransform:"uppercase",className:"title w-50",color:v,children:p("play-hash")})]}),(0,a.jsxs)("div",{className:"players_list",children:[n,(r||[]).map((function(e,n){return(0,a.jsx)("span",{children:(0,a.jsx)(w,P({},e,{bg:g,isPrimaryWinner:e.player.toLowerCase()==i.toLowerCase(),isSecondaryWinner:e.player.toLowerCase()==c.toLowerCase()}),n)})})),t]})]})]})}))},C=t(94045),N=t(2593),Z=t(93693);function _(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function I(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var H=function(e){e.id;var n=e.sessionId,t=e.txHash,r=e.primaryWinner,o=e.primaryWinnerPrize,i=e.secondaryWinner,c=e.secondaryWinnerPrize,f=e.totalPlayers,d=e.paymentTime,m=I(e,["id","sessionId","txHash","primaryWinner","primaryWinnerPrize","secondaryWinner","secondaryWinnerPrize","totalPlayers","paymentTime"]),p=(0,u.Z)("game"),y=p.t,x=p.lang,g=(0,s.ff)("#fff","navbarBg.dark"),v=(0,s.ff)("#363636 !important","#d6d6d6 !important");return(0,a.jsxs)(l.xu,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){_(e,n,t[n])}))}return e}({w:"100%",bg:g,color:v,p:8,borderWidth:1,borderRadius:8,boxShadow:"lg",mb:{base:"0.5rem"}},m,{children:[(0,a.jsxs)(Z.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("session-id"),":\xa0"]}),(0,a.jsx)(l.xu,{children:n})]}),(0,a.jsxs)(Z.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("payment-tx"),":\xa0"]}),(0,a.jsx)(l.xu,{className:"text-trunc link",as:"a",href:(0,h.s6)(t,h.il.transaction),d:"block",children:t})]}),(0,a.jsxs)(Z.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("total-players"),":\xa0"]}),void 0===f?(0,a.jsx)(l.xu,{children:"..."}):(0,a.jsx)(b.Z,{locale:x,children:f})]}),(0,a.jsxs)(Z.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("primary-winner"),":\xa0"]}),r?(0,a.jsx)(l.xu,{as:"a",className:"text-trunc link",href:(0,h.s6)(r,h.il.address),d:"block",children:r}):(0,a.jsx)(l.xu,{children:"--"})]}),(0,a.jsxs)(Z.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("primary-winner-prize"),":\xa0"]}),(0,a.jsx)(l.xu,{children:y("common:value-symbol",[b.Z.format((0,C.Xv)(N.O$.from(o)),{locale:x,minFD:2,maxFD:2})],!0)})]}),(0,a.jsxs)(Z.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("secondary-winner"),":\xa0"]}),i?(0,a.jsx)(l.xu,{as:"a",className:"text-trunc link",href:(0,h.s6)(i,h.il.address),d:"block",children:i}):(0,a.jsx)(l.xu,{children:"--"})]}),(0,a.jsxs)(Z.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("secondary-winner-prize"),":\xa0"]}),(0,a.jsx)(l.xu,{children:y("common:value-symbol",[b.Z.format((0,C.Xv)(N.O$.from(c)),{locale:x,minFD:2,maxFD:2})],!0)})]}),(0,a.jsxs)(Z.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("payment-time"),":\xa0"]}),void 0===d?(0,a.jsx)(l.xu,{children:"..."}):(0,a.jsx)(l.xu,{children:new Date(1e3*parseInt(d)).toLocaleString()})]})]}))};function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){E(e,n,t[n])}))}return e}function $(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var D=function(e){var n=e.topChildren,t=e.bottomChildren,r=e.games,o=e.totalGames,i=(e.sessionTotalPlayers,$(e,["topChildren","bottomChildren","games","totalGames","sessionTotalPlayers"]));console.log("Games:",r);var c=(0,u.Z)("game"),f=c.t,d=c.lang,m=(0,s.ff)("elementBg.light","elementBg.dark"),p=(0,s.ff)("elementHeaderBg.light","elementHeaderBg.dark"),y=(0,s.ff)("elementTitleColor.light","elementTitleColor.dark");(0,s.ff)("elementSubTitleColor.light","elementSubTitleColor.dark");return(0,a.jsx)(l.xu,B({w:"100%",className:"players mb-4"},i,{children:(0,a.jsxs)("div",{className:"list m-auto pt-5",children:[(0,a.jsxs)(l.xu,{className:"head row m-0 align-items-center",bg:p,children:[(0,a.jsx)(l.xv,{as:"span",textTransform:"uppercase",className:"title",color:y,children:f("recent-games")})," ",(0,a.jsx)(l.xv,{as:"i",className:"far fa-fill-drip",d:"none"}),(0,a.jsxs)("div",{className:"ml-auto rs",children:[(0,a.jsx)(b.Z,{locale:d,children:o}),(0,a.jsx)(l.xu,{as:O.iVx,color:y})]})]}),(0,a.jsx)(l.xu,{className:"body",bg:m,children:(0,a.jsxs)("div",{className:"players_list",children:[n,(r||[]).map((function(e,n){return(0,a.jsx)("span",{children:(0,a.jsx)(H,B({},e,{bg:p}),n)})})),t]})})]})}))},T=t(4226),z=t(61454),G=t(57060),F=t(16813),J=t(90387),L=t(80109),M=t(86455),R=t.n(M),A=t(17618),X=t(20149),U=t(57277),q=t(90599),Q=t(77044),V=t(85480),K=t(27),Y=t(2128),ee=t(46782);function ne(e,n,t,r,o,a,i){try{var s=e[a](i),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,o)}function te(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){ne(a,r,o,i,s,"next",e)}function s(e){ne(a,r,o,i,s,"throw",e)}i(void 0)}))}}function re(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var oe=!0,ae=function(){var e=(0,u.Z)("game"),n=e.t,t=e.lang,r=(0,g.useState)(),h=r[0],v=r[1],j=(0,i.pm)(),w=(0,Q.Ge)().account,O=(0,G.Z)().onOpen,S=(0,A.s5)(),P=(0,g.useState)(),k=P[0],Z=P[1],_=(0,g.useState)(),I=_[0],H=_[1],E={"common:connect-wallet":"normal",play:"normal",playing:"italic"},B=function(){return w&&I?"playing":"play"},$=(0,J.useRouter)(),M=$.query.id,ne=(0,V.Ov)(),oe=(0,U.$x)(M),ae=oe.owner,ie=oe.entryPrice,se=(oe.countDownDuration,oe.primaryWinnerPercentage,oe.secondaryWinnerPercentage,oe.ownerPercentage,oe.totalSessions),le=(oe.totalPlayers,oe.totalProfits,oe.bank,oe.gameInfoStatus),ce=(0,U.vk)(M),ue=ce.startBlock,fe=ce.endBlock,de=ce.playBlock,me=ce.primaryWinnerPrize,pe=ce.secondaryWinnerPrize,ye=(ce.ownerPrize,ce.vaultPrize,ce.reserve,ce.sessionTotalPlayers),xe=ce.awaitingPlayers,ge=ce.primaryWinner,he=ce.secondaryWinner;ce.gameSessionInfoStatus;console.log("gameInfo.default",ne,oe),console.log("gameInfo.session","startBlock",ue.toNumber(),"latestBlockNumber",ne,"playBlock",de.toNumber(),"endBlock",fe.toNumber(),ce),(0,g.useEffect)((function(){console.log("Game:02",M,ae,le),le==f.J_.ok&&ae==f.je&&$.push(p.Z.localise("/404",t))}),[le]);var be=(0,Y.EH)({pause:ce==f.J_.pending,startBlock:ue,endBlock:fe,playBlock:de,awaitingPlayers:xe,latestBlockNumber:ne}),ve=(0,g.useState)(B()),je=ve[0],we=ve[1],Oe=(0,g.useState)(),Se=Oe[0],Pe=Oe[1],ke=((0,L.k)(Se,(function(e){console.log("handleSubmit:txStatus.2",e),j({description:n("play-ok"),status:"success",duration:4e3,isClosable:!0}),H(!1)}),(function(){j({description:n("play-failed"),status:"error",duration:4e3,isClosable:!0}),H(!1)})),te(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),console.log("handleSubmit:txStatus.1",t),e.prev=2,console.log("handleSubmit:txStatus.101",I,B(),M,N.O$.from(M).toString()),e.next=6,S.play("".concat(M));case 6:r=e.sent,Pe(r.hash),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),(0,C.S3)(e.t0,n,j,(function(){H(!1)}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))),We=(0,X.mM)(),Ce=We.balance,Ne=We.fetchStatus,Ze=(0,X.tf)(),_e=Ze.allowance,Ie=Ze.fetchStatusAllowance,He=(0,q.xP)("".concat(M||0),se.toString(),f.Rs),Ee=He.players,Be=He.playersFirstFetching,$e=He.playersNextFetching,De=He.playersSubcribeFetching,Te=He.nextPlayers,ze=He.minPlayPos,Ge=(0,q.l0)("".concat(M||0),f.Rs),Fe=Ge.recentGames,Je=Ge.recentGamesFirstFetching,Le=Ge.recentGamesNextFetching,Me=Ge.recentGamesSubscribeFetching,Re=Ge.nextRecentGames,Ae=Ge.minGameSession;console.log("Games:A",Je,Fe);var Xe=(0,g.useState)(F.HW),Ue=Xe[0],qe=Xe[1],Qe=re((0,X.A$)(Ue,K.address),3),Ve=(Qe[0],Qe[1],Qe[2]);(0,g.useEffect)((function(){Ve&&((0,C.S3)(Ve,n,j,(function(){H(!1)})),qe(F.HW))}),[Ve]),(0,g.useEffect)((function(){Ue.gt(F.HW)&&N.O$.from(ie).lte(_e)&&(console.log("start:","approved",(0,C.Xv)(_e)),ke(),qe(F.HW))}),[Ue,_e]),(0,g.useEffect)((function(){w&&h&&(console.log("Play:onConnected",h),h(),v(null)),we(B())}),[w]),(0,g.useEffect)((function(){we(B())}),[I]);var Ke=(0,g.useState)(),Ye=Ke[0],en=Ke[1];(0,s.ff)("elementHeaderBg.light","elementHeaderBg.dark"),(0,s.ff)("colorAccent.light","colorAccent.dark");return(0,a.jsx)(d.Z,{link:"/game/?id=".concat(M),title:n("title"),description:n("common:sitedesc"),image:null,updatedTime:null,children:(0,a.jsxs)(T.Z,{children:[(0,a.jsxs)(m.Z,{mt:"25px",children:[(0,a.jsxs)(m.Z.First,{children:[(0,a.jsx)(x.Z,{gameId:M,gameInfo:oe,gameSessionInfo:ce,gameState:be,latestBlockNumber:ne,balance:Ce,allowance:_e,onOpenWallet:O}),(0,a.jsxs)(l.gC,{as:"div",justifyContent:"center",alignItems:"center",mt:"25px",children:[(0,a.jsxs)("div",{className:"bet_control w-75 row m-0 m-auto",children:[(0,a.jsx)(c.NI,{children:(0,a.jsxs)(c.Q6,{d:"flex",flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap",children:[(0,a.jsx)(l.xu,{ml:"5px",children:n("common:balance",[b.Z.format((0,C.Xv)(null===Ce||void 0===Ce?void 0:Ce.toString(),0),{locale:t})])}),(0,a.jsx)(l.xu,{children:n("entry-price-cost",[b.Z.format((0,C.Xv)(ie.toString(),0),{locale:t,minFD:2,maxFD:2})],!0)})]})}),(0,a.jsx)(z.Z,{className:"tilted-btn w-100",onClick:function(){en(null),w?Ne!=f.J_.ok||Ie!=f.J_.ok?(H(!0),setSubmitOnBalancesFetched(!0)):Ne==f.J_.ok&&Ce.lt(N.O$.from(ie,0))?en(n("entry-price-low-balance-error",[b.Z.format((0,C.Xv)(ie.toString(),0),{locale:t})],!0)):I||(H(!0),console.log("handleSubmit:txStatus.0P",ie),N.O$.from(ie).gt(_e)?R().fire({text:n("common:approve-text-game"),icon:"info",confirmButtonText:n("common:ok")}).then(te(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.isConfirmed?qe(F.rb):H(!1);case 1:case"end":return e.stop()}}),e)})))):ke()):O()},minH:"56px",textTransform:"capitalize",disabled:"italic"==E[je]||![Y.$p.awaiting,Y.$p.playing].includes(be),fontStyle:E[je],children:n(je)}),(0,a.jsx)(c.NI,{isInvalid:!(0,C.N4)(Ye),children:(0,a.jsx)(c.J1,{children:Ye})})]}),(0,a.jsxs)(l.xu,{bg:(0,s.ff)("elementBg.light","elementBg.dark"),p:"0.25rem",borderLeft:"4px solid",borderColor:(0,s.ff)("colorAccent.light","colorAccent.dark"),children:[(0,a.jsx)(l.xv,{as:"div",mb:"5px",fontWeight:"600",children:me.gt(F.HW)?n("win-condition-primary-var",[b.Z.format((0,C.Xv)(me),{locale:t,minFD:2,maxFD:2})],!0):n("win-condition-primary")}),(0,a.jsx)(l.xv,{as:"div",mb:"10px",children:pe.gt(F.HW)?n("win-condition-secondary-var",[b.Z.format((0,C.Xv)(pe),{locale:t,minFD:2,maxFD:2})],!0):n("win-condition-secondary")}),ge==f.je?null:(0,a.jsx)(l.xv,{as:"div",mb:"5px",fontWeight:"600",children:w&&ge&&w.toLowerCase()==ge.toLowerCase()?n("lastplayer-you"):n("lastplayer-address",[ge],!0)}),he==f.je?null:(0,a.jsx)(l.xv,{as:"div",mb:"5px",children:w&&he&&w.toLowerCase()==he.toLowerCase()?n("secplayer-you"):n("secplayer-address",[he],!0)})]}),(0,a.jsx)(z.Z,{variant:"outline",className:"tilted-btn w-100",onClick:function(){return Z(!0)},minH:"56px",textTransform:"capitalize",children:n("fund-game")})]})]}),(0,a.jsx)(m.Z.Second,{pt:{base:"40px !important",md:"0px !important"},as:l.Ug,justifyContent:{base:"flex-end",md:"center"},alignItems:{base:"flex-start",md:"center"},children:(0,a.jsx)(W,{players:Ee,isHistory:be==Y.$p.inactive&&Ee.length>0,primaryWinner:ge,secondaryWinner:he,totalPlayers:ye.toNumber(),pt:"0px !important",topChildren:(0,a.jsx)(l.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:(0,a.jsx)(y.Z,{as:l.Ug,isLoading:De,justifyContent:"center",my:"15px",children:null})}),bottomChildren:(0,a.jsxs)(l.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,a.jsx)(y.Z,{as:l.Ug,isLoading:Be||$e,justifyContent:"center",my:"15px",children:null}),(0,a.jsx)(z.Z,{d:Be||$e||De||ye.toNumber()==(Ee||[]).length||0==(Ee||[]).length||N.O$.from(ze).lte(F.cQ)?"none":"block",onClick:function(){Te()},_disabled:{opacity:.4},_hover:{opactity:.4},children:n("common:load-more")})]})})})]}),(0,a.jsx)(D,{games:Fe,sessionTotalPlayers:ye.toNumber(),totalGames:se.gt(F.HW)&&be!=Y.$p.inactive?se.toNumber()-1:se.toNumber(),topChildren:(0,a.jsx)(l.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:(0,a.jsx)(y.Z,{as:l.Ug,isLoading:Me,justifyContent:"center",my:"15px",children:null})}),bottomChildren:(0,a.jsxs)(l.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,a.jsx)(y.Z,{as:l.Ug,isLoading:Je||Le,justifyContent:"center",my:"15px",children:null}),(0,a.jsx)(z.Z,{d:0==Fe.length||Je||Le||Me||N.O$.from(Ae).lte(F.cQ)?"none":"block",onClick:function(){Re()},_disabled:{opacity:.4},_hover:{opactity:.4},children:n("common:load-more")})]})}),k?(0,a.jsx)(ee.Z,{usePriceSlider:!0,isOpen:!0,onClose:function(){return Z(!1)},onResult:null,address:K.address,abi:K.abi,title:"".concat(n("funding-amount"),":"),info:n("amount-info"),helperText:n("amount-helper-text"),executeText:n("fund-idle-text"),executingText:n("fund-active-text"),okMessage:function(){return n("fund-ok")},notOkMessage:function(){return n("fund-not-ok")},placeholder:"100",onValue:function(e){return isNaN(e)?{error:n("amount-error")}:{input:"fundGame:".concat(M,".uint256,").concat(e.trim(),".pay")}}}):null]})})}},30710:function(e,n,t){"use strict";var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=t(67294),i=l(a),s=l(t(45697));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.generateIdenticon=t.generateIdenticon.bind(t),t}return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),o(n,[{key:"componentDidMount",value:function(){this.generateIdenticon(r({},this.props))}},{key:"componentWillUpdate",value:function(e){this.isEquivalent(this.props,e)||this.generateIdenticon(r({},e))}},{key:"isEquivalent",value:function(e,n){var t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(n);if(t.length!=r.length)return!1;for(var o=0;o<t.length;o++){var a=t[o];if(e[a]!==n[a])return!1}return!0}},{key:"generateIdenticon",value:function(e){var n=new Array(4);function t(){var e=n[0]^n[0]<<11;return n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=n[3]^n[3]>>19^e^e>>8,(n[3]>>>0)/(1<<31>>>0)}function r(){return"hsl("+Math.floor(360*t())+","+(60*t()+40+"%")+","+(25*(t()+t()+t()+t())+"%")+")"}var o=e||{},a=o.size||8,i=o.scale||4;!function(e){for(var t=0;t<n.length;t++)n[t]=0;for(var r=0;r<e.length;r++)n[r%4]=(n[r%4]<<5)-n[r%4]+e.charCodeAt(r)}(o.seed||Math.floor(Math.random()*Math.pow(10,16)).toString(16));var s=o.color||r(),l=o.bgColor||r(),c=o.spotColor||r(),u=function(e){for(var n=e,r=e,o=Math.ceil(n/2),a=n-o,i=[],s=0;s<r;s++){for(var l=[],c=0;c<o;c++)l[c]=Math.floor(2.3*t());var u=l.slice(0,a);u.reverse(),l=l.concat(u);for(var f=0;f<l.length;f++)i.push(l[f])}return i}(a);return function(e,n,t,r,o,a){var i=Math.sqrt(n.length),s=i*r;e.width=s,e.style.width=s+"px",e.height=s,e.style.height=s+"px";var l=e.getContext("2d");l.fillStyle=o,l.fillRect(0,0,e.width,e.height),l.fillStyle=t;for(var c=0;c<n.length;c++)if(l.fillStyle=1===n[c]?t:a,n[c]){var u=Math.floor(c/i),f=c%i;l.fillRect(f*r,u*r,r,r)}}(this.identicon,u,s,i,l,c)}},{key:"render",value:function(){var e=this;return i.default.createElement("canvas",{ref:function(n){e.identicon=n},className:this.props.className})}}]),n}(a.Component);c.defaultProps={className:"identicon"},c.propTypes={seed:s.default.string.isRequired,size:s.default.number,scale:s.default.number,color:s.default.string,bgColor:s.default.string,spotColor:s.default.string}}},function(e){e.O(0,[868,543,607,612,921,247,409,801,94,662,782,412,774,888,179],(function(){return n=1008,e(e.s=n);var n}));var n=e.O();_N_E=n}]);