(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{11537:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/mint-game",function(){return t(23761)}])},14382:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var r=t(85893),a=t(79762),i=t(68527),o=t(26723),c=t(4612),l=t(86455),d=t.n(l),s=t(94045),u=t(20945),p=t(65988);function b(e){e.isGlobal;return(0,r.jsx)(p.default,{id:"419935b8c322d923",children:".react-datetime-picker {display:-webkit-inline-box;\ndisplay:-webkit-inline-flex;\ndisplay:-ms-inline-flexbox;\ndisplay:inline-flex;\nposition:relative;\nwidth:100%}\n.react-datetime-picker, .react-datetime-picker *, .react-datetime-picker *:before, .react-datetime-picker *:after {-moz-box-sizing:border-box;\n-webkit-box-sizing:border-box;\nbox-sizing:border-box}\n.react-datetime-picker--disabled {background-color:#f0f0f0;\ncolor:#6d6d6d}\n.react-datetime-picker__wrapper {display:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\n-webkit-box-flex:1;\n-webkit-flex-grow:1;\n-ms-flex-positive:1;\nflex-grow:1;\n-webkit-flex-shrink:0;\n-ms-flex-negative:0;\nflex-shrink:0;\nwidth:100%;\nmin-width:0px;\noutline:2px solid transparent;\noutline-offset:2px;\nposition:relative;\n-webkit-appearance:none;\n-moz-appearance:none;\n-ms-appearance:none;\n-webkit-appearance:none;\n-moz-appearance:none;\n-ms-appearance:none;\nappearance:none;\ntransition-property:var(--chakra-transition-property-common);\ntransition-duration:var(--chakra-transition-duration-normal);\nfont-size:var(--chakra-fontSizes-md);\n-webkit-padding-start:var(--chakra-space-4);\npadding-inline-start:var(--chakra-space-4);\n-webkit-padding-end:var(--chakra-space-4);\npadding-inline-end:var(--chakra-space-4);\nheight:var(--chakra-sizes-10);\nborder-radius:var(--chakra-radii-md);\nborder:1px solid;\nborder-color:inherit;\nbackground:inherit}\n.react-datetime-picker__inputGroup {min-width:calc(4px + (4px * 3) + 0.54em * 6 + 0.217em * 2);\n-webkit-box-flex:1;\n-webkit-flex-grow:1;\n-ms-flex-positive:1;\nflex-grow:1;\npadding:0 2px}\n.react-datetime-picker__inputGroup__divider {padding:1px 0;\nwhite-space:pre}\n.react-datetime-picker__inputGroup__input {min-width:0.54em;\nheight:calc(100% - 2px);\nposition:relative;\npadding:1px;\nborder:0;\nbackground:none;\nfont:inherit;\nbox-sizing:content-box;\n-moz-appearance:textfield}\n.react-datetime-picker__inputGroup__input::-webkit-outer-spin-button, .react-datetime-picker__inputGroup__input::-webkit-inner-spin-button {-webkit-appearance:none;\nmargin:0}\n.react-datetime-picker__inputGroup__input:invalid {background:rgba(255, 0, 0, 0.1)}\n.react-datetime-picker__inputGroup__input--hasLeadingZero {margin-left:-0.54em;\npadding-left:calc(1px + 0.54em)}\n.react-datetime-picker__inputGroup__amPm {font:inherit;\n-moz-appearance:menulist}\n.react-datetime-picker__button {border:0;\nbackground:transparent;\npadding:4px 6px}\n.react-datetime-picker__button:enabled {cursor:pointer}\n.react-datetime-picker__button:enabled:hover .react-datetime-picker__button__icon, .react-datetime-picker__button:enabled:focus .react-datetime-picker__button__icon {stroke:#0078d7}\n.react-datetime-picker__button:disabled .react-datetime-picker__button__icon {stroke:#6d6d6d}\n.react-datetime-picker__button svg {display:inherit}\n.react-datetime-picker__calendar, .react-datetime-picker__clock {position:absolute;\ntop:100%;\nleft:0;\nz-index:1}\n.react-datetime-picker__calendar--closed, .react-datetime-picker__clock--closed {display:none}\n.react-datetime-picker__calendar {width:350px;\nmax-width:100vw}\n.react-datetime-picker__calendar .react-calendar {border-width:thin}\n.react-datetime-picker__clock {width:200px;\nheight:200px;\nmax-width:100vw;\npadding:25px;\nborder-radius:var(--chakra-radii-md);\nborder:1px solid;\nborder-color:inherit}\n.react-calendar {width:350px;\nmax-width:100%;\nfont-family:Arial, Helvetica, sans-serif;\nline-height:1.125em;\nborder-radius:var(--chakra-radii-md);\nborder:1px solid;\nborder-color:inherit}\n.chakra-ui-light .react-calendar, .chakra-ui-light .react-datetime-picker__clock {background:rgb(255, 255, 255)!important}\n.chakra-ui-dark .react-calendar, .chakra-ui-dark .react-datetime-picker__clock {background:rgb(39, 38, 44)!important}\n.react-calendar--doubleView {width:700px}\n.react-calendar--doubleView .react-calendar__viewContainer {display:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\nmargin:-0.5em}\n.react-calendar--doubleView .react-calendar__viewContainer >* {width:50%;\nmargin:0.5em}\n.react-calendar, .react-calendar *, .react-calendar *:before, .react-calendar *:after {-moz-box-sizing:border-box;\n-webkit-box-sizing:border-box;\nbox-sizing:border-box}\n.react-calendar button {margin:0;\nborder:0;\noutline:none}\n.react-calendar button:enabled:hover {cursor:pointer}\n.react-calendar__navigation {display:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\nheight:44px;\nmargin-bottom:1em}\n.react-calendar__navigation button {min-width:44px;\nbackground:none}\n.react-calendar__navigation button:disabled {background-color:#f0f0f0}\n.react-calendar__navigation button:enabled:hover, .react-calendar__navigation button:enabled:focus {background-color:#e6e6e6}\n.react-calendar__month-view__weekdays {text-align:center;\ntext-transform:uppercase;\nfont-weight:bold;\nfont-size:0.75em}\n.react-calendar__month-view__weekdays__weekday {padding:0.5em}\n.react-calendar__month-view__weekNumbers .react-calendar__tile {display:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\n-webkit-align-items:center;\n-webkit-box-align:center;\n-ms-flex-align:center;\nalign-items:center;\n-webkit-justify-content:center;\njustify-content:center;\nfont-size:0.75em;\nfont-weight:bold}\n.react-calendar__month-view__days__day--weekend {color:#d10000}\n.react-calendar__month-view__days__day--neighboringMonth {color:#757575}\n.react-calendar__year-view .react-calendar__tile, .react-calendar__decade-view .react-calendar__tile, .react-calendar__century-view .react-calendar__tile {padding:2em 0.5em}\n.react-calendar__tile {max-width:100%;\npadding:10px 6.6667px;\nbackground:none;\ntext-align:center;\nline-height:16px}\n.react-calendar__tile:disabled {background-color:#f0f0f0}\n.react-calendar__tile:enabled:hover, .react-calendar__tile:enabled:focus {background-color:#e6e6e6}\n.react-calendar__tile--now {background:#ffff76}\n.react-calendar__tile--now:enabled:hover, .react-calendar__tile--now:enabled:focus {background:#ffffa9}\n.react-calendar__tile--hasActive {background:#76baff}\n.react-calendar__tile--hasActive:enabled:hover, .react-calendar__tile--hasActive:enabled:focus {background:#a9d4ff}\n.react-calendar__tile--active {background:#006edc;\ncolor:white}\n.react-calendar__tile--active:enabled:hover, .react-calendar__tile--active:enabled:focus {background:#1087ff}\n.react-calendar--selectRange .react-calendar__tile--hover {background-color:#e6e6e6}\n.react-clock {display:block!important;\nposition:relative}\n.react-clock, .react-clock *, .react-clock *:before, .react-clock *:after {-moz-box-sizing:border-box;\n-webkit-box-sizing:border-box;\nbox-sizing:border-box}\n.react-clock__face {position:absolute;\ntop:0;\nbottom:0;\nleft:0;\nright:0;\nborder:1px solid black;\nborder-radius:50%}\n.react-clock__hand {position:absolute;\ntop:0;\nbottom:0;\nleft:50%;\nright:50%}\n.react-clock__hand__body {position:absolute;\nbackground-color:black;\n-webkit-transform:translateX(-50%);\n-moz-transform:translateX(-50%);\n-ms-transform:translateX(-50%);\ntransform:translateX(-50%)}\n.react-clock__mark {position:absolute;\ntop:0;\nbottom:0;\nleft:50%;\nright:50%}\n.react-clock__mark__body {position:absolute;\nbackground-color:black;\n-webkit-transform:translateX(-50%);\n-moz-transform:translateX(-50%);\n-ms-transform:translateX(-50%);\ntransform:translateX(-50%)}\n.react-clock__mark__number {position:absolute;\nleft:-40px;\nwidth:80px;\ntext-align:center}\n.react-clock__second-hand__body {background-color:red}"})}var _=t(31567);function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var x=function(e){var n=e.title,t=e.name,l=e.type,p=e.locale,x=e.value,k=e.onChange,h=e.errorMessage,g=e.helperText,w=e.info,v=e.infoText,y=e.okText,j=e.placeholder,z=f(e,["title","name","type","locale","value","onChange","errorMessage","helperText","info","infoText","okText","placeholder"]),S=(0,_.$)().lang;return(0,r.jsxs)(a.NI,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){m(e,n,t[n])}))}return e}({isInvalid:!(0,s.N4)(h)},z,{children:[(0,s.N4)(w)?(0,r.jsx)(a.lX,{textTransform:"capitalize",children:n}):(0,r.jsxs)(i.Ug,{flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(a.lX,{textTransform:"capitalize",children:n}),w?(0,r.jsx)(o.zx,{size:"xs",marginInlineStart:"0px !important",marginInlineEnd:"0px !important",p:"3px",onClick:function(){return e=w,void d().fire({icon:"info",text:e,confirmButtonText:y,showCancelButton:!1});var e},children:v||"?"}):null]}),"date"!=l?(0,r.jsx)(c.II,{name:t,type:l,placeholder:j||"",value:x,onChange:k,errorBorderColor:"red.300",isInvalid:!(0,s.N4)(h)}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{locale:p||S,onChange:k,value:x}),(0,r.jsx)(b,{})]}),(0,s.N4)(h)?null:(0,r.jsx)(a.J1,{children:h}),(0,s.N4)(g)?null:(0,r.jsx)(a.Q6,{children:g})]}))}},80109:function(e,n,t){"use strict";t.d(n,{k:function(){return s}});var r=t(35666),a=t.n(r),i=t(67294),o=t(77044),c=t(81961),l=t(94045);function d(e,n,t,r,a,i,o){try{var c=e[i](o),l=c.value}catch(d){return void t(d)}c.done?n(l):Promise.resolve(l).then(r,a)}var s=function(e,n,t){c.J_.pending,c.J_.ok,c.J_.notOk;var r=(0,o.Ge)().library,s=(0,i.useState)(),u=s[0],p=s[1];return(0,i.useEffect)((function(){var i,o=(i=a().mark((function i(){return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r.once(e,(function(a){r.removeListener(e,(function(){})),p(a),1==a.status?n&&n(a):t&&t(a)}));case 1:case"end":return a.stop()}}),i)})),function(){var e=this,n=arguments;return new Promise((function(t,r){var a=i.apply(e,n);function o(e){d(a,t,r,o,c,"next",e)}function c(e){d(a,t,r,o,c,"throw",e)}o(void 0)}))});return r&&!(0,l.N4)(e)?o():p(null),function(){e&&r.removeListener(e,(function(){return p(null)}))}}),[r,e]),u}},23761:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return j}});var r=t(35666),a=t.n(r),i=t(85893),o=t(92667),c=t(68527),l=t(82138),d=t(81961),s=t(62133),u=t(37911),p=t(4226),b=t(67294),_=t(86455),m=t.n(_),f=t(77044),x=t(57060),k=t(80109),h=t(17618),g=t(75276),w=t(90387);function v(e,n,t,r,a,i,o){try{var c=e[i](o),l=c.value}catch(d){return void t(d)}c.done?n(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){v(i,r,a,o,c,"next",e)}function c(e){v(i,r,a,o,c,"throw",e)}o(void 0)}))}}var j=!0;n.default=function(){var e=(0,l.Z)("mint-game"),n=e.t,t=e.lang,r=(0,o.pm)(),_=(0,w.useRouter)(),v=(0,f.Ge)().account,j=(0,x.Z)().onOpen,z=(0,h.s5)(),S=(0,b.useState)(),C=S[0],O=S[1],P=(0,b.useState)(),T=P[0],N=P[1],E=function(){return v?T?"minting":"mint":"common:connect-wallet"},G=(0,b.useState)(E()),X=G[0],I=G[1],Z=y(a().mark((function e(i){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("submitHandler:txStatus.2",i),e.prev=1,e.next=4,z.lastGameMintOf(v);case 4:o=e.sent,console.log("submitHandler:txStatus.3",o,o.toString()),N(!1),m().fire({text:n("minting-ok",[o.toString()],!0),icon:"info",showCancelButton:!0,showConfirmButton:!0,cancelButtonText:n("common:cancel"),confirmButtonText:n("manage-nft")}).then((function(e){e.isConfirmed&&_.push(u.Z.localise("/game/?id=".concat(o.toString()),t))})),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("submitHandler:txStatus.4",e.t0),N(!1),r({description:n("common:conn-error"),status:"error",duration:4e3,isClosable:!0});case 15:case"end":return e.stop()}}),e,null,[[1,10]])}))),A=y(a().mark((function e(t){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T){e.next=2;break}return e.abrupt("return");case 2:return N(!0),e.prev=3,console.log("submitHandler:txStatus.111",T,E()),e.next=7,z.mint(t.entryPrice,t.countDownDuration,t.ownerPercentage,t.primaryWinnerPercentage,t.secondaryWinnerPercentage);case 7:i=e.sent,O(i.hash),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(3),o=e.t0.code,console.log("submitHandler:2",o,e.t0),N(!1),o!=d.O1.META_MASK_TX_DECLINED?r({description:n("common:conn-error"),status:"error",duration:4e3,isClosable:!0}):r({description:n("common:tx-declined"),status:"error",duration:4e3,isClosable:!0});case 17:case"end":return e.stop()}}),e,null,[[3,11]])}))),B=((0,k.k)(C,Z,(function(){r({description:n("minting-failed"),status:"error",duration:4e3,isClosable:!0}),N(!1)})),(0,b.useState)()),H=B[0],M=B[1],D=(0,b.useState)(),W=D[0],J=D[1],L=function(e){v?A(e):(M(!0),J(e),j())};(0,b.useEffect)((function(){H&&v&&W&&(L(),M(!1)),I(E())}),[v]),(0,b.useEffect)((function(){I(E())}),[T]);return(0,i.jsx)(s.Z,{link:"/mint-game",title:n("title"),description:n("desc"),image:null,updatedTime:null,children:(0,i.jsx)(p.Z,{children:(0,i.jsx)(c.kC,{width:"full",align:"center",justifyContent:"center",alignItems:"center",children:(0,i.jsxs)(c.xu,{p:8,width:"550px",maxW:"100%",borderWidth:1,borderRadius:8,boxShadow:"lg",children:[(0,i.jsx)(c.xu,{textAlign:"center",children:(0,i.jsx)(c.X6,{fontSize:"18px",children:n("desc")})}),(0,i.jsx)(c.xu,{my:4,textAlign:"left",children:(0,i.jsx)(g.Z,{submitHandler:L,resetGetter:function(e){e},gameStyle:{"common:connect-wallet":"normal",mint:"normal",minting:"italic"}[X],gameStatus:X})})]})})})})}}},function(e){e.O(0,[868,543,607,612,921,409,801,276,774,888,179],(function(){return n=11537,e(e.s=n);var n}));var n=e.O();_N_E=n}]);