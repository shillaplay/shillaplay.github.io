(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{1008:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/game",function(){return n(17267)}])},93693:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(85893),o=n(68527);function a(e){var t=e.children;return(0,r.jsxs)(o.xu,{children:[(0,r.jsx)(o.xu,{w:"100%",d:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:t}),(0,r.jsx)(o.iz,{mt:"0.2rem",mb:"1rem"})]})}},80028:function(e,t,n){"use strict";var r=n(85893),o=n(68527);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=function(e){var t=e.children,n=e.reverse,a=e.mobileReverse,l=s(e,["children","reverse","mobileReverse"]);return(0,r.jsx)(o.kC,i({w:"100%",flexDirection:{base:a?"column-reverse":"column",md:n?"row-reverse":"row"},justifyContent:{base:"flex-start",md:"space-between"},alignItems:{base:"flex-start",md:"flex-start"}},l,{children:t}))};l.First=function(e){var t=e.as,n=e.children,a=s(e,["as","children"]);return(0,r.jsx)(o.xu,i({as:t||"div",w:{base:"100%",md:"50%"},mb:{base:"25px",md:"0px"}},a,{children:n}))},l.Second=function(e){var t=e.as,n=e.children,a=s(e,["as","children"]);return(0,r.jsx)(o.xu,i({as:t||"div",w:{base:"100%",md:"50%"},p:{base:"0px",md:"25px"}},a,{children:n}))},t.Z=l},57277:function(e,t,n){"use strict";n.d(t,{$x:function(){return g},vk:function(){return h},qv:function(){return b}});var r=n(35666),o=n.n(r),a=n(67294),i=n(2593),s=n(16813),l=n(81961),c=n(38188),u=n(37423),f=n(94045);function m(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){m(a,r,o,i,s,"next",e)}function s(e){m(a,r,o,i,s,"throw",e)}i(void 0)}))}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}var g=function(e){var t=l.J_.idle,n=l.J_.pending,r=l.J_.ok,m=l.J_.notOk,p=(0,a.useState)({owner:l.je,entryPrice:s.HW,countDownDuration:s.HW,primaryWinnerPercentage:s.HW,secondaryWinnerPercentage:s.HW,ownerPercentage:s.HW,totalSessions:s.HW,totalPlayers:s.HW,totalProfits:s.HW,bank:s.HW,gameInfoStatus:t}),g=p[0],h=p[1],b=(0,c.s5)(),x=(0,a.useState)(),v=x[0],j=x[1],w=(0,u.Z)(v,"useGameStarted");console.log("GameEvent.Started",w);var O=(0,a.useState)(),S=O[0],P=O[1],k=(0,u.Z)(S,"useGameCanceled"),W=(0,a.useState)(),C=W[0],_=W[1],N=(0,u.Z)(C,"useGameFunded"),I=(0,a.useState)(),Z=I[0],E=I[1],H=(0,u.Z)(Z,"useGameEnded");return console.log("GameEvent.Ended",H),(0,a.useEffect)((function(){e&&(j((0,f.tz)(e)),P((0,f.ic)(e)),_((0,f.DQ)(e)),E((0,f.D_)(e)))}),[e]),(0,a.useEffect)((function(){var t=d(o().mark((function t(){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h((function(e){return y({},e,{gameSessionInfoStatus:n})})),t.next=4,b.gameInfo(e);case 4:a=t.sent,h({owner:a.owner,entryPrice:i.O$.from(a.entryPrice.toString()),countDownDuration:i.O$.from(a.countDownDuration.toString()),primaryWinnerPercentage:i.O$.from(a.primaryWinnerPercentage.toString()),secondaryWinnerPercentage:i.O$.from(a.secondaryWinnerPercentage.toString()),ownerPercentage:i.O$.from(a.ownerPercentage.toString()),totalSessions:i.O$.from(a.totalSessions.toString()),totalPlayers:i.O$.from(a.totalPlayers.toString()),totalProfits:i.O$.from(a.totalProfits.toString()),bank:i.O$.from(a.bank.toString()),gameInfoStatus:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),h((function(e){return y({},e,{gameSessionInfoStatus:m})}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));b&&e&&t()}),[r,m,b,e,w,k,N,H]),g},h=function(e){var t=l.J_.idle,n=l.J_.pending,r=l.J_.ok,m=l.J_.notOk,p=(0,a.useState)({startBlock:s.HW,endBlock:s.HW,playBlock:s.HW,primaryWinnerPrize:s.HW,secondaryWinnerPrize:s.HW,ownerPrize:s.HW,vaultPrize:s.HW,sessionBank:s.HW,sessionTotalPlayers:s.HW,awaitingPlayers:!1,primaryWinner:l.je,secondaryWinner:l.je,gameSessionInfoStatus:t}),g=p[0],h=p[1],b=(0,c.s5)(),x=(0,a.useState)(),v=x[0],j=x[1],w=(0,u.Z)(v,"useGameStarted"),O=(0,a.useState)(),S=O[0],P=O[1],k=(0,u.Z)(S,"useGameCanceled"),W=(0,a.useState)(),C=W[0],_=W[1],N=(0,u.Z)(C,"usePlayEvent"),I=(0,a.useState)(),Z=I[0],E=I[1],H=(0,u.Z)(Z,"useGameFunded"),B=(0,a.useState)(),$=B[0],D=B[1],z=(0,u.Z)($,"useGameEnded");return(0,a.useEffect)((function(){e&&(j((0,f.tz)(e)),P((0,f.ic)(e)),_((0,f.Nt)(e)),E((0,f.DQ)(e)),D((0,f.D_)(e)))}),[e]),(0,a.useEffect)((function(){var t=d(o().mark((function t(){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h((function(e){return y({},e,{gameSessionInfoStatus:n})})),t.next=4,b.gameSessionInfo(e);case 4:a=t.sent,h({startBlock:i.O$.from(a.startBlock.toString()),endBlock:i.O$.from(a.endBlock.toString()),playBlock:i.O$.from(a.playBlock.toString()),primaryWinnerPrize:i.O$.from(a.primaryWinnerPrize.toString()),secondaryWinnerPrize:i.O$.from(a.secondaryWinnerPrize.toString()),ownerPrize:i.O$.from(a.ownerPrize.toString()),vaultPrize:i.O$.from(a.vaultPrize.toString()),sessionBank:i.O$.from(a.bank.toString()),sessionTotalPlayers:i.O$.from(a.totalPlayers.toString()),awaitingPlayers:a.awaitingPlayers,primaryWinner:a.primaryWinner,secondaryWinner:a.secondaryWinner,gameSessionInfoStatus:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),h((function(e){return y({},e,{gameSessionInfoStatus:m})}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));b&&e&&t()}),[r,m,b,e,w,k,N,H,z]),g},b=function(e){var t=l.J_.idle,n=(l.J_.pending,l.J_.ok),r=l.J_.notOk,m=(0,a.useState)({totalPlays:s.HW,totalPlaysStatus:t}),p=m[0],g=m[1],h=(0,c.s5)(),b=(0,a.useState)((0,f.sE)()),x=b[0],v=(b[1],(0,u.Z)(x));return(0,a.useEffect)((function(){var t=d(o().mark((function e(){var t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.currentGamePlays();case 3:t=e.sent,a=i.O$.from(t.toString()),g({totalPlays:a,totalPlaysStatus:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g((function(e){return y({},e,{totalPlaysStatus:r})}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));!h||e&&p.totalPlaysStatus==n||t()}),[n,r,h,v]),p}},17267:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return oe},default:function(){return ae}});var r=n(35666),o=n.n(r),a=n(85893),i=n(92667),s=n(20949),l=n(68527),c=n(4612),u=n(79762),f=n(82138),m=n(81961),d=n(62133),p=n(80028),y=n(37911),g=n(13365),h=n(412),b=n(67294);n(30710);var x=n(49555),v=n(83897);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var O=function(e){e.id,e.gameId,e.sessionId;var t=e.playPos,n=e.player,r=e.txHash,o=(e.isPrimaryWinner,e.isSecondaryWinner,w(e,["id","gameId","sessionId","playPos","player","txHash","isPrimaryWinner","isSecondaryWinner"])),i=(0,f.Z)("common");i.t,i.lang;return(0,a.jsxs)(l.xu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}({className:"player row",justifyContent:"flex-start",alignItems:"flex-start"},o,{children:[(0,a.jsxs)(l.Ug,{justifyContent:"space-between",w:"100%",children:[(0,a.jsx)(l.xu,{as:"a",href:(0,x.s6)(n,x.il.address),d:"block",children:(0,x.Xn)(n)})," ",(0,a.jsxs)(l.Ct,{borderRadius:"3px",children:["#",t]})]}),(0,a.jsx)(l.iz,{my:"5px"}),(0,a.jsx)(l.xu,{className:"text-trunc",maxW:{base:"5rem",md:"15rem"},as:"a",href:(0,x.s6)(r,x.il.transaction),d:"block",children:r})]}))},S=n(55154);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){P(e,t,n[t])}))}return e}function W(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var C=function(e){var t=e.topChildren,n=e.bottomChildren,r=e.players,o=e.totalPlayers,i=e.primaryWinner,c=e.secondaryWinner,u=e.isHistory,m=W(e,["topChildren","bottomChildren","players","totalPlayers","primaryWinner","secondaryWinner","isHistory"]),d=(0,f.Z)("game"),p=d.t,y=d.lang,g=(0,s.ff)("elementBg.light","elementBg.dark"),h=(0,s.ff)("elementHeaderBg.light","elementHeaderBg.dark"),b=(0,s.ff)("elementTitleColor.light","elementTitleColor.dark"),x=(0,s.ff)("elementSubTitleColor.light","elementSubTitleColor.dark");return(0,a.jsx)(l.xu,k({w:"100%",className:"players mb-4"},m,{children:(0,a.jsxs)(l.xu,{className:"list m-auto",children:[(0,a.jsxs)(l.xu,{className:"head row m-0 align-items-center",bg:h,children:[(0,a.jsx)(l.xv,{as:"span",textTransform:"uppercase",className:"title",color:b,children:p(u?"players-prev":"players")})," ",(0,a.jsx)(l.xv,{as:"i",className:"far fa-fill-drip",d:"none"}),(0,a.jsxs)("div",{className:"ml-auto rs",children:[(0,a.jsx)(v.Z,{locale:y,children:o}),(0,a.jsx)(l.xu,{as:S.I$,color:b})]})]}),(0,a.jsxs)(l.xu,{className:"body",bg:g,children:[(0,a.jsxs)(l.Ug,{d:"none",p:"15px 20px 0px 20px",justifyContent:"space-between",alignItems:"center",children:[(0,a.jsx)(l.xv,{as:"div",textTransform:"uppercase",className:"title w-50",color:x,children:p("player")}),(0,a.jsx)(l.xv,{as:"div",textTransform:"uppercase",className:"title w-50",color:x,children:p("play-hash")})]}),(0,a.jsxs)("div",{className:"players_list",children:[t,(r||[]).map((function(e,t){return(0,a.jsx)("span",{children:(0,a.jsx)(O,k({},e,{bg:h,isPrimaryWinner:e.player.toLowerCase()==i.toLowerCase(),isSecondaryWinner:e.player.toLowerCase()==c.toLowerCase()}),t)})})),n]})]})]})}))},_=n(94045),N=n(2593),I=n(93693);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var H=function(e){e.id;var t=e.sessionId,n=e.txHash,r=e.primaryWinner,o=e.primaryWinnerPrize,i=e.secondaryWinner,c=e.secondaryWinnerPrize,u=(e.totalPlayers,e.paymentTime,E(e,["id","sessionId","txHash","primaryWinner","primaryWinnerPrize","secondaryWinner","secondaryWinnerPrize","totalPlayers","paymentTime"])),m=(0,f.Z)("game"),d=m.t,p=m.lang,y=(0,s.ff)("#fff","navbarBg.dark"),g=(0,s.ff)("#363636 !important","#d6d6d6 !important");return(0,a.jsxs)(l.xu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}({w:"100%",bg:y,color:g,p:8,borderWidth:1,borderRadius:8,boxShadow:"lg",mb:{base:"0.5rem"}},u,{children:[(0,a.jsxs)(I.Z,{children:[(0,a.jsxs)(l.xu,{children:[d("session-id"),":\xa0"]}),(0,a.jsx)(l.xu,{children:t})]}),(0,a.jsxs)(I.Z,{children:[(0,a.jsxs)(l.xu,{children:[d("payment-tx"),":\xa0"]}),(0,a.jsx)(l.xu,{className:"text-trunc link",maxW:{base:"5rem",md:"15rem"},as:"a",href:(0,x.s6)(n,x.il.transaction),d:"block",children:n})]}),(0,a.jsxs)(I.Z,{children:[(0,a.jsxs)(l.xu,{children:[d("primary-winner"),":\xa0"]}),r?(0,a.jsx)(l.xu,{as:"a",className:"link",href:(0,x.s6)(r,x.il.address),d:"block",children:(0,x.Xn)(r)}):(0,a.jsx)(l.xu,{children:"--"})]}),(0,a.jsxs)(I.Z,{children:[(0,a.jsxs)(l.xu,{children:[d("primary-winner-prize"),":\xa0"]}),(0,a.jsx)(l.xu,{children:d("common:value-symbol",[v.Z.format((0,_.Xv)(N.O$.from(o)),{locale:p,minFD:2,maxFD:2})],!0)})]}),(0,a.jsxs)(I.Z,{children:[(0,a.jsxs)(l.xu,{children:[d("secondary-winner"),":\xa0"]}),i?(0,a.jsx)(l.xu,{as:"a",className:"link",href:(0,x.s6)(i,x.il.address),d:"block",children:(0,x.Xn)(i)}):(0,a.jsx)(l.xu,{children:"--"})]}),(0,a.jsxs)(I.Z,{children:[(0,a.jsxs)(l.xu,{children:[d("secondary-winner-prize"),":\xa0"]}),(0,a.jsx)(l.xu,{children:d("common:value-symbol",[v.Z.format((0,_.Xv)(N.O$.from(c)),{locale:p,minFD:2,maxFD:2})],!0)})]})]}))};function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B(e,t,n[t])}))}return e}function D(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var z=function(e){var t=e.topChildren,n=e.bottomChildren,r=e.games,o=e.totalGames,i=(e.sessionTotalPlayers,D(e,["topChildren","bottomChildren","games","totalGames","sessionTotalPlayers"]));console.log("Games:",r);var c=(0,f.Z)("game"),u=c.t,m=c.lang,d=(0,s.ff)("elementBg.light","elementBg.dark"),p=(0,s.ff)("elementHeaderBg.light","elementHeaderBg.dark"),y=(0,s.ff)("elementTitleColor.light","elementTitleColor.dark");(0,s.ff)("elementSubTitleColor.light","elementSubTitleColor.dark");return(0,a.jsx)(l.xu,$({w:"100%",className:"players mb-4"},i,{children:(0,a.jsxs)("div",{className:"list m-auto pt-5",children:[(0,a.jsxs)(l.xu,{className:"head row m-0 align-items-center",bg:p,children:[(0,a.jsx)(l.xv,{as:"span",textTransform:"uppercase",className:"title",color:y,children:u("recent-games")})," ",(0,a.jsx)(l.xv,{as:"i",className:"far fa-fill-drip",d:"none"}),(0,a.jsxs)("div",{className:"ml-auto rs",children:[(0,a.jsx)(v.Z,{locale:m,children:o}),(0,a.jsx)(l.xu,{as:S.iVx,color:y})]})]}),(0,a.jsx)(l.xu,{className:"body",bg:d,children:(0,a.jsxs)("div",{className:"players_list",children:[t,(r||[]).map((function(e,t){return(0,a.jsx)("span",{children:(0,a.jsx)(H,$({},e,{bg:p}),t)})})),n]})})]})}))},T=n(4226),G=n(61454),F=n(57060),J=n(16813),L=n(90387),X=n(80109),R=n(86455),A=n.n(R),M=n(38188),U=n(20149),q=n(57277),Q=n(90599),V=n(77044),K=n(85480),Y=n(27),ee=n(2128);function te(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,o)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){te(a,r,o,i,s,"next",e)}function s(e){te(a,r,o,i,s,"throw",e)}i(void 0)}))}}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var oe=!0,ae=function(){var e=(0,f.Z)("game"),t=e.t,n=e.lang,r=(0,b.useState)(),x=r[0],j=r[1],w=(0,i.pm)(),O=(0,V.Ge)().account,S=(0,F.Z)().onOpen,P=(0,M.s5)(),k=(0,b.useState)(),W=k[0],I=k[1],Z={"common:connect-wallet":"normal",play:"normal",playing:"italic"},E=function(){return O&&W?"playing":"play"},H=(0,L.useRouter)(),B=H.query.id,$=(0,K.Ov)(),D=(0,q.$x)(B),R=D.owner,te=D.entryPrice,oe=(D.countDownDuration,D.primaryWinnerPercentage,D.secondaryWinnerPercentage,D.ownerPercentage,D.totalSessions),ae=(D.totalPlayers,D.totalProfits,D.bank,D.gameInfoStatus),ie=(0,q.vk)(B),se=ie.startBlock,le=ie.endBlock,ce=ie.playBlock,ue=ie.primaryWinnerPrize,fe=ie.secondaryWinnerPrize,me=(ie.ownerPrize,ie.vaultPrize,ie.reserve,ie.sessionTotalPlayers),de=ie.awaitingPlayers,pe=ie.primaryWinner,ye=ie.secondaryWinner;ie.gameSessionInfoStatus;console.log("gameInfo.default",$,D),console.log("gameInfo.session","startBlock",se.toNumber(),"latestBlockNumber",$,"playBlock",ce.toNumber(),"endBlock",le.toNumber(),ie),(0,b.useEffect)((function(){console.log("Game:02",B,R,ae),ae==m.J_.ok&&R==m.je&&H.push(y.Z.localise("/404",n))}),[ae]);var ge=(0,ee.EH)({pause:ie==m.J_.pending,startBlock:se,endBlock:le,playBlock:ce,awaitingPlayers:de,latestBlockNumber:$}),he=(0,b.useState)(E()),be=he[0],xe=he[1],ve=(0,b.useState)(),je=ve[0],we=ve[1],Oe=((0,X.k)(je,(function(e){console.log("handleSubmit:txStatus.2",e),w({description:t("play-ok"),status:"success",duration:4e3,isClosable:!0}),I(!1)}),(function(){w({description:t("play-failed"),status:"error",duration:4e3,isClosable:!0}),I(!1)})),ne(o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),console.log("handleSubmit:txStatus.1",n),e.prev=2,console.log("handleSubmit:txStatus.101",W,E(),B,N.O$.from(B).toString()),e.next=6,P.play("".concat(B));case 6:r=e.sent,we(r.hash),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),(0,_.S3)(e.t0,t,w,(function(){I(!1)}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))),Se=(0,U.mM)(),Pe=Se.balance,ke=Se.fetchStatus,We=(0,U.tf)(),Ce=We.allowance,_e=We.fetchStatusAllowance,Ne=(0,Q.xP)("".concat(B||0),oe.toString(),m.Rs),Ie=Ne.players,Ze=Ne.playersFirstFetching,Ee=Ne.playersNextFetching,He=Ne.playersSubcribeFetching,Be=Ne.nextPlayers,$e=Ne.minPlayPos,De=(0,Q.l0)("".concat(B||0),m.Rs),ze=De.recentGames,Te=De.recentGamesFirstFetching,Ge=De.recentGamesNextFetching,Fe=De.recentGamesSubscribeFetching,Je=De.nextRecentGames,Le=De.minGameSession;console.log("Games:A",Te,ze);var Xe=(0,b.useState)(J.HW),Re=Xe[0],Ae=Xe[1],Me=re((0,U.A$)(Re,Y.address),3),Ue=(Me[0],Me[1],Me[2]);(0,b.useEffect)((function(){Ue&&((0,_.S3)(Ue,t,w,(function(){I(!1)})),Ae(J.HW))}),[Ue]),(0,b.useEffect)((function(){Re.gt(J.HW)&&Re.lte(Ce)&&(console.log("start:","approved",(0,_.Xv)(Ce)),Oe(),Ae(J.HW))}),[Re,Ce]),(0,b.useEffect)((function(){O&&x&&(console.log("Play:onConnected",x),x(),j(null)),xe(E())}),[O]),(0,b.useEffect)((function(){xe(E())}),[W]);var qe=(0,b.useState)(),Qe=qe[0],Ve=qe[1],Ke=(0,s.ff)("elementHeaderBg.light","elementHeaderBg.dark"),Ye=(0,s.ff)("colorAccent.light","colorAccent.dark");return(0,a.jsx)(d.Z,{link:"/single-game",title:t("title"),description:t("common:sitedesc"),image:null,updatedTime:null,children:(0,a.jsxs)(T.Z,{children:[(0,a.jsxs)(p.Z,{mt:"25px",children:[(0,a.jsxs)(p.Z.First,{children:[(0,a.jsx)(h.Z,{gameId:B,gameInfo:D,gameSessionInfo:ie,gameState:ge,latestBlockNumber:$,balance:Pe,allowance:Ce,onOpenWallet:S}),(0,a.jsxs)(l.gC,{as:"div",justifyContent:"center",alignItems:"center",mt:"25px",children:[(0,a.jsxs)("div",{className:"bet_control w-75 row m-0 m-auto",children:[(0,a.jsx)(l.xu,{className:"tilted-input w-75",bg:Ke,children:(0,a.jsx)(c.II,{type:"button",value:t("common:value-symbol",[v.Z.format((0,_.Xv)(te.toString(),0),{locale:n,minFD:2,maxFD:2})],!0),className:"w-100",bg:"transparent !important",border:"none !important",_focus:{border:"none !important"},_hover:{border:"none !important"}})}),(0,a.jsx)(l.xu,{as:"button",className:"tilted-btn w-25 filled p-0",onClick:function(){O?ke!=m.J_.ok||_e!=m.J_.ok?(I(!0),setSubmitOnBalancesFetched(!0)):ke==m.J_.ok&&Pe.lt(N.O$.from(te,0))?Ve(t("entry-price-low-balance-error",[v.Z.format((0,_.Xv)(te.toString(),0),{locale:n})],!0)):W||(I(!0),console.log("handleSubmit:txStatus.0P",te),N.O$.from(te).gt(Ce)?A().fire({text:t("common:approve-text-game"),icon:"info",confirmButtonText:t("common:ok")}).then(ne(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConfirmed?Ae(te):I(!1);case 1:case"end":return e.stop()}}),e)})))):Oe()):S()},bg:Ye,borderColor:Ye,textTransform:"capitalize",disabled:"italic"==Z[be]||![ee.$p.awaiting,ee.$p.playing].includes(ge),fontStyle:Z[be],_hover:{opacity:.4},_disabled:{opacity:.4,cursor:"not-allowed"},children:t(be)}),(0,a.jsxs)(u.NI,{isInvalid:!(0,_.N4)(Qe),children:[(0,a.jsx)(u.Q6,{children:t("common:balance",[v.Z.format((0,_.Xv)(null===Pe||void 0===Pe?void 0:Pe.toString(),0),{locale:n})])}),(0,a.jsx)(u.J1,{children:Qe})]})]}),(0,a.jsxs)(l.xu,{bg:(0,s.ff)("elementBg.light","elementBg.dark"),p:"0.25rem",borderLeft:"4px solid",borderColor:(0,s.ff)("colorAccent.light","colorAccent.dark"),children:[(0,a.jsx)(l.xv,{as:"div",mb:"5px",fontWeight:"600",children:ue.gt(J.HW)?t("win-condition-primary-var",[v.Z.format((0,_.Xv)(ue),{locale:n,minFD:2,maxFD:2})],!0):t("win-condition-primary")}),(0,a.jsx)(l.xv,{as:"div",mb:"10px",children:fe.gt(J.HW)?t("win-condition-secondary-var",[v.Z.format((0,_.Xv)(fe),{locale:n,minFD:2,maxFD:2})],!0):t("win-condition-secondary")}),pe==m.je?null:(0,a.jsx)(l.xv,{as:"div",mb:"5px",fontWeight:"600",children:O&&pe&&O.toLowerCase()==pe.toLowerCase()?t("lastplayer-you"):t("lastplayer-address",[pe],!0)}),ye==m.je?null:(0,a.jsx)(l.xv,{as:"div",mb:"5px",children:O&&ye&&O.toLowerCase()==ye.toLowerCase()?t("secplayer-you"):t("secplayer-address",[ye],!0)})]})]})]}),(0,a.jsx)(p.Z.Second,{pt:{base:"40px !important",md:"0px !important"},as:l.Ug,justifyContent:{base:"flex-end",md:"center"},alignItems:{base:"flex-start",md:"center"},children:(0,a.jsx)(C,{players:Ie,isHistory:ge==ee.$p.inactive&&Ie.length>0,primaryWinner:pe,secondaryWinner:ye,totalPlayers:me.toNumber(),pt:"0px !important",topChildren:(0,a.jsx)(l.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:(0,a.jsx)(g.Z,{as:l.Ug,isLoading:He,justifyContent:"center",my:"15px",children:null})}),bottomChildren:(0,a.jsxs)(l.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,a.jsx)(g.Z,{as:l.Ug,isLoading:Ze||Ee,justifyContent:"center",my:"15px",children:null}),(0,a.jsx)(G.Z,{d:Ze||Ee||He||me.toNumber()==(Ie||[]).length||0==(Ie||[]).length||N.O$.from($e).lte(J.cQ)?"none":"block",onClick:function(){Be()},_disabled:{opacity:.4},_hover:{opactity:.4},children:t("common:load-more")})]})})})]}),(0,a.jsx)(z,{games:ze,sessionTotalPlayers:me.toNumber(),totalGames:oe.gt(J.HW)&&ge!=ee.$p.inactive?oe.toNumber()-1:oe.toNumber(),topChildren:(0,a.jsx)(l.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:(0,a.jsx)(g.Z,{as:l.Ug,isLoading:Fe,justifyContent:"center",my:"15px",children:null})}),bottomChildren:(0,a.jsxs)(l.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,a.jsx)(g.Z,{as:l.Ug,isLoading:Te||Ge,justifyContent:"center",my:"15px",children:null}),(0,a.jsx)(G.Z,{d:0==ze.length||Te||Ge||Fe||N.O$.from(Le).lte(J.cQ)?"none":"block",onClick:function(){Je()},_disabled:{opacity:.4},_hover:{opactity:.4},children:t("common:load-more")})]})})]})})}},30710:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(67294),i=l(a),s=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.generateIdenticon=n.generateIdenticon.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.generateIdenticon(r({},this.props))}},{key:"componentWillUpdate",value:function(e){this.isEquivalent(this.props,e)||this.generateIdenticon(r({},e))}},{key:"isEquivalent",value:function(e,t){var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!=r.length)return!1;for(var o=0;o<n.length;o++){var a=n[o];if(e[a]!==t[a])return!1}return!0}},{key:"generateIdenticon",value:function(e){var t=new Array(4);function n(){var e=t[0]^t[0]<<11;return t[0]=t[1],t[1]=t[2],t[2]=t[3],t[3]=t[3]^t[3]>>19^e^e>>8,(t[3]>>>0)/(1<<31>>>0)}function r(){return"hsl("+Math.floor(360*n())+","+(60*n()+40+"%")+","+(25*(n()+n()+n()+n())+"%")+")"}var o=e||{},a=o.size||8,i=o.scale||4;!function(e){for(var n=0;n<t.length;n++)t[n]=0;for(var r=0;r<e.length;r++)t[r%4]=(t[r%4]<<5)-t[r%4]+e.charCodeAt(r)}(o.seed||Math.floor(Math.random()*Math.pow(10,16)).toString(16));var s=o.color||r(),l=o.bgColor||r(),c=o.spotColor||r(),u=function(e){for(var t=e,r=e,o=Math.ceil(t/2),a=t-o,i=[],s=0;s<r;s++){for(var l=[],c=0;c<o;c++)l[c]=Math.floor(2.3*n());var u=l.slice(0,a);u.reverse(),l=l.concat(u);for(var f=0;f<l.length;f++)i.push(l[f])}return i}(a);return function(e,t,n,r,o,a){var i=Math.sqrt(t.length),s=i*r;e.width=s,e.style.width=s+"px",e.height=s,e.style.height=s+"px";var l=e.getContext("2d");l.fillStyle=o,l.fillRect(0,0,e.width,e.height),l.fillStyle=n;for(var c=0;c<t.length;c++)if(l.fillStyle=1===t[c]?n:a,t[c]){var u=Math.floor(c/i),f=c%i;l.fillRect(f*r,u*r,r,r)}}(this.identicon,u,s,i,l,c)}},{key:"render",value:function(){var e=this;return i.default.createElement("canvas",{ref:function(t){e.identicon=t},className:this.props.className})}}]),t}(a.Component);c.defaultProps={className:"identicon"},c.propTypes={seed:s.default.string.isRequired,size:s.default.number,scale:s.default.number,color:s.default.string,bgColor:s.default.string,spotColor:s.default.string}}},function(e){e.O(0,[868,827,607,612,455,921,247,409,680,94,163,412,774,888,179],(function(){return t=1008,e(e.s=t);var t}));var t=e.O();_N_E=t}]);