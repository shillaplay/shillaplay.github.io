(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[519],{26579:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/my-games",function(){return n(78992)}])},80974:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(85893),o=n(20949),a=n(68527),i=n(55154);function l(e){var t=e.message,n=e.icon,l=(0,o.ff)("colorAccent.light","colorAccent.dark");return(0,r.jsxs)(a.xu,{minH:"300px",w:"100%",h:"100%",d:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",pt:"2rem",children:[(0,r.jsx)(a.xu,{color:l,mb:"1rem",children:n||(0,r.jsx)(i.x09,{size:"3rem"})}),(0,r.jsx)(a.xu,{children:t||""})]})}},93693:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(85893),o=n(68527);function a(e){var t=e.children;e.hideDivider;return(0,r.jsx)(o.xu,{mb:"1.5rem",children:t})}},53612:function(e,t,n){"use strict";var r=n(85893),o=n(68527),a=n(37911),i=n(69512);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.Z=function(e){var t=e.as,n=e.color,c=e.clickable,u=e.isOdd,f=e.href,d=e.isExternal,m=e.children,x=e.title,b=e.iconSrc,p=e.iconWidth,g=e.onIcon,h=e.bg,y=e.background,j=e.bgImage,O=e.backgroundImage,v=e.titleJustify,w=s(e,["as","color","clickable","isOdd","href","isExternal","children","title","iconSrc","iconWidth","onIcon","bg","background","bgImage","backgroundImage","titleJustify"]);return(0,r.jsx)(o.xu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({as:t||"div",d:"flex",justifyContent:{base:u?"flex-start":"flex-end",md:"stretch"},alignItems:{base:"flex-start",md:"stretch"},pr:{base:"0px",md:"15px"},py:{base:"15px",md:"0px"},h:{base:"80px",md:"140px"}},w,{children:(0,r.jsxs)(o.xu,{as:f?a.Z:"div",href:f,isExternal:d,disableExternalIcon:!0,bg:{base:"transparent",md:h||y||j||O},w:{base:"auto",md:"100%"},p:{base:"5px",md:"0px"},_hover:{opacity:c||f?"0.7":"1",cursor:c||f?"pointer":"default"},pos:"relative",boxShadow:"none",border:"none",d:"flex",flexDirection:"column",justifyContent:"center",wordWrap:"break-word",backgroundClip:"border-box",borderRadius:{base:"none",md:"20px"},children:[(0,r.jsxs)(o.xu,{p:{base:"5px",md:"2rem"},d:"flex",flexDirection:"column",justifyContent:"center",alignItems:v||"flex-start",children:[(0,r.jsx)(o.xu,{as:"h4",d:"flex",color:n,mb:m?"0.5rem":"0px",lineHeight:"1.25",fontWeight:"700",fontSize:m?{base:"11px",md:"16px"}:{base:"16px",md:"24px"},textTransform:m?"none":"uppercase",children:x}),(0,r.jsx)(o.xu,{as:"p",color:n,fontSize:{base:"0.875rem",md:"0.875rem"},lineHeight:"1.3rem",children:m})]}),g?g({pos:"absolute",right:"30px",d:{base:"none",md:"flex"},alignItems:"center !important",verticalAlign:"middle",borderStyle:"none"}):(0,r.jsx)(i.Z,{src:b,w:p||"36px",h:"100%",pos:"absolute",right:"30px",d:{base:"none",md:"flex"},alignItems:"center !important",verticalAlign:"middle",borderStyle:"none"})]})}))}},86228:function(e,t,n){"use strict";var r=n(85893),o=n(68527);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.Z=function(e){var t=e.as,n=e.children,l=i(e,["as","children"]);return(0,r.jsx)(o.xu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({as:t||"div",w:"100%",d:"flex",flexDirection:"row",mb:"1.5rem",bg:{base:"linear-gradient(to right, #ceceec, #bfbfe3, #b0b0da, #a2a1d1, #9393c8)",md:"none"},borderRadius:{base:"15px",md:"0px"},flexWrap:"wrap"},l,{children:n}))}},78992:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return H},default:function(){return z}});var r=n(85893),o=n(68527),a=n(4612),i=n(13365),l=n(83897),s=n(80974),c=n(20949),u=n(34515),f=n(37911),d=n(61454),m=n(82138),x=n(94045),b=n(2593),p=n(16813),g=n(2128),h=n(93693);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var O=function(e){var t=e.id,n=e.allTimeTotalPlayers,a=(e.startBlock,e.endBlock,e.playBlock,e.awaitingPlayers,e.totalHouseFeesPaid),i=e.totalHouseFeesPending,s=e.firstToEndBlockMargin,O=e.lastPaymentTime,v=e.lastPaymentTx,w=(e.latestBlockNumber,j(e,["id","allTimeTotalPlayers","startBlock","endBlock","playBlock","awaitingPlayers","totalHouseFeesPaid","totalHouseFeesPending","firstToEndBlockMargin","lastPaymentTime","lastPaymentTx","latestBlockNumber"])),P=(0,m.Z)("my-games"),Z=P.t,k=P.lang,S=(0,c.ff)("#fff","navbarBg.dark"),I=(0,c.ff)("#363636 !important","#d6d6d6 !important"),E=((0,c.ff)("#222 !important","#ccc !important"),(0,g.EH)({gameId:t}));return(0,r.jsxs)(o.xu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}({w:"100%",bg:S,color:I,p:8,borderWidth:1,borderRadius:8,boxShadow:"lg",mb:{base:"0.5rem"}},w,{children:[(0,r.jsx)(o.xu,{w:"100%",d:"flex",justifyContent:"flex-end",alignItems:"center",mb:{base:"0.5rem"},children:(0,r.jsxs)(g.ZP,{status:E,children:["#",t]})}),(0,r.jsxs)(h.Z,{children:[(0,r.jsxs)(o.xu,{children:[Z("total-plays"),":\xa0"]}),(0,r.jsx)(l.Z,{locale:k,children:n})]}),(0,r.jsxs)(h.Z,{children:[(0,r.jsxs)(o.xu,{children:[Z("last-payment-tx"),":\xa0"]}),v?(0,r.jsx)(o.xu,{className:"text-trunc link",maxW:{base:"5rem",md:"15rem"},as:"a",href:(0,u.s6)(v,u.il.transaction),d:"block",children:v}):(0,r.jsx)(o.xu,{children:"--"})]}),(0,r.jsxs)(h.Z,{children:[(0,r.jsxs)(o.xu,{children:[Z("last-payment-time"),":\xa0"]}),O?(0,r.jsx)(o.xu,{children:new Date(1e3*parseInt(O)).toLocaleString()}):(0,r.jsx)(o.xu,{children:"--"})]}),(0,r.jsxs)(h.Z,{children:[(0,r.jsxs)(o.xu,{children:[Z("profits-paid"),":\xa0"]}),(0,r.jsx)(o.xu,{children:Z("common:value-symbol",[l.Z.format((0,x.Xv)(b.O$.from(a)),{locale:k,minFD:2,maxFD:2})],!0)})]}),(0,r.jsxs)(h.Z,{children:[(0,r.jsxs)(o.xu,{children:[Z("profits-pending"),":\xa0"]}),(0,r.jsx)(o.xu,{children:Z("common:value-symbol",[l.Z.format((0,x.Xv)(b.O$.from(i)),{locale:k,minFD:2,maxFD:2})],!0)})]}),(0,r.jsxs)(h.Z,{children:[(0,r.jsxs)(o.xu,{children:[Z("played-since"),":\xa0"]}),(0,r.jsx)(o.xu,{children:b.O$.from(s).eq(p.HW)?Z("no-players-yet"):Z("play-ago",[l.Z.format(s,{locale:k,minFD:2,maxFD:2})],!0)})]}),(0,r.jsx)(o.iz,{mb:"0.5rem",mt:"1rem"}),(0,r.jsx)(o.Ug,{justifyContent:"flex-end",children:(0,r.jsx)(d.Z,{as:f.Z,href:"/game?id=".concat(t),size:"sm",h:"36px",children:Z("mint-game:manage-nft")})})]}))},v=n(86228),w=n(53612),P=n(85480),Z=n(81961),k=n(37610),S=n(4226),I=n(67294),E=n(90599),C=n(77044),D=n(55154),_=n(57060);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){F(e,t,n[t])}))}return e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var H=!0,z=function(){var e=(0,m.Z)("my-games"),t=e.t,n=e.lang,c=(0,C.Ge)().account,u=(0,P.Ov)(),g=(0,_.Z)().onOpen,h={totalGames:"0",totalProfits:"0",totalPlays:"0"},y=(0,I.useState)(h),j=y[0],F=y[1],H=j.totalGames,z=j.totalProfits,N=j.totalPlays,W=(0,I.useState)(c),$=W[0],A=W[1],L=B((0,E.J0)(Z.jd.games,{query:"query($owner: String!) {\n    userGamesMetric(id: $owner) {\n      totalGames\n      totalProfits\n      totalPlays\n    }\n  }",variables:{owner:$},pause:!0}),2),X=L[0],M=L[1],U=X.data,q=X.fetching,J=X.error;console.log("myGames:",U,q,J),(0,I.useEffect)((function(){(null===U||void 0===U?void 0:U.userGamesMetric)&&F(U.userGamesMetric)}),[U]),(0,I.useEffect)((function(){F(h),c&&A(c.toLowerCase())}),[c]),(0,I.useEffect)((function(){$&&M({requestPolicy:"cache-first"})}),[$]);var R=(0,I.useState)(0),K=R[0],Q=R[1],V=(0,E.YH)(c,K,Z.Rs),Y=V.userGames,ee=V.userGamesFirstFetching,te=V.userGamesNextFetching,ne=V.userGamesSearchFetching,re=V.nextUserGames;V.minIdPos;return(0,r.jsx)(k.Z,{link:"/my-games",title:t("title"),description:t("desc"),image:null,updatedTime:null,children:(0,r.jsxs)(S.Z,{children:[(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(w.Z,{w:{base:"100%",md:"50%"},isOdd:!0,justifyContent:{base:"center",md:"center"},titleJustify:{base:"center",md:"flex-start"},title:t("total-profits"),onIcon:function(e){var t=G({},e);return(0,r.jsx)(o.xu,T({as:D.EIQ,color:"#fff",size:"40px"},t))},bg:"linear-gradient(to right, #ceceec, #bfbfe3, #b0b0da, #a2a1d1, #9393c8)",color:"#323277 !important",children:(0,r.jsx)(i.Z,{as:o.xu,isLoading:q,children:t("common:value-symbol",[l.Z.format((0,x.Xv)(z),{locale:n,minFD:2,maxFD:2})],!0)})}),(0,r.jsx)(w.Z,{w:{base:"50%",md:"25%"},justifyContent:{base:"flex-start",md:"flex-start"},title:t("total-games"),onIcon:function(e){var t=G({},e);return(0,r.jsx)(o.xu,T({as:D.iVx,color:"#fff",size:"45px"},t))},bg:"linear-gradient(to right, #a069ad, #9767a3, #8f6599, #866390, #7e6186)",color:"#fff !important",children:(0,r.jsx)(i.Z,{as:o.xu,isLoading:q,children:l.Z.format(H,{locale:n})})}),(0,r.jsx)(w.Z,{isOdd:!0,w:{base:"50%",md:"25%"},justifyContent:{base:"flex-end",md:"flex-start"},title:t("total-plays"),onIcon:function(e){var t=G({},e);return(0,r.jsx)(o.xu,T({as:D.gmG,color:"#fff",size:"30px"},t))},bg:"linear-gradient(to right, #bbbecd, #b0b3c0, #a6a8b3, #9b9ea7, #91939a)",color:"#393939 !important",children:(0,r.jsx)(i.Z,{as:o.xu,isLoading:q,children:l.Z.format(N,{locale:n})})})]}),(0,r.jsxs)(o.Ug,{w:"100%",justifyContent:"space-between",alignItems:"center",mt:"1rem",mb:"0.5rem",children:[(0,r.jsxs)(o.X6,{as:"h3",size:"md",children:[t("games")," (",l.Z.format(H,{locale:n}),")"]}),(0,r.jsx)(d.Z,{as:f.Z,href:"/mint-game",children:t("header:mint-game")})]}),(0,r.jsx)(o.iz,{mb:"0.5rem"}),(0,r.jsx)(o.xu,{d:c?"block":"none",alignSelf:"flex-start",mb:"2rem",p:"5px",marginInlineStart:"0px !important",marginInlineEnd:"0px !important",w:{base:"25%",md:"25%"},minW:"200px",children:(0,r.jsxs)(a.BZ,{w:"100%",children:[(0,r.jsx)(a.II,{type:"text",placeholder:t("search-game-id"),onChange:function(e){return Q(e.target.value)}}),(0,r.jsx)(a.xH,{children:(0,r.jsx)(D.U41,{})})]})}),ee||te||ne||0!=(null===Y||void 0===Y?void 0:Y.length)?null:(0,r.jsx)(s.Z,{message:t(c?"game-not-found":"connect-wallet-games"),icon:c?null:(0,r.jsxs)(o.gC,{children:[(0,r.jsx)(D.eKD,{size:"3rem"}),(0,r.jsx)(d.Z,{onClick:g,children:t("common:connect-wallet")})]})}),(0,r.jsx)(o.xu,{w:"100%",children:Y.map((function(e,t){return(0,r.jsx)(O,T({},e,{latestBlockNumber:u}),t)}))}),(0,r.jsxs)(o.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,r.jsx)(i.Z,{as:o.Ug,isLoading:ee||te||ne,justifyContent:"center",my:"15px",children:null}),(0,r.jsx)(d.Z,{d:0==Y.length||Y&&b.O$.from(Y.length).gte(b.O$.from(H))||K&&b.O$.from(K).gt(p.HW)||ee||te||ne?"none":"block",onClick:function(){re()},_disabled:{opacity:.4},_hover:{opactity:.4},children:t("common:load-more")})]})]})})}}},function(e){e.O(0,[377,642,612,875,94,128,774,888,179],(function(){return t=26579,e(e.s=t);var t}));var t=e.O();_N_E=t}]);