(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[324],{87049:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/stakes",function(){return n(43179)}])},80974:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85893),s=n(20949),a=n(68527),o=n(55154);function i(e){var t=e.message,n=e.icon,i=(0,s.ff)("colorAccent.light","colorAccent.dark");return(0,r.jsxs)(a.xu,{minH:"300px",w:"100%",h:"100%",d:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",pt:"2rem",children:[(0,r.jsx)(a.xu,{color:i,mb:"1rem",children:n||(0,r.jsx)(o.x09,{size:"3rem"})}),(0,r.jsx)(a.xu,{children:t||""})]})}},49920:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85893),s=n(68527);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function i(e){var t=e.children,n=e.className,i=o(e,["children","className"]);return(0,r.jsx)(s.kC,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({className:"columns is-multiline ".concat(n||"")},i,{children:t}))}},53612:function(e,t,n){"use strict";var r=n(85893),s=n(68527),a=n(37911),o=n(69512);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}t.Z=function(e){var t=e.as,n=e.color,c=e.clickable,u=e.isOdd,m=e.href,x=e.isExternal,f=e.children,d=e.title,b=e.iconSrc,p=e.iconWidth,h=e.onIcon,g=e.bg,j=e.background,v=e.bgImage,y=e.backgroundImage,k=e.titleJustify,w=l(e,["as","color","clickable","isOdd","href","isExternal","children","title","iconSrc","iconWidth","onIcon","bg","background","bgImage","backgroundImage","titleJustify"]);return(0,r.jsx)(s.xu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({as:t||"div",d:"flex",justifyContent:{base:u?"flex-start":"flex-end",md:"stretch"},alignItems:{base:"flex-start",md:"stretch"},pr:{base:"0px",md:"15px"},py:{base:"15px",md:"0px"},h:{base:"80px",md:"140px"}},w,{children:(0,r.jsxs)(s.xu,{as:m?a.Z:"div",href:m,isExternal:x,disableExternalIcon:!0,bg:{base:"transparent",md:g||j||v||y},w:{base:"auto",md:"100%"},p:{base:"5px",md:"0px"},_hover:{opacity:c||m?"0.7":"1",cursor:c||m?"pointer":"default"},pos:"relative",boxShadow:"none",border:"none",d:"flex",flexDirection:"column",justifyContent:"center",wordWrap:"break-word",backgroundClip:"border-box",borderRadius:{base:"none",md:"20px"},children:[(0,r.jsxs)(s.xu,{p:{base:"5px",md:"2rem"},d:"flex",flexDirection:"column",justifyContent:"center",alignItems:k||"flex-start",children:[(0,r.jsx)(s.xu,{as:"h4",d:"flex",color:n,mb:f?"0.5rem":"0px",lineHeight:"1.25",fontWeight:"700",fontSize:f?{base:"11px",md:"16px"}:{base:"16px",md:"24px"},textTransform:f?"none":"uppercase",children:d}),(0,r.jsx)(s.xu,{as:"p",color:n,fontSize:{base:"0.875rem",md:"0.875rem"},lineHeight:"1.3rem",children:f})]}),h?h({pos:"absolute",right:"30px",d:{base:"none",md:"flex"},alignItems:"center !important",verticalAlign:"middle",borderStyle:"none"}):(0,r.jsx)(o.Z,{src:b,w:p||"36px",h:"100%",pos:"absolute",right:"30px",d:{base:"none",md:"flex"},alignItems:"center !important",verticalAlign:"middle",borderStyle:"none"})]})}))}},86228:function(e,t,n){"use strict";var r=n(85893),s=n(68527);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}t.Z=function(e){var t=e.as,n=e.children,i=o(e,["as","children"]);return(0,r.jsx)(s.xu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({as:t||"div",w:"100%",d:"flex",flexDirection:"row",mb:"1.5rem",bg:{base:"linear-gradient(to right, #ceceec, #bfbfe3, #b0b0da, #a2a1d1, #9393c8)",md:"none"},borderRadius:{base:"15px",md:"0px"},flexWrap:"wrap"},i,{children:n}))}},43179:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return J},default:function(){return M}});var r=n(85893),s=n(68527),a=n(82138),o=n(37610),i=n(37911),l=n(83897),c=n(4226),u=(n(46782),n(49920)),m=n(35666),x=n.n(m),f=n(92667),d=n(20949),b=n(26723),p=n(67294),h=n(2593),g=n(35553),j=n(34515),v=n(81961),y=n(94045),k=n(77044),w=n(17618),O=n(86455),S=n.n(O),N=n(80109),Z=n(16813),P=n(13365);function D(e,t,n,r,s,a,o){try{var i=e[a](o),l=i.value}catch(c){return void n(c)}i.done?t(l):Promise.resolve(l).then(r,s)}var I={"common:connect-wallet":"normal",unstake:"normal",unstaking:"italic"},_=function(e){var t=e.id,n=(e.owner,e.lockId,e.amount),a=e.unlockTime,o=e.lastDividendPoints,i=e.stakeHash,c=e.onRemove,u=e.lock,m=e.t,O=e.lang,_=(0,k.Ge)().account,C=(0,f.pm)(),E=(0,d.ff)("#fff","navbarBg.dark"),F=(0,d.ff)("#363636 !important","#d6d6d6 !important"),z=(0,d.ff)("#222 !important","#ccc !important"),T=(0,w.GF)(),W=(0,p.useState)(),X=W[0],L=W[1],R=function(){return _?X?"unstaking":"unstake":"common:connect-wallet"};(0,p.useEffect)((function(){}),[X]);var A=(0,p.useState)(R()),H=A[0],U=A[1],J=(0,p.useState)(),M=J[0],G=J[1];(0,N.k)(M,(function(){L(!1),c&&c(),S().fire({html:m("unstake-complete"),icon:"success",cancelButtonText:m("common:ok"),confirmButtonText:m("common:ok")})}),(function(){L(!1),U(R()),C({description:m("unstake-failed"),status:"error",duration:4e3,isClosable:!0})}));(0,p.useEffect)((function(){U(R())}),[X,_]);var B=(0,p.useState)(!0),$=B[0],K=B[1];(0,p.useEffect)((function(){parseInt(a)>0&&K(1e3*parseInt(a)+15>(new Date).getTime())}),[a]);var q,Q=function(){return parseFloat(g.bM(function(){var e=u?u.dividendPoints:Z.HW;return e.gt(Z.HW)?e.sub(h.O$.from(o)).mul(n):Z.HW}(),v.r2+v.RF))},V=(q=x().mark((function e(){var n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,e.next=4,T.unstake(t);case 4:n=e.sent,console.log("Unstake.result",n),G(n.hash),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(1),r=e.t0.code,console.log("Unstake.error",r,e.t0),L(!1),U("unstake"),r!=v.O1.META_MASK_TX_DECLINED?C({description:m("common:conn-error"),status:"error",duration:4e3,isClosable:!0}):C({description:m("common:tx-declined"),status:"error",duration:4e3,isClosable:!0});case 16:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var s=q.apply(e,t);function a(e){D(s,n,r,a,o,"next",e)}function o(e){D(s,n,r,a,o,"throw",e)}a(void 0)}))});return(0,r.jsx)(s.xu,{className:"column is-one-third",w:{base:"100%",md:"33.33%"},children:(0,r.jsx)(s.xu,{className:"lazyload-wrapper ",style:{height:"100%"},children:(0,r.jsx)(s.xu,{className:"custom-card card is-flex is-flex-direction-column",bg:E,style:{height:"100%"},children:(0,r.jsxs)(s.xu,{className:"card-content is-flex-grow-1",children:[(0,r.jsxs)(s.xu,{className:"media is-flex is-align-items-center",flexWrap:"wrap",children:[(0,r.jsx)(s.xv,{as:"figure",className:"media-left title",textTransform:"capitalize",color:F,fontSize:{base:"16px",md:"18px"},children:"#".concat(t)}),(0,r.jsx)(s.xu,{className:"media-content",children:(0,r.jsx)(s.xu,{className:"is-flex is-justify-content-flex-end",children:(0,r.jsx)(s.xu,{className:"is-flex has-text-right is-flex-direction-column",children:(0,r.jsx)(s.xu,{className:"is-flex",children:(0,r.jsx)(s.xu,{as:"span",className:"is-flex status-dot filled",children:m("common:percent-var",[l.Z.format(Q()/(0,y.Xv)(n)*100,{minFD:2,maxFD:2})],!0)})})})})})]}),(0,r.jsxs)(s.xu,{className:"soft-hard-cap",children:[(0,r.jsxs)(s.xv,{color:z,children:[m("UnstakeStatus"),":"]}),(0,r.jsx)("span",{children:X})]}),(0,r.jsxs)(s.xu,{className:"soft-hard-cap",children:[(0,r.jsxs)(s.xv,{color:z,children:[m("staked"),":"]}),(0,r.jsx)("span",{children:m("common:value-symbol",[l.Z.format((0,y.Xv)(n),{locale:O,minFD:2,maxFD:2})],!0)})]}),(0,r.jsx)(s.xu,{className:"lockup-time",children:(0,r.jsxs)(s.xu,{className:"is-flex is-align-items-center",textTransform:"capitalize",children:[(0,r.jsxs)(s.xv,{color:z,className:"is-flex-grow-1",children:[m("vault"),":"]}),(0,r.jsx)(P.Z,{isLoading:!u,as:"span",className:"is-flex-grow-1 has-text-right time-text",children:m(null===u||void 0===u?void 0:u.tag)})]})}),(0,r.jsx)(s.xu,{className:"lockup-time",children:(0,r.jsxs)(s.xu,{className:"is-flex is-align-items-center",textTransform:"capitalize",children:[(0,r.jsxs)(s.xv,{color:z,className:"is-flex-grow-1",children:[m("rewards"),":"]}),(0,r.jsx)("span",{className:"is-flex-grow-1 has-text-right time-text",children:m("common:value-symbol",[l.Z.format(Q(),{locale:O,minFD:2,maxFD:2})],!0)})]})}),(0,r.jsx)(s.xu,{className:"lockup-time",children:(0,r.jsxs)(s.xu,{className:"is-flex is-align-items-center",textTransform:"capitalize",children:[(0,r.jsxs)(s.xv,{color:z,className:"is-flex-grow-1",children:[m("stake-hash"),":"]}),(0,r.jsx)(s.xv,{as:"a",target:"_blank",href:(0,j.s6)(i,j.il.transaction),className:"is-flex-grow-1 has-text-right time-text text-trunc",maxW:{base:"5rem",md:"15rem"},d:"block",children:i})]})}),(0,r.jsx)(s.xu,{className:"lockup-time",children:(0,r.jsxs)(s.xu,{className:"is-flex is-align-items-center",textTransform:"capitalize",children:[(0,r.jsxs)(s.xv,{color:z,className:"is-flex-grow-1",children:[m("balance"),":"]}),(0,r.jsx)("span",{className:"is-flex-grow-1 has-text-right time-text",children:m("common:value-symbol",[l.Z.format((0,y.Xv)(n)+Q(),{locale:O,minFD:2,maxFD:2})],!0)})]})}),(0,r.jsx)(s.xu,{className:"lockup-time",children:(0,r.jsxs)(s.xu,{className:"is-flex is-align-items-center",textTransform:"capitalize",children:[(0,r.jsxs)(s.xv,{color:z,className:"is-flex-grow-1",children:[m("unlock-date"),":"]}),(0,r.jsx)("span",{className:"is-flex-grow-1 has-text-right time-text",children:new Date(1e3*parseInt(a)).toLocaleString(O)})]})}),(0,r.jsx)(s.xu,{className:"custom-card-footer",children:(0,r.jsx)(s.xu,{className:"is-flex is-align-items-center",flexWrap:"wrap",children:(0,r.jsx)(s.xu,{className:"view-pool is-flex-grow-1",w:"100%",children:(0,r.jsx)(b.zx,{onClick:function(){$||X||(console.log("Unstake:1"),V())},w:"100%",d:"flex",justifyContent:"center",alignItems:"center",textTransform:"capitalize",textAlign:"center",className:"view-button",disabled:"italic"==I[H]||$,fontStyle:I[H],_hover:{opacity:.4},_disabled:{opacity:.4,cursor:"not-allowed"},children:m(H)})})})})]})})})})},C=n(20149),E=n(59521),F=n(61454),z=n(90599),T=n(55154),W=n(57060),X=n(80974),L=n(86228),R=n(53612);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}var J=!0,M=function(){var e=(0,a.Z)("stakes"),t=e.t,n=e.lang,m=(0,k.Ge)().account,x=(0,W.Z)().onOpen,f=(0,z.Zu)(m,v.Rs),d=f.myStakes,b=f.myStakesFirstFetching,p=f.myStakesNextFetching,g=(f.myStakesFirstError,f.myStakesNextError,f.nextMyStakes),j=f.removeStake,w=(f.minStakeId,(0,C.mM)()),O=w.balance,S=w.fetchStatus,N=(0,E.xL)(),Z=N.totalStaked,D=N.totalStakedStatus,I=(0,E.ZX)(),A=I.totalRewards,J=I.totalRewardsStatus,M=(0,E.$x)(),G=M.totalStakes,B=(M.totalStakesStatus,(0,E.sj)([1,2,3,4,5,6])),$=B.locks;B.locksStatus;return(0,r.jsx)(o.Z,{link:"/stakes",title:t("title"),description:t("common:sitedesc"),image:null,updatedTime:null,children:(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)(L.Z,{children:[(0,r.jsx)(R.Z,{w:{base:"100%",md:"50%"},isOdd:!0,title:t("wallet-balance"),justifyContent:{base:"center",md:"center"},titleJustify:{base:"center",md:"flex-start"},onIcon:function(e){var t=H({},e);return(0,r.jsx)(s.xu,U({as:T.OZg,color:"#fff",size:"30px"},t))},bg:"linear-gradient(to right, #ceceec, #bfbfe3, #b0b0da, #a2a1d1, #9393c8)",color:"#323277 !important",children:(0,r.jsx)(P.Z,{as:s.xu,isLoading:m&&S==v.J_.pending,children:t("common:value-symbol",[l.Z.format((0,y.Xv)(O.toString()),{locale:n,minFD:2,maxFD:2})],!0)})}),(0,r.jsx)(R.Z,{w:{base:"50%",md:"25%"},justifyContent:{base:"flex-start",md:"flex-start"},title:t("total-staked"),onIcon:function(e){var t=H({},e);return(0,r.jsx)(s.xu,U({as:T.kUi,color:"#fff",size:"30px"},t))},bg:"linear-gradient(to right, #a069ad, #9767a3, #8f6599, #866390, #7e6186)",color:"#fff !important",children:(0,r.jsx)(P.Z,{as:s.xu,isLoading:m&&D==v.J_.pending,children:t("common:value-symbol",[l.Z.format((0,y.Xv)(Z.toString()),{locale:n,minFD:2,maxFD:2})],!0)})}),(0,r.jsx)(R.Z,{isOdd:!0,w:{base:"50%",md:"25%"},title:t("total-reward"),justifyContent:{base:"flex-end",md:"flex-start"},onIcon:function(e){var t=H({},e);return(0,r.jsx)(s.xu,U({as:T.Op,color:"#fff",size:"30px"},t))},bg:"linear-gradient(to right, #bbbecd, #b0b3c0, #a6a8b3, #9b9ea7, #91939a)",color:"#393939 !important",children:(0,r.jsx)(P.Z,{as:s.xu,isLoading:m&&J==v.J_.pending,children:t("common:value-symbol",[l.Z.format((0,y.Xv)(A.toString()),{locale:n,minFD:2,maxFD:2})],!0)})})]}),(0,r.jsxs)(s.Ug,{w:"100%",justifyContent:"space-between",alignItems:"center",mt:"5rem",mb:"0.5rem",children:[(0,r.jsxs)(s.X6,{as:"h3",size:"md",children:[t("stakes")," (",l.Z.format(G.toNumber(),{locale:n}),")"]}),(0,r.jsx)(F.Z,{as:i.Z,href:"/vault",children:t("stake")})]}),(0,r.jsx)(s.iz,{mb:"0.5rem"}),b||p||0!=(null===d||void 0===d?void 0:d.length)?null:(0,r.jsx)(X.Z,{message:t(m?"stakes-not-found":"connect-wallet-stakes"),icon:m?null:(0,r.jsxs)(s.gC,{children:[(0,r.jsx)(T.eKD,{size:"3rem"}),(0,r.jsx)(F.Z,{onClick:x,children:t("common:connect-wallet")})]})}),(0,r.jsx)(u.Z,{children:d.map((function(e,s){return(0,r.jsx)(_,U({},e,{t:t,lang:n,lock:$.length<6?null:$[((null===e||void 0===e?void 0:e.lockId)||1)-1],onRemove:function(){j(s)}}),s)}))}),(0,r.jsxs)(s.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,r.jsx)(P.Z,{as:s.Ug,isLoading:b||p,justifyContent:"center",my:"15px",children:null}),(0,r.jsx)(F.Z,{d:d&&h.O$.from(d.length).gte(G)||b||p||!d||0==d.length?"none":"block",onClick:g,_disabled:{opacity:.4},_hover:{opactity:.4},children:t("common:load-more")})]})]})})}}},function(e){e.O(0,[377,642,612,921,247,875,94,907,782,774,888,179],(function(){return t=87049,e(e.s=t);var t}));var t=e.O();_N_E=t}]);