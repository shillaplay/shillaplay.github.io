(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{17233:function(e,t,n){"use strict";n.d(t,{kN:function(){return y},pr:function(){return x},dw:function(){return u},Jf:function(){return d}});var r=n(10894),a=n(42846),o=n(44592),i=(n(1358),n(67294));function s(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=["className","children"],u=(0,a.Gp)((function(e,t){var n=(0,a.yK)();return i.createElement(a.m$.dt,l({ref:t},e,{className:(0,o.cx)("chakra-stat__label",e.className),__css:n.label}))}));o.Ts&&(u.displayName="StatLabel");var f=(0,a.Gp)((function(e,t){var n=(0,a.yK)();return i.createElement(a.m$.dd,l({ref:t},e,{className:(0,o.cx)("chakra-stat__help-text",e.className),__css:n.helpText}))}));o.Ts&&(f.displayName="StatHelpText");var d=(0,a.Gp)((function(e,t){var n=(0,a.yK)();return i.createElement(a.m$.dd,l({ref:t},e,{className:(0,o.cx)("chakra-stat__number",e.className),__css:l({},n.number,{fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"})}))}));o.Ts&&(d.displayName="StatNumber");var m=function(e){return i.createElement(r.JO,l({color:"red.400"},e),i.createElement("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"}))};o.Ts&&(m.displayName="StatDownArrow");var p=function(e){return i.createElement(r.JO,l({color:"green.400"},e),i.createElement("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"}))};o.Ts&&(p.displayName="StatUpArrow");o.Ts;var y=(0,a.Gp)((function(e,t){var n=(0,a.jC)("Stat",e),r=l({position:"relative",flex:"1 1 0%"},n.container),u=(0,a.Lr)(e),f=u.className,d=u.children,m=s(u,c);return i.createElement(a.Fo,{value:n},i.createElement(a.m$.div,l({ref:t},m,{className:(0,o.cx)("chakra-stat",f),__css:r}),i.createElement("dl",null,d)))}));o.Ts&&(y.displayName="Stat");var x=(0,a.Gp)((function(e,t){return i.createElement(a.m$.div,l({},e,{ref:t,role:"group",className:(0,o.cx)("chakra-stat__group",e.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}}))}));o.Ts&&(x.displayName="StatGroup")},1008:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/game",function(){return n(70105)}])},93693:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(85893),a=n(68527);function o(e){var t=e.children,n=e.hideDivider;return(0,r.jsxs)(a.xu,{children:[(0,r.jsx)(a.xu,{w:"100%",d:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:t}),(0,r.jsx)(a.iz,{mt:"0.2rem",mb:"1rem",visibility:n?"hidden":"visible"})]})}},24375:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(85893),a=n(17233);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e){var t=e.children,n=i(e,["children"]);return(0,r.jsx)(a.Jf,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({fontSize:{base:"0.8rem",md:"1.3rem"}},n,{children:t}))}},57277:function(e,t,n){"use strict";n.d(t,{$x:function(){return x},vk:function(){return h},qv:function(){return g}});var r=n(35666),a=n.n(r),o=n(67294),i=n(2593),s=n(16813),l=n(81961),c=n(17618),u=n(37423),f=n(94045);function d(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,s,"next",e)}function s(e){d(o,r,a,i,s,"throw",e)}i(void 0)}))}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}var x=function(e){var t=l.J_.idle,n=l.J_.pending,r=l.J_.ok,d=l.J_.notOk,p=(0,o.useState)({owner:l.je,entryPrice:s.HW,countDownDuration:s.HW,primaryWinnerPercentage:s.HW,secondaryWinnerPercentage:s.HW,ownerPercentage:s.HW,totalSessions:s.HW,totalPlayers:s.HW,totalProfits:s.HW,bank:s.HW,gameInfoStatus:t}),x=p[0],h=p[1],g=(0,c.s5)(),b=(0,o.useState)(),v=b[0],j=b[1],w=(0,u.Z)(v,"useGameStarted");console.log("GameEvent.Started",w);var O=(0,o.useState)(),S=O[0],P=O[1],k=(0,u.Z)(S,"useGameCanceled"),N=(0,o.useState)(),C=N[0],W=N[1],_=(0,u.Z)(C,"useGameFunded"),E=(0,o.useState)(),Z=E[0],I=E[1],H=(0,u.Z)(Z,"useGameEnded");return console.log("GameEvent.Ended",H),(0,o.useEffect)((function(){e&&(j((0,f.tz)(e)),P((0,f.ic)(e)),W((0,f.DQ)(e)),I((0,f.D_)(e)))}),[e]),(0,o.useEffect)((function(){var t=m(a().mark((function t(){var o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h((function(e){return y({},e,{gameSessionInfoStatus:n})})),t.next=4,g.gameInfo(e);case 4:o=t.sent,h({owner:o.owner,entryPrice:i.O$.from(o.entryPrice.toString()),countDownDuration:i.O$.from(o.countDownDuration.toString()),primaryWinnerPercentage:i.O$.from(o.primaryWinnerPercentage.toString()),secondaryWinnerPercentage:i.O$.from(o.secondaryWinnerPercentage.toString()),ownerPercentage:i.O$.from(o.ownerPercentage.toString()),totalSessions:i.O$.from(o.totalSessions.toString()),totalPlayers:i.O$.from(o.totalPlayers.toString()),totalProfits:i.O$.from(o.totalProfits.toString()),bank:i.O$.from(o.bank.toString()),gameInfoStatus:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),h((function(e){return y({},e,{gameSessionInfoStatus:d})}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));g&&e&&t()}),[r,d,g,e,w,k,_,H]),x},h=function(e){var t=l.J_.idle,n=l.J_.pending,r=l.J_.ok,d=l.J_.notOk,p=(0,o.useState)({startBlock:s.HW,endBlock:s.HW,playBlock:s.HW,primaryWinnerPrize:s.HW,secondaryWinnerPrize:s.HW,ownerPrize:s.HW,vaultPrize:s.HW,sessionBank:s.HW,sessionTotalPlayers:s.HW,awaitingPlayers:!1,primaryWinner:l.je,secondaryWinner:l.je,gameSessionInfoStatus:t}),x=p[0],h=p[1],g=(0,c.s5)(),b=(0,o.useState)(),v=b[0],j=b[1],w=(0,u.Z)(v,"useGameStarted"),O=(0,o.useState)(),S=O[0],P=O[1],k=(0,u.Z)(S,"useGameCanceled"),N=(0,o.useState)(),C=N[0],W=N[1],_=(0,u.Z)(C,"usePlayEvent"),E=(0,o.useState)(),Z=E[0],I=E[1],H=(0,u.Z)(Z,"useGameFunded"),T=(0,o.useState)(),$=T[0],B=T[1],z=(0,u.Z)($,"useGameEnded");return(0,o.useEffect)((function(){e&&(j((0,f.tz)(e)),P((0,f.ic)(e)),W((0,f.Nt)(e)),I((0,f.DQ)(e)),B((0,f.D_)(e)))}),[e]),(0,o.useEffect)((function(){var t=m(a().mark((function t(){var o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h((function(e){return y({},e,{gameSessionInfoStatus:n})})),t.next=4,g.gameSessionInfo(e);case 4:o=t.sent,h({startBlock:i.O$.from(o.startBlock.toString()),endBlock:i.O$.from(o.endBlock.toString()),playBlock:i.O$.from(o.playBlock.toString()),primaryWinnerPrize:i.O$.from(o.primaryWinnerPrize.toString()),secondaryWinnerPrize:i.O$.from(o.secondaryWinnerPrize.toString()),ownerPrize:i.O$.from(o.ownerPrize.toString()),vaultPrize:i.O$.from(o.vaultPrize.toString()),sessionBank:i.O$.from(o.bank.toString()),sessionTotalPlayers:i.O$.from(o.totalPlayers.toString()),awaitingPlayers:o.awaitingPlayers,primaryWinner:o.primaryWinner,secondaryWinner:o.secondaryWinner,gameSessionInfoStatus:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),h((function(e){return y({},e,{gameSessionInfoStatus:d})}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));g&&e&&t()}),[r,d,g,e,w,k,_,H,z]),x},g=function(e){var t=l.J_.idle,n=(l.J_.pending,l.J_.ok),r=l.J_.notOk,d=(0,o.useState)({totalPlays:s.HW,totalPlaysStatus:t}),p=d[0],x=d[1],h=(0,c.s5)(),g=(0,o.useState)((0,f.sE)()),b=g[0],v=(g[1],(0,u.Z)(b));return(0,o.useEffect)((function(){var t=m(a().mark((function e(){var t,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.currentGamePlays();case 3:t=e.sent,o=i.O$.from(t.toString()),x({totalPlays:o,totalPlaysStatus:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),x((function(e){return y({},e,{totalPlaysStatus:r})}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));!h||e&&p.totalPlaysStatus==n||t()}),[n,r,h,v]),p}},70105:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return ce},default:function(){return ue}});var r=n(35666),a=n.n(r),o=n(85893),i=n(92667),s=n(20949),l=n(17233),c=n(68527),u=n(79762),f=n(82138),d=n(81961),m=n(62133);n(24375);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}function x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var h=function(e){var t=e.children,n=e.reverse,r=e.mobileReverse,a=x(e,["children","reverse","mobileReverse"]);return(0,o.jsx)(c.kC,y({w:"100%",flexDirection:{base:r?"column-reverse":"column",md:n?"row-reverse":"row"},justifyContent:{base:"flex-start",md:"space-between"},alignItems:{base:"flex-start",md:"flex-start"}},a,{children:t}))};h.First=function(e){var t=e.as,n=e.children,r=x(e,["as","children"]);return(0,o.jsx)(c.xu,y({as:t||"div",w:{base:"100%",md:"50%"},mb:{base:"25px",md:"0px"}},r,{children:n}))},h.Second=function(e){var t=e.as,n=e.children,r=x(e,["as","children"]);return(0,o.jsx)(c.xu,y({as:t||"div",w:{base:"100%",md:"50%"},p:{base:"0px",md:"25px"}},r,{children:n}))};var g=h,b=n(37911),v=n(13365),j=n(412),w=n(67294);n(30710);var O=n(34515),S=n(83897);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var N=function(e){e.id,e.gameId,e.sessionId;var t=e.playPos,n=e.player,r=e.txHash,a=(e.isPrimaryWinner,e.isSecondaryWinner,k(e,["id","gameId","sessionId","playPos","player","txHash","isPrimaryWinner","isSecondaryWinner"])),i=(0,f.Z)("common");i.t,i.lang;return(0,o.jsxs)(c.xu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){P(e,t,n[t])}))}return e}({className:"player row",justifyContent:"flex-start",alignItems:"flex-start"},a,{children:[(0,o.jsxs)(c.Ug,{justifyContent:"space-between",w:"100%",children:[(0,o.jsx)(c.xu,{className:"text-trunc",as:"a",href:(0,O.s6)(n,O.il.address),d:"block",children:n})," ",(0,o.jsxs)(c.Ct,{borderRadius:"3px",children:["#",t]})]}),(0,o.jsx)(c.iz,{my:"5px"}),(0,o.jsx)(c.xu,{className:"text-trunc",as:"a",href:(0,O.s6)(r,O.il.transaction),d:"block",children:r})]}))},C=n(55154);function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){W(e,t,n[t])}))}return e}function E(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Z=function(e){var t=e.topChildren,n=e.bottomChildren,r=e.players,a=e.totalPlayers,i=e.primaryWinner,l=e.secondaryWinner,u=e.isHistory,d=E(e,["topChildren","bottomChildren","players","totalPlayers","primaryWinner","secondaryWinner","isHistory"]),m=(0,f.Z)("game"),p=m.t,y=m.lang,x=(0,s.ff)("elementBg.light","elementBg.dark"),h=(0,s.ff)("elementHeaderBg.light","elementHeaderBg.dark"),g=(0,s.ff)("elementTitleColor.light","elementTitleColor.dark"),b=(0,s.ff)("elementSubTitleColor.light","elementSubTitleColor.dark");return(0,o.jsx)(c.xu,_({w:"100%",className:"players mb-4"},d,{children:(0,o.jsxs)(c.xu,{className:"list m-auto",children:[(0,o.jsxs)(c.xu,{className:"head row m-0 align-items-center",bg:h,children:[(0,o.jsx)(c.xv,{as:"span",textTransform:"uppercase",className:"title",color:g,children:p(u?"players-prev":"players")})," ",(0,o.jsx)(c.xv,{as:"i",className:"far fa-fill-drip",d:"none"}),(0,o.jsxs)("div",{className:"ml-auto rs",children:[(0,o.jsx)(S.Z,{locale:y,children:a}),(0,o.jsx)(c.xu,{as:C.I$,color:g})]})]}),(0,o.jsxs)(c.xu,{className:"body",bg:x,children:[(0,o.jsxs)(c.Ug,{d:"none",p:"15px 20px 0px 20px",justifyContent:"space-between",alignItems:"center",children:[(0,o.jsx)(c.xv,{as:"div",textTransform:"uppercase",className:"title w-50",color:b,children:p("player")}),(0,o.jsx)(c.xv,{as:"div",textTransform:"uppercase",className:"title w-50",color:b,children:p("play-hash")})]}),(0,o.jsxs)("div",{className:"players_list",children:[t,(r||[]).map((function(e,t){return(0,o.jsx)("span",{children:(0,o.jsx)(N,_({},e,{bg:h,isPrimaryWinner:e.player.toLowerCase()==i.toLowerCase(),isSecondaryWinner:e.player.toLowerCase()==l.toLowerCase()}),t)})})),n]})]})]})}))},I=n(94045),H=n(2593),T=n(93693);function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var z=function(e){e.id;var t=e.sessionId,n=e.txHash,r=e.primaryWinner,a=e.primaryWinnerPrize,i=e.secondaryWinner,l=e.secondaryWinnerPrize,u=e.totalPlayers,d=e.paymentTime,m=B(e,["id","sessionId","txHash","primaryWinner","primaryWinnerPrize","secondaryWinner","secondaryWinnerPrize","totalPlayers","paymentTime"]),p=(0,f.Z)("game"),y=p.t,x=p.lang,h=(0,s.ff)("#fff","navbarBg.dark"),g=(0,s.ff)("#363636 !important","#d6d6d6 !important");return(0,o.jsxs)(c.xu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$(e,t,n[t])}))}return e}({w:"100%",bg:h,color:g,p:8,borderWidth:1,borderRadius:8,boxShadow:"lg",mb:{base:"0.5rem"}},m,{children:[(0,o.jsxs)(T.Z,{children:[(0,o.jsxs)(c.xu,{children:[y("session-id"),":\xa0"]}),(0,o.jsx)(c.xu,{children:t})]}),(0,o.jsxs)(T.Z,{children:[(0,o.jsxs)(c.xu,{children:[y("payment-tx"),":\xa0"]}),(0,o.jsx)(c.xu,{className:"text-trunc link",as:"a",href:(0,O.s6)(n,O.il.transaction),d:"block",children:n})]}),(0,o.jsxs)(T.Z,{children:[(0,o.jsxs)(c.xu,{children:[y("total-players"),":\xa0"]}),void 0===u?(0,o.jsx)(c.xu,{children:"..."}):(0,o.jsx)(S.Z,{locale:x,children:u})]}),(0,o.jsxs)(T.Z,{children:[(0,o.jsxs)(c.xu,{children:[y("primary-winner"),":\xa0"]}),r?(0,o.jsx)(c.xu,{as:"a",className:"text-trunc link",href:(0,O.s6)(r,O.il.address),d:"block",children:r}):(0,o.jsx)(c.xu,{children:"--"})]}),(0,o.jsxs)(T.Z,{children:[(0,o.jsxs)(c.xu,{children:[y("primary-winner-prize"),":\xa0"]}),(0,o.jsx)(c.xu,{children:y("common:value-symbol",[S.Z.format((0,I.Xv)(H.O$.from(a)),{locale:x,minFD:2,maxFD:2})],!0)})]}),(0,o.jsxs)(T.Z,{children:[(0,o.jsxs)(c.xu,{children:[y("secondary-winner"),":\xa0"]}),i?(0,o.jsx)(c.xu,{as:"a",className:"text-trunc link",href:(0,O.s6)(i,O.il.address),d:"block",children:i}):(0,o.jsx)(c.xu,{children:"--"})]}),(0,o.jsxs)(T.Z,{children:[(0,o.jsxs)(c.xu,{children:[y("secondary-winner-prize"),":\xa0"]}),(0,o.jsx)(c.xu,{children:y("common:value-symbol",[S.Z.format((0,I.Xv)(H.O$.from(l)),{locale:x,minFD:2,maxFD:2})],!0)})]}),(0,o.jsxs)(T.Z,{children:[(0,o.jsxs)(c.xu,{children:[y("payment-time"),":\xa0"]}),void 0===d?(0,o.jsx)(c.xu,{children:"..."}):(0,o.jsx)(c.xu,{children:new Date(1e3*parseInt(d)).toLocaleString()})]})]}))};function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D(e,t,n[t])}))}return e}function F(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var J=function(e){var t=e.topChildren,n=e.bottomChildren,r=e.games,a=e.totalGames,i=(e.sessionTotalPlayers,F(e,["topChildren","bottomChildren","games","totalGames","sessionTotalPlayers"]));console.log("Games:",r);var l=(0,f.Z)("game"),u=l.t,d=l.lang,m=(0,s.ff)("elementBg.light","elementBg.dark"),p=(0,s.ff)("elementHeaderBg.light","elementHeaderBg.dark"),y=(0,s.ff)("elementTitleColor.light","elementTitleColor.dark");(0,s.ff)("elementSubTitleColor.light","elementSubTitleColor.dark");return(0,o.jsx)(c.xu,G({w:"100%",className:"players mb-4"},i,{children:(0,o.jsxs)("div",{className:"list m-auto pt-5",children:[(0,o.jsxs)(c.xu,{className:"head row m-0 align-items-center",bg:p,children:[(0,o.jsx)(c.xv,{as:"span",textTransform:"uppercase",className:"title",color:y,children:u("recent-games")})," ",(0,o.jsx)(c.xv,{as:"i",className:"far fa-fill-drip",d:"none"}),(0,o.jsxs)("div",{className:"ml-auto rs",children:[(0,o.jsx)(S.Z,{locale:d,children:a}),(0,o.jsx)(c.xu,{as:C.iVx,color:y})]})]}),(0,o.jsx)(c.xu,{className:"body",bg:m,children:(0,o.jsxs)("div",{className:"players_list",children:[t,(r||[]).map((function(e,t){return(0,o.jsx)("span",{children:(0,o.jsx)(z,G({},e,{bg:p}),t)})})),n]})})]})}))},L=n(4226),M=n(61454),A=n(57060),R=n(16813),X=n(90387),U=n(80109),q=n(86455),Q=n.n(q),K=n(17618),V=n(20149),Y=n(57277),ee=n(90599),te=n(77044),ne=n(85480),re=n(27),ae=n(2128),oe=n(46782);function ie(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,a)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ie(o,r,a,i,s,"next",e)}function s(e){ie(o,r,a,i,s,"throw",e)}i(void 0)}))}}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ce=!0,ue=function(){var e=(0,f.Z)("game"),t=e.t,n=e.lang,r=(0,w.useState)(),p=r[0],y=r[1],x=(0,i.pm)(),h=(0,te.Ge)().account,P=(0,A.Z)().onOpen,k=(0,K.s5)(),N=(0,w.useState)(),C=N[0],W=N[1],_=(0,w.useState)(),E=_[0],T=_[1],$={"common:connect-wallet":"normal",play:"normal",playing:"italic"},B=function(){return h&&E?"playing":"play"},z=(0,X.useRouter)(),D=z.query.id,G=(0,ne.Ov)(),F=(0,Y.$x)(D),q=F.owner,ie=F.entryPrice,ce=F.countDownDuration,ue=(F.primaryWinnerPercentage,F.secondaryWinnerPercentage,F.ownerPercentage,F.totalSessions),fe=(F.totalPlayers,F.totalProfits,F.bank,F.gameInfoStatus),de=(0,Y.vk)(D),me=de.startBlock,pe=de.endBlock,ye=de.playBlock,xe=de.primaryWinnerPrize,he=de.secondaryWinnerPrize,ge=(de.ownerPrize,de.vaultPrize,de.reserve,de.sessionTotalPlayers),be=de.awaitingPlayers,ve=de.primaryWinner,je=de.secondaryWinner;de.gameSessionInfoStatus;console.log("gameInfo.default",G,F),console.log("gameInfo.session","startBlock",me.toNumber(),"latestBlockNumber",G,"playBlock",ye.toNumber(),"endBlock",pe.toNumber(),de),(0,w.useEffect)((function(){console.log("Game:02",D,q,fe),fe==d.J_.ok&&q==d.je&&z.push(b.Z.localise("/404",n))}),[fe]);var we=(0,ae.EH)({pause:de==d.J_.pending,startBlock:me,endBlock:pe,playBlock:ye,awaitingPlayers:be,latestBlockNumber:G}),Oe=(0,w.useState)(B()),Se=Oe[0],Pe=Oe[1],ke=(0,w.useState)(),Ne=ke[0],Ce=ke[1],We=((0,U.k)(Ne,(function(e){console.log("handleSubmit:txStatus.2",e),x({description:t("play-ok"),status:"success",duration:4e3,isClosable:!0}),T(!1)}),(function(){x({description:t("play-failed"),status:"error",duration:4e3,isClosable:!0}),T(!1)})),se(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),console.log("handleSubmit:txStatus.1",n),e.prev=2,console.log("handleSubmit:txStatus.101",E,B(),D,H.O$.from(D).toString()),e.next=6,k.play("".concat(D));case 6:r=e.sent,Ce(r.hash),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),(0,I.S3)(e.t0,t,x,(function(){T(!1)}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))),_e=(0,V.mM)(),Ee=_e.balance,Ze=_e.fetchStatus,Ie=(0,V.tf)(),He=Ie.allowance,Te=Ie.fetchStatusAllowance,$e=(0,ee.xP)("".concat(D||0),ue.toString(),d.Rs),Be=$e.players,ze=$e.playersFirstFetching,De=$e.playersNextFetching,Ge=$e.playersSubcribeFetching,Fe=$e.nextPlayers,Je=$e.minPlayPos,Le=(0,ee.l0)("".concat(D||0),d.Rs),Me=Le.recentGames,Ae=Le.recentGamesFirstFetching,Re=Le.recentGamesNextFetching,Xe=Le.recentGamesSubscribeFetching,Ue=Le.nextRecentGames,qe=Le.minGameSession;console.log("Games:A",Ae,Me);var Qe=(0,w.useState)(R.HW),Ke=Qe[0],Ve=Qe[1],Ye=le((0,V.A$)(Ke,re.address),3),et=(Ye[0],Ye[1],Ye[2]);(0,w.useEffect)((function(){et&&((0,I.S3)(et,t,x,(function(){T(!1)})),Ve(R.HW))}),[et]),(0,w.useEffect)((function(){Ke.gt(R.HW)&&H.O$.from(ie).lte(He)&&(console.log("start:","approved",(0,I.Xv)(He)),We(),Ve(R.HW))}),[Ke,He]),(0,w.useEffect)((function(){h&&p&&(console.log("Play:onConnected",p),p(),y(null)),Pe(B())}),[h]),(0,w.useEffect)((function(){Pe(B())}),[E]);var tt=(0,w.useState)(),nt=tt[0],rt=tt[1];(0,s.ff)("elementHeaderBg.light","elementHeaderBg.dark"),(0,s.ff)("colorAccent.light","colorAccent.dark");return(0,o.jsx)(m.Z,{link:"/game/?id=".concat(D),title:t("title"),description:t("common:sitedesc"),image:null,updatedTime:null,children:(0,o.jsxs)(L.Z,{children:[(0,o.jsxs)(l.pr,{w:"100%",borderRadius:"12px",borderWidth:"1px",p:"0.75rem",children:[(0,o.jsxs)(l.kN,{size:"sm",children:[(0,o.jsx)(l.dw,{children:t("game-countdown")}),(0,o.jsx)(v.Z,{as:c.xu,fontWeight:"600",isLoading:fe!=d.J_.ok,children:t("game-countdown-var",[H.O$.from(ce.toString()).toNumber(),S.Z.format(H.O$.from(ce.toString()).toNumber()/d.$,{locale:n})])})]}),(0,o.jsxs)(l.kN,{size:"sm",children:[(0,o.jsx)(l.dw,{children:t("game-settings")}),(0,o.jsx)(b.Z,{href:"/edit-game?id=".concat(D),children:t("view-edit-game-settings")})]}),(0,o.jsxs)(l.kN,{size:"sm",children:[(0,o.jsx)(l.dw,{children:t("game-owner")}),(0,o.jsx)(v.Z,{as:c.xu,fontWeight:"600",isLoading:fe!=d.J_.ok,children:(0,o.jsx)(b.Z,{isExternal:!0,href:(0,O.s6)(q,O.il.address),children:(0,O.Xn)(q)})})]})]}),(0,o.jsxs)(g,{mt:"25px",children:[(0,o.jsxs)(g.First,{children:[(0,o.jsx)(j.Z,{onConnectAccount:P,gameId:D,gameInfo:F,gameSessionInfo:de,gameState:we,latestBlockNumber:G,balance:Ee,allowance:He,onOpenWallet:P}),(0,o.jsxs)(c.gC,{as:"div",justifyContent:"center",alignItems:"center",mt:"25px",children:[(0,o.jsxs)("div",{className:"bet_control w-75 row m-0 m-auto",children:[(0,o.jsx)(u.NI,{children:(0,o.jsxs)(u.Q6,{d:"flex",flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap",children:[(0,o.jsx)(c.xu,{ml:"5px",children:t("common:balance",[S.Z.format((0,I.Xv)(null===Ee||void 0===Ee?void 0:Ee.toString(),0),{locale:n})])}),(0,o.jsx)(c.xu,{children:t("entry-price-cost",[S.Z.format((0,I.Xv)(ie.toString(),0),{locale:n,minFD:2,maxFD:2})],!0)})]})}),(0,o.jsx)(M.Z,{className:"tilted-btn w-100",onClick:function(){rt(null),h?Ze!=d.J_.ok||Te!=d.J_.ok?(T(!0),setSubmitOnBalancesFetched(!0)):Ze==d.J_.ok&&Ee.lt(H.O$.from(ie,0))?rt(t("entry-price-low-balance-error",[S.Z.format((0,I.Xv)(ie.toString(),0),{locale:n})],!0)):E||(T(!0),console.log("handleSubmit:txStatus.0P",ie),H.O$.from(ie).gt(He)?Q().fire({text:t("common:approve-text-game"),icon:"info",confirmButtonText:t("common:ok")}).then(se(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConfirmed?Ve(R.rb):T(!1);case 1:case"end":return e.stop()}}),e)})))):We()):P()},minH:"56px",textTransform:"capitalize",disabled:"italic"==$[Se]||![ae.$p.awaiting,ae.$p.playing].includes(we),fontStyle:$[Se],children:t(Se)}),(0,o.jsx)(u.NI,{isInvalid:!(0,I.N4)(nt),children:(0,o.jsx)(u.J1,{children:nt})})]}),(0,o.jsxs)(c.xu,{bg:(0,s.ff)("elementBg.light","elementBg.dark"),p:"0.25rem",borderLeft:"4px solid",borderColor:(0,s.ff)("colorAccent.light","colorAccent.dark"),children:[(0,o.jsx)(c.xv,{as:"div",mb:"5px",fontWeight:"600",children:xe.gt(R.HW)?t("win-condition-primary-var",[S.Z.format((0,I.Xv)(xe),{locale:n,minFD:2,maxFD:2})],!0):t("win-condition-primary")}),(0,o.jsx)(c.xv,{as:"div",mb:"10px",children:he.gt(R.HW)?t("win-condition-secondary-var",[S.Z.format((0,I.Xv)(he),{locale:n,minFD:2,maxFD:2})],!0):t("win-condition-secondary")}),ve==d.je?null:(0,o.jsx)(c.xv,{as:"div",mb:"5px",fontWeight:"600",children:h&&ve&&h.toLowerCase()==ve.toLowerCase()?t("lastplayer-you"):t("lastplayer-address",[ve],!0)}),je==d.je?null:(0,o.jsx)(c.xv,{as:"div",mb:"5px",children:h&&je&&h.toLowerCase()==je.toLowerCase()?t("secplayer-you"):t("secplayer-address",[je],!0)}),(0,o.jsx)(c.xv,{as:"div",mb:"5px",fontWeight:"600",children:t("cancel-condition")})]}),(0,o.jsx)(M.Z,{variant:"outline",className:"tilted-btn w-100",onClick:function(){return W(!0)},minH:"56px",textTransform:"capitalize",children:t("fund-game")})]})]}),(0,o.jsx)(g.Second,{pt:{base:"40px !important",md:"0px !important"},as:c.Ug,justifyContent:{base:"flex-end",md:"center"},alignItems:{base:"flex-start",md:"center"},children:(0,o.jsx)(Z,{players:Be,isHistory:we==ae.$p.inactive&&Be.length>0,primaryWinner:ve,secondaryWinner:je,totalPlayers:ge.toNumber(),pt:"0px !important",topChildren:(0,o.jsx)(c.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:(0,o.jsx)(v.Z,{as:c.Ug,isLoading:Ge,justifyContent:"center",my:"15px",children:null})}),bottomChildren:(0,o.jsxs)(c.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,o.jsx)(v.Z,{as:c.Ug,isLoading:ze||De,justifyContent:"center",my:"15px",children:null}),(0,o.jsx)(M.Z,{d:ze||De||Ge||ge.toNumber()==(Be||[]).length||0==(Be||[]).length||H.O$.from(Je).lte(R.cQ)?"none":"block",onClick:function(){Fe()},_disabled:{opacity:.4},_hover:{opactity:.4},children:t("common:load-more")})]})})})]}),(0,o.jsx)(J,{games:Me,sessionTotalPlayers:ge.toNumber(),totalGames:ue.gt(R.HW)&&we!=ae.$p.inactive?ue.toNumber()-1:ue.toNumber(),topChildren:(0,o.jsx)(c.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:(0,o.jsx)(v.Z,{as:c.Ug,isLoading:Xe,justifyContent:"center",my:"15px",children:null})}),bottomChildren:(0,o.jsxs)(c.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,o.jsx)(v.Z,{as:c.Ug,isLoading:Ae||Re,justifyContent:"center",my:"15px",children:null}),(0,o.jsx)(M.Z,{d:0==Me.length||Ae||Re||Xe||H.O$.from(qe).lte(R.cQ)?"none":"block",onClick:function(){Ue()},_disabled:{opacity:.4},_hover:{opactity:.4},children:t("common:load-more")})]})}),C?(0,o.jsx)(oe.Z,{usePriceSlider:!0,isOpen:!0,onClose:function(){return W(!1)},onResult:null,address:re.address,abi:re.abi,title:"".concat(t("funding-amount"),":"),info:t("amount-info"),helperText:t("amount-helper-text"),executeText:t("fund-idle-text"),executingText:t("fund-active-text"),okMessage:function(){return t("fund-ok")},notOkMessage:function(){return t("fund-not-ok")},placeholder:"100",onValue:function(e){return isNaN(e)?{error:t("amount-error")}:{input:"fundGame:".concat(D,".uint256,").concat(e.trim(),".pay")}}}):null]})})}},30710:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(67294),i=l(o),s=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.generateIdenticon=n.generateIdenticon.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.generateIdenticon(r({},this.props))}},{key:"componentWillUpdate",value:function(e){this.isEquivalent(this.props,e)||this.generateIdenticon(r({},e))}},{key:"isEquivalent",value:function(e,t){var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!=r.length)return!1;for(var a=0;a<n.length;a++){var o=n[a];if(e[o]!==t[o])return!1}return!0}},{key:"generateIdenticon",value:function(e){var t=new Array(4);function n(){var e=t[0]^t[0]<<11;return t[0]=t[1],t[1]=t[2],t[2]=t[3],t[3]=t[3]^t[3]>>19^e^e>>8,(t[3]>>>0)/(1<<31>>>0)}function r(){return"hsl("+Math.floor(360*n())+","+(60*n()+40+"%")+","+(25*(n()+n()+n()+n())+"%")+")"}var a=e||{},o=a.size||8,i=a.scale||4;!function(e){for(var n=0;n<t.length;n++)t[n]=0;for(var r=0;r<e.length;r++)t[r%4]=(t[r%4]<<5)-t[r%4]+e.charCodeAt(r)}(a.seed||Math.floor(Math.random()*Math.pow(10,16)).toString(16));var s=a.color||r(),l=a.bgColor||r(),c=a.spotColor||r(),u=function(e){for(var t=e,r=e,a=Math.ceil(t/2),o=t-a,i=[],s=0;s<r;s++){for(var l=[],c=0;c<a;c++)l[c]=Math.floor(2.3*n());var u=l.slice(0,o);u.reverse(),l=l.concat(u);for(var f=0;f<l.length;f++)i.push(l[f])}return i}(o);return function(e,t,n,r,a,o){var i=Math.sqrt(t.length),s=i*r;e.width=s,e.style.width=s+"px",e.height=s,e.style.height=s+"px";var l=e.getContext("2d");l.fillStyle=a,l.fillRect(0,0,e.width,e.height),l.fillStyle=n;for(var c=0;c<t.length;c++)if(l.fillStyle=1===t[c]?n:o,t[c]){var u=Math.floor(c/i),f=c%i;l.fillRect(f*r,u*r,r,r)}}(this.identicon,u,s,i,l,c)}},{key:"render",value:function(){var e=this;return i.default.createElement("canvas",{ref:function(t){e.identicon=t},className:this.props.className})}}]),t}(o.Component);c.defaultProps={className:"identicon"},c.propTypes={seed:s.default.string.isRequired,size:s.default.number,scale:s.default.number,color:s.default.string,bgColor:s.default.string,spotColor:s.default.string}}},function(e){e.O(0,[868,543,607,612,921,247,409,801,94,662,782,412,774,888,179],(function(){return t=1008,e(e.s=t);var t}));var t=e.O();_N_E=t}]);