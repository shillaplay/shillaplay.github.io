(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{1008:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/game",function(){return t(70105)}])},93693:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(85893),o=t(68527);function a(e){var n=e.children,t=e.hideDivider;return(0,r.jsxs)(o.xu,{children:[(0,r.jsx)(o.xu,{w:"100%",d:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:n}),(0,r.jsx)(o.iz,{mt:"0.2rem",mb:"1rem",visibility:t?"hidden":"visible"})]})}},57277:function(e,n,t){"use strict";t.d(n,{$x:function(){return x},vk:function(){return g},qv:function(){return h}});var r=t(35666),o=t.n(r),a=t(67294),i=t(2593),s=t(16813),l=t(81961),c=t(17618),u=t(37423),f=t(94045);function d(e,n,t,r,o,a,i){try{var s=e[a](i),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,o)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){d(a,r,o,i,s,"next",e)}function s(e){d(a,r,o,i,s,"throw",e)}i(void 0)}))}}function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){p(e,n,t[n])}))}return e}var x=function(e){var n=l.J_.idle,t=l.J_.pending,r=l.J_.ok,d=l.J_.notOk,p=(0,a.useState)({owner:l.je,entryPrice:s.HW,countDownDuration:s.HW,primaryWinnerPercentage:s.HW,secondaryWinnerPercentage:s.HW,ownerPercentage:s.HW,totalSessions:s.HW,totalPlayers:s.HW,totalProfits:s.HW,bank:s.HW,gameInfoStatus:n}),x=p[0],g=p[1],h=(0,c.s5)(),b=(0,a.useState)(),v=b[0],j=b[1],w=(0,u.Z)(v,"useGameStarted");console.log("GameEvent.Started",w);var O=(0,a.useState)(),S=O[0],P=O[1],k=(0,u.Z)(S,"useGameCanceled"),W=(0,a.useState)(),C=W[0],N=W[1],_=(0,u.Z)(C,"useGameFunded"),I=(0,a.useState)(),Z=I[0],H=I[1],E=(0,u.Z)(Z,"useGameEnded");return console.log("GameEvent.Ended",E),(0,a.useEffect)((function(){e&&(j((0,f.tz)(e)),P((0,f.ic)(e)),N((0,f.DQ)(e)),H((0,f.D_)(e)))}),[e]),(0,a.useEffect)((function(){var n=m(o().mark((function n(){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,g((function(e){return y({},e,{gameSessionInfoStatus:t})})),n.next=4,h.gameInfo(e);case 4:a=n.sent,g({owner:a.owner,entryPrice:i.O$.from(a.entryPrice.toString()),countDownDuration:i.O$.from(a.countDownDuration.toString()),primaryWinnerPercentage:i.O$.from(a.primaryWinnerPercentage.toString()),secondaryWinnerPercentage:i.O$.from(a.secondaryWinnerPercentage.toString()),ownerPercentage:i.O$.from(a.ownerPercentage.toString()),totalSessions:i.O$.from(a.totalSessions.toString()),totalPlayers:i.O$.from(a.totalPlayers.toString()),totalProfits:i.O$.from(a.totalProfits.toString()),bank:i.O$.from(a.bank.toString()),gameInfoStatus:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),g((function(e){return y({},e,{gameSessionInfoStatus:d})}));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));h&&e&&n()}),[r,d,h,e,w,k,_,E]),x},g=function(e){var n=l.J_.idle,t=l.J_.pending,r=l.J_.ok,d=l.J_.notOk,p=(0,a.useState)({startBlock:s.HW,endBlock:s.HW,playBlock:s.HW,primaryWinnerPrize:s.HW,secondaryWinnerPrize:s.HW,ownerPrize:s.HW,vaultPrize:s.HW,sessionBank:s.HW,sessionTotalPlayers:s.HW,awaitingPlayers:!1,primaryWinner:l.je,secondaryWinner:l.je,gameSessionInfoStatus:n}),x=p[0],g=p[1],h=(0,c.s5)(),b=(0,a.useState)(),v=b[0],j=b[1],w=(0,u.Z)(v,"useGameStarted"),O=(0,a.useState)(),S=O[0],P=O[1],k=(0,u.Z)(S,"useGameCanceled"),W=(0,a.useState)(),C=W[0],N=W[1],_=(0,u.Z)(C,"usePlayEvent"),I=(0,a.useState)(),Z=I[0],H=I[1],E=(0,u.Z)(Z,"useGameFunded"),B=(0,a.useState)(),$=B[0],D=B[1],T=(0,u.Z)($,"useGameEnded");return(0,a.useEffect)((function(){e&&(j((0,f.tz)(e)),P((0,f.ic)(e)),N((0,f.Nt)(e)),H((0,f.DQ)(e)),D((0,f.D_)(e)))}),[e]),(0,a.useEffect)((function(){var n=m(o().mark((function n(){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,g((function(e){return y({},e,{gameSessionInfoStatus:t})})),n.next=4,h.gameSessionInfo(e);case 4:a=n.sent,g({startBlock:i.O$.from(a.startBlock.toString()),endBlock:i.O$.from(a.endBlock.toString()),playBlock:i.O$.from(a.playBlock.toString()),primaryWinnerPrize:i.O$.from(a.primaryWinnerPrize.toString()),secondaryWinnerPrize:i.O$.from(a.secondaryWinnerPrize.toString()),ownerPrize:i.O$.from(a.ownerPrize.toString()),vaultPrize:i.O$.from(a.vaultPrize.toString()),sessionBank:i.O$.from(a.bank.toString()),sessionTotalPlayers:i.O$.from(a.totalPlayers.toString()),awaitingPlayers:a.awaitingPlayers,primaryWinner:a.primaryWinner,secondaryWinner:a.secondaryWinner,gameSessionInfoStatus:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),g((function(e){return y({},e,{gameSessionInfoStatus:d})}));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));h&&e&&n()}),[r,d,h,e,w,k,_,E,T]),x},h=function(e){var n=l.J_.idle,t=(l.J_.pending,l.J_.ok),r=l.J_.notOk,d=(0,a.useState)({totalPlays:s.HW,totalPlaysStatus:n}),p=d[0],x=d[1],g=(0,c.s5)(),h=(0,a.useState)((0,f.sE)()),b=h[0],v=(h[1],(0,u.Z)(b));return(0,a.useEffect)((function(){var n=m(o().mark((function e(){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.currentGamePlays();case 3:n=e.sent,a=i.O$.from(n.toString()),x({totalPlays:a,totalPlaysStatus:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),x((function(e){return y({},e,{totalPlaysStatus:r})}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));!g||e&&p.totalPlaysStatus==t||n()}),[t,r,g,v]),p}},70105:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return le},default:function(){return ce}});var r=t(35666),o=t.n(r),a=t(85893),i=t(92667),s=t(20949),l=t(68527),c=t(79762),u=t(82138),f=t(81961),d=t(62133);function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){m(e,n,t[n])}))}return e}function y(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var x=function(e){var n=e.children,t=e.reverse,r=e.mobileReverse,o=y(e,["children","reverse","mobileReverse"]);return(0,a.jsx)(l.kC,p({w:"100%",flexDirection:{base:r?"column-reverse":"column",md:t?"row-reverse":"row"},justifyContent:{base:"flex-start",md:"space-between"},alignItems:{base:"flex-start",md:"flex-start"}},o,{children:n}))};x.First=function(e){var n=e.as,t=e.children,r=y(e,["as","children"]);return(0,a.jsx)(l.xu,p({as:n||"div",w:{base:"100%",md:"50%"},mb:{base:"25px",md:"0px"}},r,{children:t}))},x.Second=function(e){var n=e.as,t=e.children,r=y(e,["as","children"]);return(0,a.jsx)(l.xu,p({as:n||"div",w:{base:"100%",md:"50%"},p:{base:"0px",md:"25px"}},r,{children:t}))};var g=x,h=t(37911),b=t(13365),v=t(412),j=t(67294);t(30710);var w=t(34515),O=t(83897);function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function P(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var k=function(e){e.id,e.gameId,e.sessionId;var n=e.playPos,t=e.player,r=e.txHash,o=(e.isPrimaryWinner,e.isSecondaryWinner,P(e,["id","gameId","sessionId","playPos","player","txHash","isPrimaryWinner","isSecondaryWinner"])),i=(0,u.Z)("common");i.t,i.lang;return(0,a.jsxs)(l.xu,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){S(e,n,t[n])}))}return e}({className:"player row",justifyContent:"flex-start",alignItems:"flex-start"},o,{children:[(0,a.jsxs)(l.Ug,{justifyContent:"space-between",w:"100%",children:[(0,a.jsx)(l.xu,{className:"text-trunc",as:"a",href:(0,w.s6)(t,w.il.address),d:"block",children:t})," ",(0,a.jsxs)(l.Ct,{borderRadius:"3px",children:["#",n]})]}),(0,a.jsx)(l.iz,{my:"5px"}),(0,a.jsx)(l.xu,{className:"text-trunc",as:"a",href:(0,w.s6)(r,w.il.transaction),d:"block",children:r})]}))},W=t(55154);function C(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){C(e,n,t[n])}))}return e}function _(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var I=function(e){var n=e.topChildren,t=e.bottomChildren,r=e.players,o=e.totalPlayers,i=e.primaryWinner,c=e.secondaryWinner,f=e.isHistory,d=_(e,["topChildren","bottomChildren","players","totalPlayers","primaryWinner","secondaryWinner","isHistory"]),m=(0,u.Z)("game"),p=m.t,y=m.lang,x=(0,s.ff)("elementBg.light","elementBg.dark"),g=(0,s.ff)("elementHeaderBg.light","elementHeaderBg.dark"),h=(0,s.ff)("elementTitleColor.light","elementTitleColor.dark"),b=(0,s.ff)("elementSubTitleColor.light","elementSubTitleColor.dark");return(0,a.jsx)(l.xu,N({w:"100%",className:"players mb-4"},d,{children:(0,a.jsxs)(l.xu,{className:"list m-auto",children:[(0,a.jsxs)(l.xu,{className:"head row m-0 align-items-center",bg:g,children:[(0,a.jsx)(l.xv,{as:"span",textTransform:"uppercase",className:"title",color:h,children:p(f?"players-prev":"players")})," ",(0,a.jsx)(l.xv,{as:"i",className:"far fa-fill-drip",d:"none"}),(0,a.jsxs)("div",{className:"ml-auto rs",children:[(0,a.jsx)(O.Z,{locale:y,children:o}),(0,a.jsx)(l.xu,{as:W.I$,color:h})]})]}),(0,a.jsxs)(l.xu,{className:"body",bg:x,children:[(0,a.jsxs)(l.Ug,{d:"none",p:"15px 20px 0px 20px",justifyContent:"space-between",alignItems:"center",children:[(0,a.jsx)(l.xv,{as:"div",textTransform:"uppercase",className:"title w-50",color:b,children:p("player")}),(0,a.jsx)(l.xv,{as:"div",textTransform:"uppercase",className:"title w-50",color:b,children:p("play-hash")})]}),(0,a.jsxs)("div",{className:"players_list",children:[n,(r||[]).map((function(e,n){return(0,a.jsx)("span",{children:(0,a.jsx)(k,N({},e,{bg:g,isPrimaryWinner:e.player.toLowerCase()==i.toLowerCase(),isSecondaryWinner:e.player.toLowerCase()==c.toLowerCase()}),n)})})),t]})]})]})}))},Z=t(94045),H=t(2593),E=t(93693);function B(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function $(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var D=function(e){e.id;var n=e.sessionId,t=e.txHash,r=e.primaryWinner,o=e.primaryWinnerPrize,i=e.secondaryWinner,c=e.secondaryWinnerPrize,f=e.totalPlayers,d=e.paymentTime,m=$(e,["id","sessionId","txHash","primaryWinner","primaryWinnerPrize","secondaryWinner","secondaryWinnerPrize","totalPlayers","paymentTime"]),p=(0,u.Z)("game"),y=p.t,x=p.lang,g=(0,s.ff)("#fff","navbarBg.dark"),h=(0,s.ff)("#363636 !important","#d6d6d6 !important");return(0,a.jsxs)(l.xu,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){B(e,n,t[n])}))}return e}({w:"100%",bg:g,color:h,p:8,borderWidth:1,borderRadius:8,boxShadow:"lg",mb:{base:"0.5rem"}},m,{children:[(0,a.jsxs)(E.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("session-id"),":\xa0"]}),(0,a.jsx)(l.xu,{children:n})]}),(0,a.jsxs)(E.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("payment-tx"),":\xa0"]}),(0,a.jsx)(l.xu,{className:"text-trunc link",as:"a",href:(0,w.s6)(t,w.il.transaction),d:"block",children:t})]}),(0,a.jsxs)(E.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("total-players"),":\xa0"]}),void 0===f?(0,a.jsx)(l.xu,{children:"..."}):(0,a.jsx)(O.Z,{locale:x,children:f})]}),(0,a.jsxs)(E.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("primary-winner"),":\xa0"]}),r?(0,a.jsx)(l.xu,{as:"a",className:"text-trunc link",href:(0,w.s6)(r,w.il.address),d:"block",children:r}):(0,a.jsx)(l.xu,{children:"--"})]}),(0,a.jsxs)(E.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("primary-winner-prize"),":\xa0"]}),(0,a.jsx)(l.xu,{children:y("common:value-symbol",[O.Z.format((0,Z.Xv)(H.O$.from(o)),{locale:x,minFD:2,maxFD:2})],!0)})]}),(0,a.jsxs)(E.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("secondary-winner"),":\xa0"]}),i?(0,a.jsx)(l.xu,{as:"a",className:"text-trunc link",href:(0,w.s6)(i,w.il.address),d:"block",children:i}):(0,a.jsx)(l.xu,{children:"--"})]}),(0,a.jsxs)(E.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("secondary-winner-prize"),":\xa0"]}),(0,a.jsx)(l.xu,{children:y("common:value-symbol",[O.Z.format((0,Z.Xv)(H.O$.from(c)),{locale:x,minFD:2,maxFD:2})],!0)})]}),(0,a.jsxs)(E.Z,{children:[(0,a.jsxs)(l.xu,{children:[y("payment-time"),":\xa0"]}),void 0===d?(0,a.jsx)(l.xu,{children:"..."}):(0,a.jsx)(l.xu,{children:new Date(1e3*parseInt(d)).toLocaleString()})]})]}))};function T(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){T(e,n,t[n])}))}return e}function G(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var F=function(e){var n=e.topChildren,t=e.bottomChildren,r=e.games,o=e.totalGames,i=(e.sessionTotalPlayers,G(e,["topChildren","bottomChildren","games","totalGames","sessionTotalPlayers"]));console.log("Games:",r);var c=(0,u.Z)("game"),f=c.t,d=c.lang,m=(0,s.ff)("elementBg.light","elementBg.dark"),p=(0,s.ff)("elementHeaderBg.light","elementHeaderBg.dark"),y=(0,s.ff)("elementTitleColor.light","elementTitleColor.dark");(0,s.ff)("elementSubTitleColor.light","elementSubTitleColor.dark");return(0,a.jsx)(l.xu,z({w:"100%",className:"players mb-4"},i,{children:(0,a.jsxs)("div",{className:"list m-auto pt-5",children:[(0,a.jsxs)(l.xu,{className:"head row m-0 align-items-center",bg:p,children:[(0,a.jsx)(l.xv,{as:"span",textTransform:"uppercase",className:"title",color:y,children:f("recent-games")})," ",(0,a.jsx)(l.xv,{as:"i",className:"far fa-fill-drip",d:"none"}),(0,a.jsxs)("div",{className:"ml-auto rs",children:[(0,a.jsx)(O.Z,{locale:d,children:o}),(0,a.jsx)(l.xu,{as:W.iVx,color:y})]})]}),(0,a.jsx)(l.xu,{className:"body",bg:m,children:(0,a.jsxs)("div",{className:"players_list",children:[n,(r||[]).map((function(e,n){return(0,a.jsx)("span",{children:(0,a.jsx)(D,z({},e,{bg:p}),n)})})),t]})})]})}))},J=t(4226),L=t(61454),M=t(57060),R=t(16813),A=t(90387),X=t(80109),U=t(86455),q=t.n(U),Q=t(17618),V=t(20149),K=t(57277),Y=t(90599),ee=t(77044),ne=t(85480),te=t(27),re=t(2128),oe=t(46782);function ae(e,n,t,r,o,a,i){try{var s=e[a](i),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,o)}function ie(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){ae(a,r,o,i,s,"next",e)}function s(e){ae(a,r,o,i,s,"throw",e)}i(void 0)}))}}function se(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var le=!0,ce=function(){var e=(0,u.Z)("game"),n=e.t,t=e.lang,r=(0,j.useState)(),m=r[0],p=r[1],y=(0,i.pm)(),x=(0,ee.Ge)().account,w=(0,M.Z)().onOpen,S=(0,Q.s5)(),P=(0,j.useState)(),k=P[0],W=P[1],C=(0,j.useState)(),N=C[0],_=C[1],E={"common:connect-wallet":"normal",play:"normal",playing:"italic"},B=function(){return x&&N?"playing":"play"},$=(0,A.useRouter)(),D=$.query.id,T=(0,ne.Ov)(),z=(0,K.$x)(D),G=z.owner,U=z.entryPrice,ae=(z.countDownDuration,z.primaryWinnerPercentage,z.secondaryWinnerPercentage,z.ownerPercentage,z.totalSessions),le=(z.totalPlayers,z.totalProfits,z.bank,z.gameInfoStatus),ce=(0,K.vk)(D),ue=ce.startBlock,fe=ce.endBlock,de=ce.playBlock,me=ce.primaryWinnerPrize,pe=ce.secondaryWinnerPrize,ye=(ce.ownerPrize,ce.vaultPrize,ce.reserve,ce.sessionTotalPlayers),xe=ce.awaitingPlayers,ge=ce.primaryWinner,he=ce.secondaryWinner;ce.gameSessionInfoStatus;console.log("gameInfo.default",T,z),console.log("gameInfo.session","startBlock",ue.toNumber(),"latestBlockNumber",T,"playBlock",de.toNumber(),"endBlock",fe.toNumber(),ce),(0,j.useEffect)((function(){console.log("Game:02",D,G,le),le==f.J_.ok&&G==f.je&&$.push(h.Z.localise("/404",t))}),[le]);var be=(0,re.EH)({pause:ce==f.J_.pending,startBlock:ue,endBlock:fe,playBlock:de,awaitingPlayers:xe,latestBlockNumber:T}),ve=(0,j.useState)(B()),je=ve[0],we=ve[1],Oe=(0,j.useState)(),Se=Oe[0],Pe=Oe[1],ke=((0,X.k)(Se,(function(e){console.log("handleSubmit:txStatus.2",e),y({description:n("play-ok"),status:"success",duration:4e3,isClosable:!0}),_(!1)}),(function(){y({description:n("play-failed"),status:"error",duration:4e3,isClosable:!0}),_(!1)})),ie(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),console.log("handleSubmit:txStatus.1",t),e.prev=2,console.log("handleSubmit:txStatus.101",N,B(),D,H.O$.from(D).toString()),e.next=6,S.play("".concat(D));case 6:r=e.sent,Pe(r.hash),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),(0,Z.S3)(e.t0,n,y,(function(){_(!1)}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))),We=(0,V.mM)(),Ce=We.balance,Ne=We.fetchStatus,_e=(0,V.tf)(),Ie=_e.allowance,Ze=_e.fetchStatusAllowance,He=(0,Y.xP)("".concat(D||0),ae.toString(),f.Rs),Ee=He.players,Be=He.playersFirstFetching,$e=He.playersNextFetching,De=He.playersSubcribeFetching,Te=He.nextPlayers,ze=He.minPlayPos,Ge=(0,Y.l0)("".concat(D||0),f.Rs),Fe=Ge.recentGames,Je=Ge.recentGamesFirstFetching,Le=Ge.recentGamesNextFetching,Me=Ge.recentGamesSubscribeFetching,Re=Ge.nextRecentGames,Ae=Ge.minGameSession;console.log("Games:A",Je,Fe);var Xe=(0,j.useState)(R.HW),Ue=Xe[0],qe=Xe[1],Qe=se((0,V.A$)(Ue,te.address),3),Ve=(Qe[0],Qe[1],Qe[2]);(0,j.useEffect)((function(){Ve&&((0,Z.S3)(Ve,n,y,(function(){_(!1)})),qe(R.HW))}),[Ve]),(0,j.useEffect)((function(){Ue.gt(R.HW)&&H.O$.from(U).lte(Ie)&&(console.log("start:","approved",(0,Z.Xv)(Ie)),ke(),qe(R.HW))}),[Ue,Ie]),(0,j.useEffect)((function(){x&&m&&(console.log("Play:onConnected",m),m(),p(null)),we(B())}),[x]),(0,j.useEffect)((function(){we(B())}),[N]);var Ke=(0,j.useState)(),Ye=Ke[0],en=Ke[1];(0,s.ff)("elementHeaderBg.light","elementHeaderBg.dark"),(0,s.ff)("colorAccent.light","colorAccent.dark");return(0,a.jsx)(d.Z,{link:"/game/?id=".concat(D),title:n("title"),description:n("common:sitedesc"),image:null,updatedTime:null,children:(0,a.jsxs)(J.Z,{children:[(0,a.jsxs)(g,{mt:"25px",children:[(0,a.jsxs)(g.First,{children:[(0,a.jsx)(v.Z,{gameId:D,gameInfo:z,gameSessionInfo:ce,gameState:be,latestBlockNumber:T,balance:Ce,allowance:Ie,onOpenWallet:w}),(0,a.jsxs)(l.gC,{as:"div",justifyContent:"center",alignItems:"center",mt:"25px",children:[(0,a.jsxs)("div",{className:"bet_control w-75 row m-0 m-auto",children:[(0,a.jsx)(c.NI,{children:(0,a.jsxs)(c.Q6,{d:"flex",flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap",children:[(0,a.jsx)(l.xu,{ml:"5px",children:n("common:balance",[O.Z.format((0,Z.Xv)(null===Ce||void 0===Ce?void 0:Ce.toString(),0),{locale:t})])}),(0,a.jsx)(l.xu,{children:n("entry-price-cost",[O.Z.format((0,Z.Xv)(U.toString(),0),{locale:t,minFD:2,maxFD:2})],!0)})]})}),(0,a.jsx)(L.Z,{className:"tilted-btn w-100",onClick:function(){en(null),x?Ne!=f.J_.ok||Ze!=f.J_.ok?(_(!0),setSubmitOnBalancesFetched(!0)):Ne==f.J_.ok&&Ce.lt(H.O$.from(U,0))?en(n("entry-price-low-balance-error",[O.Z.format((0,Z.Xv)(U.toString(),0),{locale:t})],!0)):N||(_(!0),console.log("handleSubmit:txStatus.0P",U),H.O$.from(U).gt(Ie)?q().fire({text:n("common:approve-text-game"),icon:"info",confirmButtonText:n("common:ok")}).then(ie(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.isConfirmed?qe(R.rb):_(!1);case 1:case"end":return e.stop()}}),e)})))):ke()):w()},minH:"56px",textTransform:"capitalize",disabled:"italic"==E[je]||![re.$p.awaiting,re.$p.playing].includes(be),fontStyle:E[je],children:n(je)}),(0,a.jsx)(c.NI,{isInvalid:!(0,Z.N4)(Ye),children:(0,a.jsx)(c.J1,{children:Ye})})]}),(0,a.jsxs)(l.xu,{bg:(0,s.ff)("elementBg.light","elementBg.dark"),p:"0.25rem",borderLeft:"4px solid",borderColor:(0,s.ff)("colorAccent.light","colorAccent.dark"),children:[(0,a.jsx)(l.xv,{as:"div",mb:"5px",fontWeight:"600",children:me.gt(R.HW)?n("win-condition-primary-var",[O.Z.format((0,Z.Xv)(me),{locale:t,minFD:2,maxFD:2})],!0):n("win-condition-primary")}),(0,a.jsx)(l.xv,{as:"div",mb:"10px",children:pe.gt(R.HW)?n("win-condition-secondary-var",[O.Z.format((0,Z.Xv)(pe),{locale:t,minFD:2,maxFD:2})],!0):n("win-condition-secondary")}),ge==f.je?null:(0,a.jsx)(l.xv,{as:"div",mb:"5px",fontWeight:"600",children:x&&ge&&x.toLowerCase()==ge.toLowerCase()?n("lastplayer-you"):n("lastplayer-address",[ge],!0)}),he==f.je?null:(0,a.jsx)(l.xv,{as:"div",mb:"5px",children:x&&he&&x.toLowerCase()==he.toLowerCase()?n("secplayer-you"):n("secplayer-address",[he],!0)}),(0,a.jsx)(l.xv,{as:"div",mb:"5px",fontWeight:"600",children:n("cancel-condition")})]}),(0,a.jsx)(L.Z,{variant:"outline",className:"tilted-btn w-100",onClick:function(){return W(!0)},minH:"56px",textTransform:"capitalize",children:n("fund-game")})]})]}),(0,a.jsx)(g.Second,{pt:{base:"40px !important",md:"0px !important"},as:l.Ug,justifyContent:{base:"flex-end",md:"center"},alignItems:{base:"flex-start",md:"center"},children:(0,a.jsx)(I,{players:Ee,isHistory:be==re.$p.inactive&&Ee.length>0,primaryWinner:ge,secondaryWinner:he,totalPlayers:ye.toNumber(),pt:"0px !important",topChildren:(0,a.jsx)(l.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:(0,a.jsx)(b.Z,{as:l.Ug,isLoading:De,justifyContent:"center",my:"15px",children:null})}),bottomChildren:(0,a.jsxs)(l.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,a.jsx)(b.Z,{as:l.Ug,isLoading:Be||$e,justifyContent:"center",my:"15px",children:null}),(0,a.jsx)(L.Z,{d:Be||$e||De||ye.toNumber()==(Ee||[]).length||0==(Ee||[]).length||H.O$.from(ze).lte(R.cQ)?"none":"block",onClick:function(){Te()},_disabled:{opacity:.4},_hover:{opactity:.4},children:n("common:load-more")})]})})})]}),(0,a.jsx)(F,{games:Fe,sessionTotalPlayers:ye.toNumber(),totalGames:ae.gt(R.HW)&&be!=re.$p.inactive?ae.toNumber()-1:ae.toNumber(),topChildren:(0,a.jsx)(l.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:(0,a.jsx)(b.Z,{as:l.Ug,isLoading:Me,justifyContent:"center",my:"15px",children:null})}),bottomChildren:(0,a.jsxs)(l.gC,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,a.jsx)(b.Z,{as:l.Ug,isLoading:Je||Le,justifyContent:"center",my:"15px",children:null}),(0,a.jsx)(L.Z,{d:0==Fe.length||Je||Le||Me||H.O$.from(Ae).lte(R.cQ)?"none":"block",onClick:function(){Re()},_disabled:{opacity:.4},_hover:{opactity:.4},children:n("common:load-more")})]})}),k?(0,a.jsx)(oe.Z,{usePriceSlider:!0,isOpen:!0,onClose:function(){return W(!1)},onResult:null,address:te.address,abi:te.abi,title:"".concat(n("funding-amount"),":"),info:n("amount-info"),helperText:n("amount-helper-text"),executeText:n("fund-idle-text"),executingText:n("fund-active-text"),okMessage:function(){return n("fund-ok")},notOkMessage:function(){return n("fund-not-ok")},placeholder:"100",onValue:function(e){return isNaN(e)?{error:n("amount-error")}:{input:"fundGame:".concat(D,".uint256,").concat(e.trim(),".pay")}}}):null]})})}},30710:function(e,n,t){"use strict";var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=t(67294),i=l(a),s=l(t(45697));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.generateIdenticon=t.generateIdenticon.bind(t),t}return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),o(n,[{key:"componentDidMount",value:function(){this.generateIdenticon(r({},this.props))}},{key:"componentWillUpdate",value:function(e){this.isEquivalent(this.props,e)||this.generateIdenticon(r({},e))}},{key:"isEquivalent",value:function(e,n){var t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(n);if(t.length!=r.length)return!1;for(var o=0;o<t.length;o++){var a=t[o];if(e[a]!==n[a])return!1}return!0}},{key:"generateIdenticon",value:function(e){var n=new Array(4);function t(){var e=n[0]^n[0]<<11;return n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=n[3]^n[3]>>19^e^e>>8,(n[3]>>>0)/(1<<31>>>0)}function r(){return"hsl("+Math.floor(360*t())+","+(60*t()+40+"%")+","+(25*(t()+t()+t()+t())+"%")+")"}var o=e||{},a=o.size||8,i=o.scale||4;!function(e){for(var t=0;t<n.length;t++)n[t]=0;for(var r=0;r<e.length;r++)n[r%4]=(n[r%4]<<5)-n[r%4]+e.charCodeAt(r)}(o.seed||Math.floor(Math.random()*Math.pow(10,16)).toString(16));var s=o.color||r(),l=o.bgColor||r(),c=o.spotColor||r(),u=function(e){for(var n=e,r=e,o=Math.ceil(n/2),a=n-o,i=[],s=0;s<r;s++){for(var l=[],c=0;c<o;c++)l[c]=Math.floor(2.3*t());var u=l.slice(0,a);u.reverse(),l=l.concat(u);for(var f=0;f<l.length;f++)i.push(l[f])}return i}(a);return function(e,n,t,r,o,a){var i=Math.sqrt(n.length),s=i*r;e.width=s,e.style.width=s+"px",e.height=s,e.style.height=s+"px";var l=e.getContext("2d");l.fillStyle=o,l.fillRect(0,0,e.width,e.height),l.fillStyle=t;for(var c=0;c<n.length;c++)if(l.fillStyle=1===n[c]?t:a,n[c]){var u=Math.floor(c/i),f=c%i;l.fillRect(f*r,u*r,r,r)}}(this.identicon,u,s,i,l,c)}},{key:"render",value:function(){var e=this;return i.default.createElement("canvas",{ref:function(n){e.identicon=n},className:this.props.className})}}]),n}(a.Component);c.defaultProps={className:"identicon"},c.propTypes={seed:s.default.string.isRequired,size:s.default.number,scale:s.default.number,color:s.default.string,bgColor:s.default.string,spotColor:s.default.string}}},function(e){e.O(0,[868,543,607,612,921,247,409,801,94,662,782,412,774,888,179],(function(){return n=1008,e(e.s=n);var n}));var n=e.O();_N_E=n}]);