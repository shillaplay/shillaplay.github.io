(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[412],{14382:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(85893),a=t(79762),o=t(68527),i=t(26723),c=t(4612),s=t(86455),l=t.n(s),d=t(94045),u=t(20945),p=t(65988);function f(e){e.isGlobal;return(0,r.jsx)(p.default,{id:"419935b8c322d923",children:".react-datetime-picker {display:-webkit-inline-box;\ndisplay:-webkit-inline-flex;\ndisplay:-ms-inline-flexbox;\ndisplay:inline-flex;\nposition:relative;\nwidth:100%}\n.react-datetime-picker, .react-datetime-picker *, .react-datetime-picker *:before, .react-datetime-picker *:after {-moz-box-sizing:border-box;\n-webkit-box-sizing:border-box;\nbox-sizing:border-box}\n.react-datetime-picker--disabled {background-color:#f0f0f0;\ncolor:#6d6d6d}\n.react-datetime-picker__wrapper {display:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\n-webkit-box-flex:1;\n-webkit-flex-grow:1;\n-ms-flex-positive:1;\nflex-grow:1;\n-webkit-flex-shrink:0;\n-ms-flex-negative:0;\nflex-shrink:0;\nwidth:100%;\nmin-width:0px;\noutline:2px solid transparent;\noutline-offset:2px;\nposition:relative;\n-webkit-appearance:none;\n-moz-appearance:none;\n-ms-appearance:none;\n-webkit-appearance:none;\n-moz-appearance:none;\n-ms-appearance:none;\nappearance:none;\ntransition-property:var(--chakra-transition-property-common);\ntransition-duration:var(--chakra-transition-duration-normal);\nfont-size:var(--chakra-fontSizes-md);\n-webkit-padding-start:var(--chakra-space-4);\npadding-inline-start:var(--chakra-space-4);\n-webkit-padding-end:var(--chakra-space-4);\npadding-inline-end:var(--chakra-space-4);\nheight:var(--chakra-sizes-10);\nborder-radius:var(--chakra-radii-md);\nborder:1px solid;\nborder-color:inherit;\nbackground:inherit}\n.react-datetime-picker__inputGroup {min-width:calc(4px + (4px * 3) + 0.54em * 6 + 0.217em * 2);\n-webkit-box-flex:1;\n-webkit-flex-grow:1;\n-ms-flex-positive:1;\nflex-grow:1;\npadding:0 2px}\n.react-datetime-picker__inputGroup__divider {padding:1px 0;\nwhite-space:pre}\n.react-datetime-picker__inputGroup__input {min-width:0.54em;\nheight:calc(100% - 2px);\nposition:relative;\npadding:1px;\nborder:0;\nbackground:none;\nfont:inherit;\nbox-sizing:content-box;\n-moz-appearance:textfield}\n.react-datetime-picker__inputGroup__input::-webkit-outer-spin-button, .react-datetime-picker__inputGroup__input::-webkit-inner-spin-button {-webkit-appearance:none;\nmargin:0}\n.react-datetime-picker__inputGroup__input:invalid {background:rgba(255, 0, 0, 0.1)}\n.react-datetime-picker__inputGroup__input--hasLeadingZero {margin-left:-0.54em;\npadding-left:calc(1px + 0.54em)}\n.react-datetime-picker__inputGroup__amPm {font:inherit;\n-moz-appearance:menulist}\n.react-datetime-picker__button {border:0;\nbackground:transparent;\npadding:4px 6px}\n.react-datetime-picker__button:enabled {cursor:pointer}\n.react-datetime-picker__button:enabled:hover .react-datetime-picker__button__icon, .react-datetime-picker__button:enabled:focus .react-datetime-picker__button__icon {stroke:#0078d7}\n.react-datetime-picker__button:disabled .react-datetime-picker__button__icon {stroke:#6d6d6d}\n.react-datetime-picker__button svg {display:inherit}\n.react-datetime-picker__calendar, .react-datetime-picker__clock {position:absolute;\ntop:100%;\nleft:0;\nz-index:1}\n.react-datetime-picker__calendar--closed, .react-datetime-picker__clock--closed {display:none}\n.react-datetime-picker__calendar {width:350px;\nmax-width:100vw}\n.react-datetime-picker__calendar .react-calendar {border-width:thin}\n.react-datetime-picker__clock {width:200px;\nheight:200px;\nmax-width:100vw;\npadding:25px;\nborder-radius:var(--chakra-radii-md);\nborder:1px solid;\nborder-color:inherit}\n.react-calendar {width:350px;\nmax-width:100%;\nfont-family:Arial, Helvetica, sans-serif;\nline-height:1.125em;\nborder-radius:var(--chakra-radii-md);\nborder:1px solid;\nborder-color:inherit}\n.chakra-ui-light .react-calendar, .chakra-ui-light .react-datetime-picker__clock {background:rgb(255, 255, 255)!important}\n.chakra-ui-dark .react-calendar, .chakra-ui-dark .react-datetime-picker__clock {background:rgb(39, 38, 44)!important}\n.react-calendar--doubleView {width:700px}\n.react-calendar--doubleView .react-calendar__viewContainer {display:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\nmargin:-0.5em}\n.react-calendar--doubleView .react-calendar__viewContainer >* {width:50%;\nmargin:0.5em}\n.react-calendar, .react-calendar *, .react-calendar *:before, .react-calendar *:after {-moz-box-sizing:border-box;\n-webkit-box-sizing:border-box;\nbox-sizing:border-box}\n.react-calendar button {margin:0;\nborder:0;\noutline:none}\n.react-calendar button:enabled:hover {cursor:pointer}\n.react-calendar__navigation {display:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\nheight:44px;\nmargin-bottom:1em}\n.react-calendar__navigation button {min-width:44px;\nbackground:none}\n.react-calendar__navigation button:disabled {background-color:#f0f0f0}\n.react-calendar__navigation button:enabled:hover, .react-calendar__navigation button:enabled:focus {background-color:#e6e6e6}\n.react-calendar__month-view__weekdays {text-align:center;\ntext-transform:uppercase;\nfont-weight:bold;\nfont-size:0.75em}\n.react-calendar__month-view__weekdays__weekday {padding:0.5em}\n.react-calendar__month-view__weekNumbers .react-calendar__tile {display:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\n-webkit-align-items:center;\n-webkit-box-align:center;\n-ms-flex-align:center;\nalign-items:center;\n-webkit-justify-content:center;\njustify-content:center;\nfont-size:0.75em;\nfont-weight:bold}\n.react-calendar__month-view__days__day--weekend {color:#d10000}\n.react-calendar__month-view__days__day--neighboringMonth {color:#757575}\n.react-calendar__year-view .react-calendar__tile, .react-calendar__decade-view .react-calendar__tile, .react-calendar__century-view .react-calendar__tile {padding:2em 0.5em}\n.react-calendar__tile {max-width:100%;\npadding:10px 6.6667px;\nbackground:none;\ntext-align:center;\nline-height:16px}\n.react-calendar__tile:disabled {background-color:#f0f0f0}\n.react-calendar__tile:enabled:hover, .react-calendar__tile:enabled:focus {background-color:#e6e6e6}\n.react-calendar__tile--now {background:#ffff76}\n.react-calendar__tile--now:enabled:hover, .react-calendar__tile--now:enabled:focus {background:#ffffa9}\n.react-calendar__tile--hasActive {background:#76baff}\n.react-calendar__tile--hasActive:enabled:hover, .react-calendar__tile--hasActive:enabled:focus {background:#a9d4ff}\n.react-calendar__tile--active {background:#006edc;\ncolor:white}\n.react-calendar__tile--active:enabled:hover, .react-calendar__tile--active:enabled:focus {background:#1087ff}\n.react-calendar--selectRange .react-calendar__tile--hover {background-color:#e6e6e6}\n.react-clock {display:block!important;\nposition:relative}\n.react-clock, .react-clock *, .react-clock *:before, .react-clock *:after {-moz-box-sizing:border-box;\n-webkit-box-sizing:border-box;\nbox-sizing:border-box}\n.react-clock__face {position:absolute;\ntop:0;\nbottom:0;\nleft:0;\nright:0;\nborder:1px solid black;\nborder-radius:50%}\n.react-clock__hand {position:absolute;\ntop:0;\nbottom:0;\nleft:50%;\nright:50%}\n.react-clock__hand__body {position:absolute;\nbackground-color:black;\n-webkit-transform:translateX(-50%);\n-moz-transform:translateX(-50%);\n-ms-transform:translateX(-50%);\ntransform:translateX(-50%)}\n.react-clock__mark {position:absolute;\ntop:0;\nbottom:0;\nleft:50%;\nright:50%}\n.react-clock__mark__body {position:absolute;\nbackground-color:black;\n-webkit-transform:translateX(-50%);\n-moz-transform:translateX(-50%);\n-ms-transform:translateX(-50%);\ntransform:translateX(-50%)}\n.react-clock__mark__number {position:absolute;\nleft:-40px;\nwidth:80px;\ntext-align:center}\n.react-clock__second-hand__body {background-color:red}"})}var m=t(31567);function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var g=function(e){var n=e.title,t=e.name,s=e.type,p=e.locale,g=e.value,h=e.onChange,k=e.errorMessage,v=e.helperText,_=e.info,w=e.infoText,y=e.okText,j=e.placeholder,C=b(e,["title","name","type","locale","value","onChange","errorMessage","helperText","info","infoText","okText","placeholder"]),S=(0,m.$)().lang;return(0,r.jsxs)(a.NI,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){x(e,n,t[n])}))}return e}({isInvalid:!(0,d.N4)(k)},C,{children:[(0,d.N4)(_)?(0,r.jsx)(a.lX,{textTransform:"capitalize",children:n}):(0,r.jsxs)(o.Ug,{flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(a.lX,{textTransform:"capitalize",children:n}),_?(0,r.jsx)(i.zx,{size:"xs",marginInlineStart:"0px !important",marginInlineEnd:"0px !important",p:"3px",onClick:function(){return e=_,void l().fire({icon:"info",text:e,confirmButtonText:y,showCancelButton:!1});var e},children:w||"?"}):null]}),"date"!=s?(0,r.jsx)(c.II,{name:t,type:s,placeholder:j||"",value:g,onChange:h,errorBorderColor:"red.300",isInvalid:!(0,d.N4)(k)}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{locale:p||S,onChange:h,value:g}),(0,r.jsx)(f,{})]}),(0,d.N4)(k)?null:(0,r.jsx)(a.J1,{children:k}),(0,d.N4)(v)?null:(0,r.jsx)(a.Q6,{children:v})]}))}},412:function(e,n,t){"use strict";t.d(n,{Z:function(){return q}});var r=t(35666),a=t.n(r),o=t(85893),i=t(82138),c=t(67294),s=function(e,n){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)};function l(e){var n=e.className,t=e.counterClockwise,r=e.dashRatio,a=e.pathRadius,o=e.strokeWidth,i=e.style;return(0,c.createElement)("path",{className:n,style:Object.assign({},i,u({pathRadius:a,dashRatio:r,counterClockwise:t})),d:d({pathRadius:a,counterClockwise:t}),strokeWidth:o,fillOpacity:0})}function d(e){var n=e.pathRadius,t=e.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+n+"\n      a "+n+","+n+" "+t+" 1 1 0,"+2*n+"\n      a "+n+","+n+" "+t+" 1 1 0,-"+2*n+"\n    "}function u(e){var n=e.counterClockwise,t=e.dashRatio,r=e.pathRadius,a=2*Math.PI*r,o=(1-t)*a;return{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(n?-o:o)+"px"}}var p=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return function(e,n){function t(){this.constructor=e}s(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}(n,e),n.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},n.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},n.prototype.getPathRatio=function(){var e=this.props,n=e.value,t=e.minValue,r=e.maxValue;return(Math.min(Math.max(n,t),r)-t)/(r-t)},n.prototype.render=function(){var e=this.props,n=e.circleRatio,t=e.className,r=e.classes,a=e.counterClockwise,o=e.styles,i=e.strokeWidth,s=e.text,d=this.getPathRadius(),u=this.getPathRatio();return(0,c.createElement)("svg",{className:r.root+" "+t,style:o.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,c.createElement)("circle",{className:r.background,style:o.background,cx:50,cy:50,r:50}):null,(0,c.createElement)(l,{className:r.trail,counterClockwise:a,dashRatio:n,pathRadius:d,strokeWidth:i,style:o.trail}),(0,c.createElement)(l,{className:r.path,counterClockwise:a,dashRatio:u*n,pathRadius:d,strokeWidth:i,style:o.path}),s?(0,c.createElement)("text",{className:r.text,style:o.text,x:50,y:50},s):null)},n.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},n}(c.Component);t(2661);var f=t(68527),m=t(20949),x=t(92667),b=t(97375),g=t(98379),h=t(26723),k=t(81961),v=t(83897),_=t(94045),w=t(13365),y=t(61454),j=t(2593),C=t(17618),S=t(20149),L=t(77044),O=t(14382),P=t(86455),z=t.n(P),E=t(36951),N=t(16813),D=t(27),W=t(80109),Z=t(2128),T=t(68938),I=t(37423);function A(e,n,t,r,a,o,i){try{var c=e[o](i),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(r,a)}function B(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function i(e){A(o,r,a,i,c,"next",e)}function c(e){A(o,r,a,i,c,"throw",e)}i(void 0)}))}}function F(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function H(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){F(e,n,t[n])}))}return e}function X(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function $(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function J(e){throw e}var R=function(e){var n=e.as,t=e.children,r=X(e,["as","children"]);return(0,o.jsx)(f.xu,H({as:n||"div",textAlign:"center",fontWeight:"600"},r,{children:t}))},M=function(e){var n=e.as,t=e.children,r=X(e,["as","children"]);return(0,o.jsx)(f.xu,H({as:n||"div",mb:"15px",fontSize:"14px"},r,{children:t}))},G=function(e){var n=e.as,t=e.children,r=X(e,["as","children"]);return(0,o.jsx)(f.xu,H({as:n||"div",mb:"0.2rem",textTransform:"uppercase",fontSize:{base:"17px",lg:"21px"}},r,{children:t}))},V=function(e){var n=e.as,t=e.children,r=X(e,["as","children"]);return(0,o.jsx)(f.xu,H({as:n||"div",textTransform:"uppercase",fontSize:"15px",color:"rgb(103, 114, 144)",fontWeight:"600"},r,{children:t}))},q=function(e){var n=e.onConnectAccount,t=e.gameId,r=(e.isCard,e.gameInfo),s=e.gameSessionInfo,l=e.gameState,d=e.latestBlockNumber,u=e.balance,P=e.allowance,A=e.onOpenWallet,F=(0,i.Z)("game"),H=F.t,X=F.lang,q=((0,m.ff)("pageBg.light","pageBg.dark"),(0,L.Ge)().account),Q=(0,x.pm)(),K=(0,b.qY)(),U=K.isOpen,Y=K.onOpen,ee=K.onClose,ne=(0,C.s5)(),te=((0,C.Ib)(),r.owner),re=(r.entryPrice,r.countDownDuration,r.primaryWinnerPercentage,r.secondaryWinnerPercentage,r.ownerPercentage,r.totalSessions,r.totalPlayers,r.totalProfits,r.bank),ae=(r.gameInfoStatus,s.startBlock),oe=s.endBlock,ie=s.playBlock,ce=s.primaryWinnerPrize,se=s.secondaryWinnerPrize,le=(s.ownerPrize,s.vaultPrize,s.sessionBank),de=(s.sessionTotalPlayers,s.awaitingPlayers,s.primaryWinner),ue=s.secondaryWinner,pe=s.gameSessionInfoStatus,fe=(0,c.useState)(0),me=fe[0],xe=fe[1],be=(0,c.useState)(0),ge=be[0],he=be[1],ke=(0,c.useState)(0),ve=ke[0],_e=ke[1];(0,c.useEffect)((function(){if(pe!=k.J_.pending){var e=!d||oe.eq(N.HW)?N.HW:j.O$.from(d+1).sub(ie);e.lt(N.HW)&&(e=N.HW);var n=oe.sub(ie);n.lt(N.HW)&&(n=N.HW),he(e.toNumber()),_e(n.toNumber()),xe(e.mul(N.tf).div(n.eq(N.HW)?N.cQ:n).toNumber())}}),[d,pe]);var we=(0,c.useState)(),ye=we[0],je=we[1],Ce=(0,c.useState)(),Se=Ce[0],Le=Ce[1],Oe=(0,c.useState)(),Pe=Oe[0],ze=Oe[1],Ee=(0,c.useState)(),Ne=Ee[0],De=Ee[1],We=(0,c.useState)(),Ze=We[0],Te=We[1],Ie={"common:connect-wallet":"normal",start:"normal",starting:"italic","common:approval-in-progress":"italic"},Ae=function(){return q?Ne?"starting":"start":"common:connect-wallet"},Be=(0,c.useState)(Ae()),Fe=Be[0],He=Be[1];(0,c.useEffect)((function(){He(Ae())}),[q,Ne]);var Xe={"common:connect-wallet":"normal",cancel:"normal",canceling:"italic","common:approval-in-progress":"italic"},$e=function(){return q?Ze?"canceling":"cancel":"common:connect-wallet"},Je=(0,c.useState)($e()),Re=Je[0],Me=Je[1];(0,c.useEffect)((function(){Me($e())}),[q,Ze]);var Ge=(0,c.useState)(""),Ve=Ge[0],qe=Ge[1],Qe=(0,c.useState)(new Date),Ke=Qe[0],Ue=Qe[1];(0,c.useEffect)((function(){qe(""),Ue(new Date)}),[U]);var Ye=(0,c.useState)(),en=Ye[0],nn=Ye[1],tn=(0,c.useState)(),rn=tn[0],an=tn[1];(0,c.useEffect)((function(){t&&j.O$.from(t)>N.HW&&(en||nn((0,_.tz)(t)),rn||an((0,_.ic)(t)))}),[t]);var on=(0,I.Z)(en,"startEvent.filter",D.abi),cn=(0,I.Z)(rn,"cancelEvent.filter",D.abi),sn=(0,c.useState)(),ln=sn[0],dn=sn[1],un=(0,c.useState)(),pn=un[0],fn=un[1];(0,c.useEffect)((function(){console.log("txEventAlt","startEvent",on),on&&ln!=JSON.stringify(on)&&(mn(),dn(JSON.stringify(on)))}),[on]),(0,c.useEffect)((function(){console.log("txEventAlt","cancelEvent",cn),cn&&pn!=JSON.stringify(cn)&&(xn(),fn(JSON.stringify(cn)))}),[cn]);var mn=function(e){console.log("submitHandler:txStatus.2",e),e||(De(!1),ee(),z().fire({text:H("start-ok"),icon:"success",cancelButtonText:H("common:ok")}))},xn=function(e){console.log("submitHandler:txStatus.2",e),e||(Te(!1),z().fire({text:H("cancel-ok"),icon:"success",cancelButtonText:H("common:ok")}))},bn=function(e,n){var t=e.code;console.log("submitHandler:2",t,e),n?n():De(!1),t!=k.O1.META_MASK_TX_DECLINED?Q({description:H("common:conn-error"),status:"error",duration:4e3,isClosable:!0}):Q({description:H("common:tx-declined"),status:"error",duration:4e3,isClosable:!0})},gn=B(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("start:",n),De(!0),n&&null!==(null===n||void 0===n?void 0:n.startSecondsFromNow)||(n=ye),e.prev=3,console.log("submitHandler:txStatus.111",n,Ne,Ae()),e.next=7,ne.startSession(t,n.gameBankIncrement,n.startSecondsFromNow);case 7:r=e.sent,Le(r.hash),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),bn(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),hn=(0,c.useState)(N.HW),kn=hn[0],vn=hn[1],_n=$((0,S.A$)(kn,D.address),3),wn=(_n[0],_n[1],_n[2]);(0,c.useEffect)((function(){wn&&(bn(wn),vn(N.HW))}),[wn]),(0,c.useEffect)((function(){P.gt(N.HW)&&console.log("start:allowance","approved",(0,_.Xv)(P)),kn.gt(N.HW)&&(null===ye||void 0===ye?void 0:ye.gameBankIncrement)&&j.O$.from(ye.gameBankIncrement).lte(P)&&(console.log("start:","approved",(0,_.Xv)(P)),gn(),vn(N.HW))}),[kn,P]);(0,W.k)(Se,mn,(function(){Q({description:H("start-failed"),status:"error",duration:4e3,isClosable:!0}),De(!1)})),(0,W.k)(Pe,xn,(function(){Q({description:H("cancel-failed"),status:"error",duration:4e3,isClosable:!0}),Te(!1)}));var yn=B(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Te(!0),e.prev=1,console.log("submitHandler:txStatus.222",Ze,$e()),e.next=5,ne.cancelSession(t,!0);case 5:n=e.sent,ze(n.hash),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),bn(e.t0,(function(){Te(!1)}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),jn=(0,c.useState)(),Cn=jn[0],Sn=jn[1],Ln=(0,c.useState)(),On=Ln[0],Pn=Ln[1],zn={diburse:"normal",dibursing:"italic"},En=function(){return q&&Cn?"dibursing":"diburse"},Nn=(0,c.useState)(En()),Dn=Nn[0],Wn=Nn[1];(0,c.useEffect)((function(){Wn(En())}),[Cn]);var Zn=(0,c.useState)(),Tn=Zn[0],In=Zn[1];(0,c.useEffect)((function(){!Tn&&t&&j.O$.from(t)>N.HW&&In((0,_.D_)(t))}),[t]);var An=(0,I.Z)(Tn,"diburseEvent.filter",D.abi),Bn=(0,c.useState)(),Fn=Bn[0],Hn=Bn[1];(0,c.useEffect)((function(){console.log("txEventAlt","diburseEvent",An),An&&Fn!=JSON.stringify(An)&&(Xn(),Hn(JSON.stringify(An)))}),[An]);var Xn=function(e){if(console.log("submitHandler:txStatus.2",e),!e){Sn(!1);var n=q||"",t=n.toLowerCase()==de.toLowerCase()||n.toLowerCase()==ue.toLowerCase()?H("claim-prize-ok"):n.toLowerCase()==(null===te||void 0===te?void 0:te.toLowerCase())?H("claim-profits-ok"):H("notify-winners-ok");z().fire({text:t,icon:"success",cancelButtonText:H("common:ok")})}},$n=((0,W.k)(On,Xn,(function(){Q({description:H("diburse-failed"),status:"error",duration:4e3,isClosable:!0}),Sn(!1)})),B(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sn(!0),e.prev=1,console.log("submitHandler:txStatus.333",Cn,En()),e.next=5,ne.diburseGameBank(t);case 5:n=e.sent,Pn(n.hash),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),bn(e.t0,(function(){Sn(!1)}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))),Jn=(0,c.useState)(),Rn=Jn[0],Mn=Jn[1],Gn=(0,c.useState)(""),Vn=Gn[0],qn=Gn[1],Qn=(0,c.useState)(0),Kn=Qn[0],Un=Qn[1];(0,c.useEffect)((function(){(0,_.aQ)(u.toString()).gt(N.HW)&&Kn>0&&(Mn(Math.round((0,_.aQ)(u.toString()).toNumber()*Kn/100)),Un(0))}),[Kn,u]);var Yn=(0,m.ff)("colorAccent.light","colorAccent.dark"),et=function(e){return e.isLoading?(0,o.jsx)(dt,{}):(0,o.jsxs)(f.xu,{as:"div",d:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(f.xv,{as:R,children:H("not-started")}),!te||q&&q.toLowerCase()!=(null===te||void 0===te?void 0:te.toLowerCase())?null:(0,o.jsx)(y.Z,{mt:"0.5rem",onClick:q?Y:A,children:H("start")})]})},nt=function(e){return e.isLoading?(0,o.jsx)(ut,{}):(0,o.jsx)(f.xu,{})},tt=function(e){return e.isLoading?(0,o.jsx)(dt,{}):(0,o.jsxs)(f.xu,{children:[(0,o.jsxs)(f.xu,{w:"100%",textAlign:"center",children:[(0,o.jsx)(f.xv,{as:G,children:v.Z.format((0,_.Xv)(ce),{locale:X,minFD:2,maxFD:2})}),(0,o.jsx)(f.xv,{as:V,children:H("first-prize")})]}),q&&te&&q.toLowerCase()==(null===te||void 0===te?void 0:te.toLowerCase())?(0,o.jsx)(y.Z,{onClick:yn,disabled:"italic"==Xe[Re],fontStyle:Xe[Re],children:H(Re)}):null]})},rt=function(e){return e.isLoading?(0,o.jsx)(ut,{}):(0,o.jsxs)(f.xu,{textAlign:"center",children:[(0,o.jsxs)(f.xu,{as:M,children:[(0,o.jsx)(f.xv,{as:"div",children:H("awaiting-players")}),(0,o.jsx)(f.xv,{as:"div",children:H("awaiting-players-2")})]}),(0,o.jsxs)(f.xu,{children:[(0,o.jsx)(f.xu,{as:G,children:(0,o.jsx)("span",{children:H("common:value-symbol",[v.Z.format((0,_.Xv)(le),{locale:X,minFD:2,maxFD:2})],!0)})}),(0,o.jsx)(f.xv,{as:V,children:H("game-bank")})]})]})},at=function(e){if(e.isLoading)return(0,o.jsx)(dt,{});var n=(!d||ae.eq(N.HW)?N.HW:ae.sub(j.O$.from(d+1))).toNumber();return n<0&&(n=0),(0,o.jsxs)(f.xu,{textAlign:"center",children:[(0,o.jsx)(f.xv,{as:G,children:H("blocks-rem-game-start-var",[n])}),(0,o.jsx)(f.xv,{as:V,children:H("blocks-rem-start")}),q&&te&&q.toLowerCase()==(null===te||void 0===te?void 0:te.toLowerCase())?(0,o.jsx)(y.Z,{onClick:yn,disabled:"italic"==Xe[Re],fontStyle:Xe[Re],children:H(Re)}):null]})},ot=function(e){return e.isLoading?(0,o.jsx)(ut,{}):(0,o.jsx)(f.xu,{textAlign:"center",children:(0,o.jsx)(f.xv,{as:M,mb:"0px",children:H("block-time",[k.$])})})},it=function(e){e.isLoading;return(0,o.jsx)(f.xu,{textAlign:"center",children:(0,o.jsxs)(f.xu,{children:[(0,o.jsx)(f.xv,{as:G,children:H("blocks-rem-var",[(0,_.MO)(ve,ge,1),ve])}),(0,o.jsx)(f.xv,{as:V,children:H("blocks-rem-end")})]})})},ct=function(e){e.isLoading;return(0,o.jsxs)(f.xu,{as:"div",textAlign:"center",children:[(0,o.jsx)(f.xv,{as:M,children:H("block-time",[k.$])}),(0,o.jsx)(f.xu,{as:G,children:(0,o.jsx)("span",{children:H("common:value-symbol",[v.Z.format((0,_.Xv)(le),{locale:X,minFD:2,maxFD:2})],!0)})}),(0,o.jsx)(f.xv,{as:V,children:H("game-bank")})]})},st=function(e){return e.isLoading?(0,o.jsx)(dt,{}):(0,o.jsxs)(f.xu,{textAlign:"center",children:[(0,o.jsx)(f.xv,{as:R,children:!q||q.toLowerCase()!=de.toLowerCase()&&q.toLowerCase()!=ue.toLowerCase()?H("game-ended"):H("game-ended-congrats")}),(0,o.jsx)(y.Z,{mt:"0.5rem",onClick:q?$n:n,disabled:"italic"==zn[Dn],fontStyle:zn[Dn],d:"block",children:"italic"==zn[Dn]?H("common:please-wait"):q?q.toLowerCase()==de.toLowerCase()||q.toLowerCase()==ue.toLowerCase()?H("claim-prize"):q.toLowerCase()==(null===te||void 0===te?void 0:te.toLowerCase())?H("claim-profits"):H("notify-winners"):H("claim-or-notify")})]})},lt=function(e){return e.isLoading?(0,o.jsx)(ut,{}):(0,o.jsx)(f.xu,{textAlign:"center",children:!q||q.toLowerCase()!=de.toLowerCase()&&q.toLowerCase()!=ue.toLowerCase()?ue==k.je?(0,o.jsx)(f.xv,{as:M,children:H("loss-message-one",[de,v.Z.format((0,_.Xv)(ce),{locale:X,minFD:2,maxFD:2})])}):de.toLowerCase()==ue.toLowerCase()?(0,o.jsx)(f.xv,{as:M,children:H("loss-message-one",[de,v.Z.format((0,_.Xv)(ce.add(se)),{locale:X,minFD:2,maxFD:2})])}):(0,o.jsx)(f.xv,{as:M,children:H("loss-message-both",[de,ue,v.Z.format((0,_.Xv)(ce.add(se)),{locale:X,minFD:2,maxFD:2})])}):(0,o.jsx)(f.xv,{as:M,children:H("won-message",[q.toLowerCase()==de.toLowerCase()&&q.toLowerCase()==ue.toLowerCase()?v.Z.format((0,_.Xv)(ce.add(se)),{locale:X,minFD:2,maxFD:2}):q.toLowerCase()==de.toLowerCase()?v.Z.format((0,_.Xv)(ce),{locale:X,minFD:2,maxFD:2}):v.Z.format((0,_.Xv)(se),{locale:X,minFD:2,maxFD:2})],!0)})})},dt=function(e){e=null!==e?e:J(new TypeError("Cannot destructure undefined"));return(0,o.jsx)(w.Z,{isLoading:!0})},ut=function(e){e=null!==e?e:J(new TypeError("Cannot destructure undefined"));return(0,o.jsx)(f.xu,{})},pt=function(){return l==Z.$p.ended?Z.ZP.getColors(Z.$p.ended).color:q?q&&de&&de.toLowerCase()==q.toLowerCase()?Z.ZP.getColors(Z.$p.playing).color:Z.ZP.getColors(Z.$p.danger).color:Z.ZP.getColors(Z.$p.warning).color};return(0,o.jsxs)(f.xu,{w:"100%",d:"flex",justifyContent:"stretch",alignItems:"stretch",children:[(0,o.jsx)(T.Z,{children:(0,o.jsxs)(f.xu,{p:"1.25rem",d:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",w:"100%",children:[(0,o.jsxs)(f.xu,{w:"250px",h:"250px",mb:"0.5rem",pos:"relative",d:"flex",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(f.xu,{pos:"absolute",children:(0,o.jsx)(p,{value:me,styles:{root:{width:"100%"},path:{stroke:pt(),strokeLinecap:"round",transition:"stroke-dashoffset 0.5s ease 0s"},trail:{stroke:(0,m.ff)("ash.light","ash.dark")}}})}),(0,o.jsx)(f.xu,{bg:(0,m.ff)("#f4f4f4","#a4a4a4"),w:"85%",h:"85%",pos:"absolute",borderRadius:"50%",children:(0,o.jsx)(f.xu,{w:"100%",h:"100%",pos:"relative",d:"flex",justifyContent:"center",alignItems:"center",children:l==Z.$p.upcoming?(0,o.jsx)(at,{isLoading:pe==k.J_.pending}):l==Z.$p.inactive?(0,o.jsx)(et,{isLoading:pe==k.J_.pending}):l==Z.$p.awaiting?(0,o.jsx)(tt,{isLoading:pe==k.J_.pending}):l==Z.$p.ended?(0,o.jsx)(st,{color:pt(),isLoading:pe==k.J_.pending}):(0,o.jsx)(it,{isLoading:pe==k.J_.pending})})})]}),(0,o.jsx)(f.xu,{textAlign:"center",w:"100%",children:l==Z.$p.upcoming?(0,o.jsx)(ot,{isLoading:pe==k.J_.pending}):l==Z.$p.inactive?(0,o.jsx)(nt,{isLoading:pe==k.J_.pending}):l==Z.$p.awaiting?(0,o.jsx)(rt,{isLoading:pe==k.J_.pending}):l==Z.$p.ended?(0,o.jsx)(lt,{isLoading:pe==k.J_.pending}):(0,o.jsx)(ct,{isLoading:pe==k.J_.pending})})]})}),(0,o.jsxs)(g.u_,{isOpen:U,onClose:ee,closeOnOverlayClick:!1,children:[(0,o.jsx)(g.ZA,{}),(0,o.jsxs)(g.hz,{borderRadius:"32px",w:{base:"95%",md:"650px"},children:[(0,o.jsx)(g.xB,{}),(0,o.jsx)(g.fe,{children:(0,o.jsxs)(f.gC,{children:[(0,o.jsx)(O.Z,{okText:H("common:ok"),mb:4,type:"date",value:Ke,onChange:function(e){e||(e=new Date),qe(""),(new Date).getTime()>e.getTime()&&qe(H("error-past-time")),Ue(e)},title:"".concat(H("start-time")),name:"start-time",errorMessage:Ve,infoText:H("common:info-text"),info:H("start-time-desc"),helperText:H("start-time-help")}),(0,o.jsx)(O.Z,{okText:H("common:ok"),mb:4,type:"number",value:Rn,onChange:function(e){return n=e.target.value,t=Mn,console.log(n),void t(isNaN(n)?"":parseInt(n));var n,t},title:"".concat(H("bank-input")),name:"bank-input",errorMessage:Vn,infoText:H("common:info-text"),info:H("bank-input-desc"),helperText:H("bank-input-help",[v.Z.format((0,_.Xv)(re.toString()),{locale:X,minFD:2,maxFD:2}),v.Z.format((0,_.Xv)(u.toString()),{locale:X,minFD:2,maxFD:2})])}),(0,o.jsx)(E.Z,{defaultValue:5,updateOnLoad:!0,percentages:[25,75,50],onChangeEnd:function(e){Un(e)}})]})}),(0,o.jsxs)(g.mz,{children:[(0,o.jsx)(h.zx,{onClick:ee,textTransform:"capitalize",variant:"ghost",disabled:"italic"==Ie[Fe],children:H("common:cancel")}),(0,o.jsx)(h.zx,{onClick:function(){var e,n=(0,_.N4)(Rn)?0:Rn;console.log("startGame:1",Ke,re,n,n+re),qe(""),qn("");var t=new Date,r=t.getTime();r-=1e3*t.getSeconds()+t.getMilliseconds();var a,o=Ke.getTime();if((o-=1e3*Ke.getSeconds()+Ke.getMilliseconds())<r&&(e=!0,qe(H("error-past-time"))),n+re<k.bB.minEntryPrice&&(e=!0,qn(H("error-game-bank",[v.Z.format(k.bB.minEntryPrice,{locale:X})]))),!e){var i={gameBankIncrement:(0,_.kz)(n).toString(),startSecondsFromNow:(0,_.MO)(o,r)/1e3};je(i),a=i,console.log("startGame:data",a,"allowance:",(0,_.Xv)(P)),j.O$.from(a.gameBankIncrement).gt(P)?z().fire({text:H("common:approve-text-game"),icon:"info",confirmButtonText:H("common:ok")}).then((function(e){e.isConfirmed?(De(!0),vn(N.rb)):De(!1)})):(De(!0),gn(a))}},ml:"25px",disabled:"italic"==Ie[Fe],fontStyle:Ie[Fe],bg:Yn,borderColor:Yn,color:"#fff",textTransform:"capitalize",_hover:{opacity:.4},_disabled:{opacity:.4,cursor:"not-allowed"},children:H(Fe)})]})]})]})]})}},80109:function(e,n,t){"use strict";t.d(n,{k:function(){return d}});var r=t(35666),a=t.n(r),o=t(67294),i=t(77044),c=t(81961),s=t(94045);function l(e,n,t,r,a,o,i){try{var c=e[o](i),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(r,a)}var d=function(e,n,t){c.J_.pending,c.J_.ok,c.J_.notOk;var r=(0,i.Ge)().library,d=(0,o.useState)(),u=d[0],p=d[1];return(0,o.useEffect)((function(){var o,i=(o=a().mark((function o(){return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r.once(e,(function(a){r.removeListener(e,(function(){})),p(a),1==a.status?n&&n(a):t&&t(a)}));case 1:case"end":return a.stop()}}),o)})),function(){var e=this,n=arguments;return new Promise((function(t,r){var a=o.apply(e,n);function i(e){l(a,t,r,i,c,"next",e)}function c(e){l(a,t,r,i,c,"throw",e)}i(void 0)}))});return r&&!(0,s.N4)(e)?i():p(null),function(){!(0,s.N4)(e)&&r&&r.removeListener(e,(function(){return p(null)}))}}),[r,e]),u}},2661:function(){}}]);