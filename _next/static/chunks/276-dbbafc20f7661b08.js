"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{75276:function(e,n,t){var r=t(85893),o=t(68527),a=t(26723),i=t(14382),c=t(13365),s=t(82138),u=t(81961),l=t(94045),f=t(57277),m=t(67294),g=t(83897);n.Z=function(e){var n=e.resetGetter,t=e.id,p=e.submitHandler,y=e.gameStyle,d=e.gameStatus,S=(0,s.Z)("edit-game"),P=S.t,w=S.lang,v=(0,f.$x)(t),x=v.owner,b=v.entryPrice,k=v.countDownDuration,W=v.primaryWinnerPercentage,h=v.secondaryWinnerPercentage,O=v.ownerPercentage,$=v.gameInfoStatus,Z=(0,m.useState)(),j=Z[0],B=Z[1],H=(0,m.useState)(""),C=H[0],E=H[1],_=(0,m.useState)(),D=_[0],I=_[1],z=(0,m.useState)(""),T=z[0],N=z[1],J=(0,m.useState)(),G=J[0],M=J[1],F=(0,m.useState)(""),L=F[0],Q=F[1],q=(0,m.useState)(),A=q[0],K=q[1],R=(0,m.useState)(""),U=R[0],V=R[1],X=(0,m.useState)(),Y=X[0],ee=X[1],ne=(0,m.useState)(""),te=ne[0],re=ne[1],oe=function(){console.log("reset::"),B((0,l.aQ)(b,0)),I(parseInt(k)),M(parseInt(O)),K(parseInt(W)),ee(parseInt(h))};(0,m.useEffect)((function(){n&&n(oe)}),[]),(0,m.useEffect)((function(){x.toLowerCase()!=u.je&&oe()}),[x]);var ae=function(e,n){n(isNaN(e)?"":parseInt(e))},ie=!1;return $==u.J_.pending?(0,r.jsx)(o.xu,{d:"flex",justifyContent:"center",alignItems:"flex-start",children:(0,r.jsx)(c.Z,{isLoading:!0,children:""})}):(0,r.jsxs)("form",{onSubmit:function(e){try{e.preventDefault()}catch(o){}ie=!1,E(""),N(""),Q(""),V(""),re(""),(0,l.N4)(j)&&(ie=!0,E(P("entry-price-empty-error"))),j<u.bB.minEntryPrice&&(ie=!0,E(P("entry-price-empty-error"))),(0,l.N4)(D)&&(ie=!0,N(P("countdown-empty-error"))),D<u.bB.gameMinCountdown&&(ie=!0,N(P("countdown-min-error",[u.bB.gameMinCountdown],!0))),D>u.bB.gameMaxCountdown&&(console.log("Form: ".concat(k,"Input | isNaN ").concat(D," = $").concat(isNaN(D)," | gt: ").concat(D>u.bB.gameMaxCountdown)),ie=!0,N(P("countdown-max-error",[u.bB.gameMaxCountdown],!0)));var n=!0,t=!0,r=!0;((0,l.N4)(G)||G<1)&&(ie=!0,n=!1,Q(P("owner-empty-error"))),((0,l.N4)(A)||G<1)&&(ie=!0,t=!1,V(P("primary-empty-error"))),((0,l.N4)(Y)||G<1)&&(ie=!0,r=!1,re(P("secondary-empty-error"))),n&&t&&r&&G+A+Y!=100&&(console.log("Form: ".concat(G+A+Y," != 100")),ie=!0,Q(P("percentage-error")),V(P("percentage-error")),re(P("percentage-error"))),!ie&&p&&(x.toLowerCase()==u.je?p({entryPrice:j,countDownDuration:D,ownerPercentage:G,primaryWinnerPercentage:A,secondaryWinnerPercentage:Y}):p({entryPrice:j==b?0:j,countDownDuration:D==k?0:D,ownerPercentage:G==O?0:G,primaryWinnerPercentage:A==W?0:A,secondaryWinnerPercentage:Y==h?0:Y}))},children:[(0,r.jsx)(i.Z,{okText:P("common:ok"),mb:4,title:"".concat(P("entry-price")),name:"entry-price",type:"number",errorMessage:C,infoText:P("info-text"),info:P("entry-price-desc"),helperText:P("entry-price-help",[g.Z.format(u.bB.minEntryPrice,{locale:w})]),value:j,onChange:function(e){return ae(e.target.value,B)}}),(0,r.jsx)(i.Z,{okText:P("common:ok"),mb:4,title:"".concat(P("countdown")),name:"countdown",type:"number",errorMessage:T,infoText:P("info-text"),info:P("countdown-desc"),helperText:P("countdown-helper-text",[g.Z.format(u.bB.gameMinCountdown,{locale:w}),g.Z.format(u.bB.gameMaxCountdown,{locale:w})]),value:D,onChange:function(e){return ae(e.target.value,I)}}),(0,r.jsx)(i.Z,{okText:P("common:ok"),mb:4,title:"".concat(P("owner-percentage")),name:"owner-percentage",type:"number",errorMessage:L,infoText:P("info-text"),info:P("owner-percentage-desc"),placeholder:15,value:G,onChange:function(e){return ae(e.target.value,M)}}),(0,r.jsx)(i.Z,{okText:P("common:ok"),mb:4,title:"".concat(P("primary-percentage")),name:"primary-percentage",type:"number",errorMessage:U,infoText:P("info-text"),info:P("primary-percentage-desc"),placeholder:65,value:A,onChange:function(e){return ae(e.target.value,K)}}),(0,r.jsx)(i.Z,{okText:P("common:ok"),mb:4,title:"".concat(P("secondary-percentage")),name:"secondary-percentage",type:"number",errorMessage:te,infoText:P("info-text"),info:P("secondary-percentage-desc"),placeholder:20,value:Y,onChange:function(e){return ae(e.target.value,ee)}}),(0,r.jsx)(a.zx,{width:"full",type:"submit",textTransform:"capitalize",disabled:"italic"==y,fontStyle:y,children:P(d)})]})}},57277:function(e,n,t){t.d(n,{$x:function(){return d},vk:function(){return S},qv:function(){return P}});var r=t(35666),o=t.n(r),a=t(67294),i=t(2593),c=t(16813),s=t(81961),u=t(38188),l=t(37423),f=t(94045);function m(e,n,t,r,o,a,i){try{var c=e[a](i),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,o)}function g(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){m(a,r,o,i,c,"next",e)}function c(e){m(a,r,o,i,c,"throw",e)}i(void 0)}))}}function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){p(e,n,t[n])}))}return e}var d=function(e){var n=s.J_.idle,t=s.J_.pending,r=s.J_.ok,m=s.J_.notOk,p=(0,a.useState)({owner:s.je,entryPrice:c.HW,countDownDuration:c.HW,primaryWinnerPercentage:c.HW,secondaryWinnerPercentage:c.HW,ownerPercentage:c.HW,totalSessions:c.HW,totalPlayers:c.HW,totalProfits:c.HW,bank:c.HW,gameInfoStatus:n}),d=p[0],S=p[1],P=(0,u.s5)(),w=(0,a.useState)(),v=w[0],x=w[1],b=(0,l.Z)(v,"useGameStarted");console.log("GameEvent.Started",b);var k=(0,a.useState)(),W=k[0],h=k[1],O=(0,l.Z)(W,"useGameCanceled"),$=(0,a.useState)(),Z=$[0],j=$[1],B=(0,l.Z)(Z,"useGameFunded"),H=(0,a.useState)(),C=H[0],E=H[1],_=(0,l.Z)(C,"useGameEnded");return console.log("GameEvent.Ended",_),(0,a.useEffect)((function(){e&&(x((0,f.tz)(e)),h((0,f.ic)(e)),j((0,f.DQ)(e)),E((0,f.D_)(e)))}),[e]),(0,a.useEffect)((function(){var n=g(o().mark((function n(){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,S((function(e){return y({},e,{gameSessionInfoStatus:t})})),n.next=4,P.gameInfo(e);case 4:a=n.sent,S({owner:a.owner,entryPrice:i.O$.from(a.entryPrice.toString()),countDownDuration:i.O$.from(a.countDownDuration.toString()),primaryWinnerPercentage:i.O$.from(a.primaryWinnerPercentage.toString()),secondaryWinnerPercentage:i.O$.from(a.secondaryWinnerPercentage.toString()),ownerPercentage:i.O$.from(a.ownerPercentage.toString()),totalSessions:i.O$.from(a.totalSessions.toString()),totalPlayers:i.O$.from(a.totalPlayers.toString()),totalProfits:i.O$.from(a.totalProfits.toString()),bank:i.O$.from(a.bank.toString()),gameInfoStatus:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),S((function(e){return y({},e,{gameSessionInfoStatus:m})}));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));P&&e&&n()}),[r,m,P,e,b,O,B,_]),d},S=function(e){var n=s.J_.idle,t=s.J_.pending,r=s.J_.ok,m=s.J_.notOk,p=(0,a.useState)({startBlock:c.HW,endBlock:c.HW,playBlock:c.HW,primaryWinnerPrize:c.HW,secondaryWinnerPrize:c.HW,ownerPrize:c.HW,vaultPrize:c.HW,sessionBank:c.HW,sessionTotalPlayers:c.HW,awaitingPlayers:!1,primaryWinner:s.je,secondaryWinner:s.je,gameSessionInfoStatus:n}),d=p[0],S=p[1],P=(0,u.s5)(),w=(0,a.useState)(),v=w[0],x=w[1],b=(0,l.Z)(v,"useGameStarted"),k=(0,a.useState)(),W=k[0],h=k[1],O=(0,l.Z)(W,"useGameCanceled"),$=(0,a.useState)(),Z=$[0],j=$[1],B=(0,l.Z)(Z,"usePlayEvent"),H=(0,a.useState)(),C=H[0],E=H[1],_=(0,l.Z)(C,"useGameFunded"),D=(0,a.useState)(),I=D[0],z=D[1],T=(0,l.Z)(I,"useGameEnded");return(0,a.useEffect)((function(){e&&(x((0,f.tz)(e)),h((0,f.ic)(e)),j((0,f.Nt)(e)),E((0,f.DQ)(e)),z((0,f.D_)(e)))}),[e]),(0,a.useEffect)((function(){var n=g(o().mark((function n(){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,S((function(e){return y({},e,{gameSessionInfoStatus:t})})),n.next=4,P.gameSessionInfo(e);case 4:a=n.sent,S({startBlock:i.O$.from(a.startBlock.toString()),endBlock:i.O$.from(a.endBlock.toString()),playBlock:i.O$.from(a.playBlock.toString()),primaryWinnerPrize:i.O$.from(a.primaryWinnerPrize.toString()),secondaryWinnerPrize:i.O$.from(a.secondaryWinnerPrize.toString()),ownerPrize:i.O$.from(a.ownerPrize.toString()),vaultPrize:i.O$.from(a.vaultPrize.toString()),sessionBank:i.O$.from(a.bank.toString()),sessionTotalPlayers:i.O$.from(a.totalPlayers.toString()),awaitingPlayers:a.awaitingPlayers,primaryWinner:a.primaryWinner,secondaryWinner:a.secondaryWinner,gameSessionInfoStatus:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),S((function(e){return y({},e,{gameSessionInfoStatus:m})}));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));P&&e&&n()}),[r,m,P,e,b,O,B,_,T]),d},P=function(e){var n=s.J_.idle,t=(s.J_.pending,s.J_.ok),r=s.J_.notOk,m=(0,a.useState)({totalPlays:c.HW,totalPlaysStatus:n}),p=m[0],d=m[1],S=(0,u.s5)(),P=(0,a.useState)((0,f.sE)()),w=P[0],v=(P[1],(0,l.Z)(w));return(0,a.useEffect)((function(){var n=g(o().mark((function e(){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.currentGamePlays();case 3:n=e.sent,a=i.O$.from(n.toString()),d({totalPlays:a,totalPlaysStatus:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d((function(e){return y({},e,{totalPlaysStatus:r})}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));!S||e&&p.totalPlaysStatus==t||n()}),[t,r,S,v]),p}}}]);